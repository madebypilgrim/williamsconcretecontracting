!function r(s,a,c){function l(e,t){if(!a[e]){if(!s[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(u)return u(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var o=a[e]={exports:{}};s[e][0].call(o.exports,function(t){return l(s[e][1][t]||t)},o,o.exports,r,s,a,c)}return a[e].exports}for(var u="function"==typeof require&&require,t=0;t<c.length;t++)l(c[t]);return l}({1:[function(t,e,n){"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(t){"use strict";if("Element"in t){var e="classList",n="prototype",i=t.Element[n],o=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},c=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},l=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,o=n.length;i<o;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=l[n]=[],d=function(){return new l(this)};if(a[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return-1!==c(this,t+="")},u.add=function(){for(var t,e=arguments,n=0,i=e.length,o=!1;t=e[n]+"",-1===c(this,t)&&(this.push(t),o=!0),++n<i;);o&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,o=n.length,r=!1;do{for(t=n[i]+"",e=c(this,t);-1!==e;)this.splice(e,1),r=!0,e=c(this,t)}while(++i<o);r&&this._updateClassName()},u.toggle=function(t,e){t+="";var n=this.contains(t),i=n?!0!==e&&"remove":!1!==e&&"add";return i&&this[i](t),!0===e||!1===e?e:!n},u.toString=function(){return this.join(" ")},o.defineProperty){var f={get:d,enumerable:!0,configurable:!0};try{o.defineProperty(i,e,f)}catch(t){void 0!==t.number&&-2146823252!==t.number||(f.enumerable=!1,o.defineProperty(i,e,f))}}else o[n].__defineGetter__&&i.__defineGetter__(e,d)}}(window.self),function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var i=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var e,n=arguments.length;for(e=0;e<n;e++)t=arguments[e],i.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}t=null}())},{}],2:[function(t,e,n){!function(m,v){"use strict";if("IntersectionObserver"in m&&"IntersectionObserverEntry"in m&&"intersectionRatio"in m.IntersectionObserverEntry.prototype)"isIntersecting"in m.IntersectionObserverEntry.prototype||Object.defineProperty(m.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});else{var e=[];t.prototype.THROTTLE_TIMEOUT=100,t.prototype.POLL_INTERVAL=null,t.prototype.USE_MUTATION_OBSERVER=!0,t.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},t.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},t.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},t.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},t.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},t.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},t.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(n(m,"resize",this._checkForIntersections,!0),n(v,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in m&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(v,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},t.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,i(m,"resize",this._checkForIntersections,!0),i(v,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},t.prototype._checkForIntersections=function(){var a=this._rootIsInDom(),c=a?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(t){var e=t.element,n=g(e),i=this._rootContainsTarget(e),o=t.entry,r=a&&i&&this._computeTargetAndRootIntersection(e,c),s=t.entry=new l({time:m.performance&&performance.now&&performance.now(),target:e,boundingClientRect:n,rootBounds:c,intersectionRect:r});o?a&&i?this._hasCrossedThreshold(o,s)&&this._queuedEntries.push(s):o&&o.isIntersecting&&this._queuedEntries.push(s):this._queuedEntries.push(s)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},t.prototype._computeTargetAndRootIntersection=function(t,e){if("none"!=m.getComputedStyle(t).display){for(var n,i,o,r,s,a,c,l,u=g(t),d=y(t),f=!1;!f;){var h=null,p=1==d.nodeType?m.getComputedStyle(d):{};if("none"==p.display)return;if(d==this.root||d==v?(f=!0,h=e):d!=v.body&&d!=v.documentElement&&"visible"!=p.overflow&&(h=g(d)),h&&(n=h,i=u,void 0,o=Math.max(n.top,i.top),r=Math.min(n.bottom,i.bottom),s=Math.max(n.left,i.left),a=Math.min(n.right,i.right),l=r-o,!(u=0<=(c=a-s)&&0<=l&&{top:o,bottom:r,left:s,right:a,width:c,height:l})))break;d=y(d)}return u}},t.prototype._getRootRect=function(){var t;if(this.root)t=g(this.root);else{var e=v.documentElement,n=v.body;t={top:0,left:0,right:e.clientWidth||n.clientWidth,width:e.clientWidth||n.clientWidth,bottom:e.clientHeight||n.clientHeight,height:e.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(t)},t.prototype._expandRectByRootMargin=function(n){var t=this._rootMarginValues.map(function(t,e){return"px"==t.unit?t.value:t.value*(e%2?n.width:n.height)/100}),e={top:n.top-t[0],right:n.right+t[1],bottom:n.bottom+t[2],left:n.left-t[3]};return e.width=e.right-e.left,e.height=e.bottom-e.top,e},t.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,i=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==i)for(var o=0;o<this.thresholds.length;o++){var r=this.thresholds[o];if(r==n||r==i||r<n!=r<i)return!0}},t.prototype._rootIsInDom=function(){return!this.root||o(v,this.root)},t.prototype._rootContainsTarget=function(t){return o(this.root||v,t)},t.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},t.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},m.IntersectionObserver=t,m.IntersectionObserverEntry=l}function l(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,i=this.intersectionRect,o=i.width*i.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function t(t,e){var n,i,o,r=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout(function(){n(),o=null},i))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function n(t,e,n,i){"function"==typeof t.addEventListener?t.addEventListener(e,n,i||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function i(t,e,n,i){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,i||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function g(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function o(t,e){for(var n=e;n;){if(n==t)return!0;n=y(n)}return!1}function y(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e}}(window,document)},{}],3:[function(t,l,e){!function(f,h){"use strict";var e=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();var n,p=!1,t=void 0!==f;t&&f.getComputedStyle?(n=h.createElement("div"),["","-webkit-","-moz-","-ms-"].some(function(t){try{n.style.position=t+"sticky"}catch(t){}return""!=n.style.position})&&(p=!0)):p=!0;var r=!1,m="undefined"!=typeof ShadowRoot,s={top:null,left:null},a=[];function v(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function g(t){return parseFloat(t)||0}function y(t){for(var e=0;t;)e+=t.offsetTop,t=t.offsetParent;return e}var o=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!(e instanceof HTMLElement))throw new Error("First argument must be HTMLElement");if(a.some(function(t){return t._node===e}))throw new Error("Stickyfill is already applied to this node");this._node=e,this._stickyMode=null,this._active=!1,a.push(this),this.refresh()}return e(t,[{key:"refresh",value:function(){if(!p&&!this._removed){this._active&&this._deactivate();var t=this._node,e=getComputedStyle(t),n={position:e.position,top:e.top,display:e.display,marginTop:e.marginTop,marginBottom:e.marginBottom,marginLeft:e.marginLeft,marginRight:e.marginRight,cssFloat:e.cssFloat};if(!isNaN(parseFloat(n.top))&&"table-cell"!=n.display&&"none"!=n.display){this._active=!0;var i=t.style.position;"sticky"!=e.position&&"-webkit-sticky"!=e.position||(t.style.position="static");var o=t.parentNode,r=m&&o instanceof ShadowRoot?o.host:o,s=t.getBoundingClientRect(),a=r.getBoundingClientRect(),c=getComputedStyle(r);this._parent={node:r,styles:{position:r.style.position},offsetHeight:r.offsetHeight},this._offsetToWindow={left:s.left,right:h.documentElement.clientWidth-s.right},this._offsetToParent={top:s.top-a.top-g(c.borderTopWidth),left:s.left-a.left-g(c.borderLeftWidth),right:-s.right+a.right-g(c.borderRightWidth)},this._styles={position:i,top:t.style.top,bottom:t.style.bottom,left:t.style.left,right:t.style.right,width:t.style.width,marginTop:t.style.marginTop,marginLeft:t.style.marginLeft,marginRight:t.style.marginRight};var l=g(n.top);this._limits={start:s.top+f.pageYOffset-l,end:a.top+f.pageYOffset+r.offsetHeight-g(c.borderBottomWidth)-t.offsetHeight-l-g(n.marginBottom)};var u=c.position;"absolute"!=u&&"relative"!=u&&(r.style.position="relative"),this._recalcPosition();var d=this._clone={};d.node=h.createElement("div"),v(d.node.style,{width:s.right-s.left+"px",height:s.bottom-s.top+"px",marginTop:n.marginTop,marginBottom:n.marginBottom,marginLeft:n.marginLeft,marginRight:n.marginRight,cssFloat:n.cssFloat,padding:0,border:0,borderSpacing:0,fontSize:"1em",position:"static"}),o.insertBefore(d.node,t),d.docOffsetTop=y(d.node)}}}},{key:"_recalcPosition",value:function(){if(this._active&&!this._removed){var t=s.top<=this._limits.start?"start":s.top>=this._limits.end?"end":"middle";if(this._stickyMode!=t){switch(t){case"start":v(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:this._offsetToParent.top+"px",bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"middle":v(this._node.style,{position:"fixed",left:this._offsetToWindow.left+"px",right:this._offsetToWindow.right+"px",top:this._styles.top,bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"end":v(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:"auto",bottom:0,width:"auto",marginLeft:0,marginRight:0})}this._stickyMode=t}}}},{key:"_fastCheck",value:function(){this._active&&!this._removed&&(1<Math.abs(y(this._clone.node)-this._clone.docOffsetTop)||1<Math.abs(this._parent.node.offsetHeight-this._parent.offsetHeight))&&this.refresh()}},{key:"_deactivate",value:function(){var e=this;this._active&&!this._removed&&(this._clone.node.parentNode.removeChild(this._clone.node),delete this._clone,v(this._node.style,this._styles),delete this._styles,a.some(function(t){return t!==e&&t._parent&&t._parent.node===e._parent.node})||v(this._parent.node.style,this._parent.styles),delete this._parent,this._stickyMode=null,this._active=!1,delete this._offsetToWindow,delete this._offsetToParent,delete this._limits)}},{key:"remove",value:function(){var n=this;this._deactivate(),a.some(function(t,e){if(t._node===n._node)return a.splice(e,1),!0}),this._removed=!0}}]),t}(),c={stickies:a,Sticky:o,forceSticky:function(){p=!1,i(),this.refreshAll()},addOne:function(t){if(!(t instanceof HTMLElement)){if(!t.length||!t[0])return;t=t[0]}for(var e=0;e<a.length;e++)if(a[e]._node===t)return a[e];return new o(t)},add:function(n){if(n instanceof HTMLElement&&(n=[n]),n.length){for(var i=[],t=function(t){var e=n[t];return e instanceof HTMLElement?a.some(function(t){if(t._node===e)return i.push(t),!0})?"continue":void i.push(new o(e)):(i.push(void 0),"continue")},e=0;e<n.length;e++)t(e);return i}},refreshAll:function(){a.forEach(function(t){return t.refresh()})},removeOne:function(e){if(!(e instanceof HTMLElement)){if(!e.length||!e[0])return;e=e[0]}a.some(function(t){if(t._node===e)return t.remove(),!0})},remove:function(n){if(n instanceof HTMLElement&&(n=[n]),n.length)for(var t=function(t){var e=n[t];a.some(function(t){if(t._node===e)return t.remove(),!0})},e=0;e<n.length;e++)t(e)},removeAll:function(){for(;a.length;)a[0].remove()}};function i(){if(!r){r=!0,i(),f.addEventListener("scroll",i),f.addEventListener("resize",c.refreshAll),f.addEventListener("orientationchange",c.refreshAll);var t=void 0,e=void 0,n=void 0;"hidden"in h?(e="hidden",n="visibilitychange"):"webkitHidden"in h&&(e="webkitHidden",n="webkitvisibilitychange"),n?(h[e]||o(),h.addEventListener(n,function(){h[e]?clearInterval(t):o()})):o()}function i(){f.pageXOffset!=s.left?(s.top=f.pageYOffset,s.left=f.pageXOffset,c.refreshAll()):f.pageYOffset!=s.top&&(s.top=f.pageYOffset,s.left=f.pageXOffset,a.forEach(function(t){return t._recalcPosition()}))}function o(){t=setInterval(function(){a.forEach(function(t){return t._fastCheck()})},500)}}p||i(),void 0!==l&&l.exports?l.exports=c:t&&(f.Stickyfill=c)}(window,document)},{}],4:[function(t,e,n){!function(){"use strict";if("undefined"!=typeof window&&window.addEventListener){var t,e,n,m=Object.create(null),v=function(){clearTimeout(e),e=setTimeout(t,100)},g=function(){},y=function(t){function e(t){var e;return void 0!==t.protocol?e=t:(e=document.createElement("a")).href=t,e.protocol.replace(/:/g,"")+e.host}var n,i,o;return window.XMLHttpRequest&&(n=new XMLHttpRequest,i=e(location),o=e(t),n=void 0===n.withCredentials&&""!==o&&o!==i?XDomainRequest||void 0:XMLHttpRequest),n},w="http://www.w3.org/1999/xlink";t=function(){var t,e,n,i,o,r,s,a,c,l,u=0;function d(){var t;0===(u-=1)&&(g(),window.addEventListener("resize",v,!1),window.addEventListener("orientationchange",v,!1),g=window.MutationObserver?((t=new MutationObserver(v)).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),function(){try{t.disconnect(),window.removeEventListener("resize",v,!1),window.removeEventListener("orientationchange",v,!1)}catch(t){}}):(document.documentElement.addEventListener("DOMSubtreeModified",v,!1),function(){document.documentElement.removeEventListener("DOMSubtreeModified",v,!1),window.removeEventListener("resize",v,!1),window.removeEventListener("orientationchange",v,!1)}))}function f(t){return function(){!0!==m[t.base]&&(t.useEl.setAttributeNS(w,"xlink:href","#"+t.hash),t.useEl.hasAttribute("href")&&t.useEl.setAttribute("href","#"+t.hash))}}function h(i){return function(){var t,e=document.body,n=document.createElement("x");i.onload=null,n.innerHTML=i.responseText,(t=n.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",e.insertBefore(t,e.firstChild)),d()}}function p(t){return function(){t.onerror=null,t.ontimeout=null,d()}}for(g(),c=document.getElementsByTagName("use"),o=0;o<c.length;o+=1){try{e=c[o].getBoundingClientRect()}catch(t){e=!1}t=(a=(i=c[o].getAttribute("href")||c[o].getAttributeNS(w,"href")||c[o].getAttribute("xlink:href"))&&i.split?i.split("#"):["",""])[0],n=a[1],r=e&&0===e.left&&0===e.right&&0===e.top&&0===e.bottom,e&&0===e.width&&0===e.height&&!r?(c[o].hasAttribute("href")&&c[o].setAttributeNS(w,"xlink:href",i),t.length&&(!0!==(l=m[t])&&setTimeout(f({useEl:c[o],base:t,hash:n}),0),void 0===l&&void 0!==(s=y(t))&&(l=new s,(m[t]=l).onload=h(l),l.onerror=p(l),l.ontimeout=p(l),l.open("GET",t),l.send(),u+=1))):r?t.length&&m[t]&&setTimeout(f({useEl:c[o],base:t,hash:n}),0):void 0===m[t]?m[t]=!0:m[t].onload&&(m[t].abort(),delete m[t].onload,m[t]=!0)}c="",u+=1,d()},n=function(){window.removeEventListener("load",n,!1),e=setTimeout(t,0)},"complete"!==document.readyState?window.addEventListener("load",n,!1):n()}}()},{}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=t("../utilities/custom-events");n.default=function t(e){var n=e.id,i=e.loadingClass;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=document.getElementById(n),r=!1;window.addEventListener(s.events.startLoader,function(){r=!0,setTimeout(function(){r=!1},1e3),o.classList.add(i)}),window.addEventListener(s.events.stopLoader,function t(){r?setTimeout(t,1e3/60):o.classList.remove(i)})}},{"../utilities/custom-events":21}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t("../utilities/custom-events"),c=t("../utilities/scroll");n.default=function t(e){var n=e.id,i=e.lockedClass,o=e.activeClass,r=e.unloadingClass;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s=document.getElementById(n);window.addEventListener(a.events.lockScroll,function(t){document.body.classList.add(i)}),window.addEventListener(a.events.unlockScroll,function(){document.body.classList.remove(i)}),window.addEventListener(a.events.unloadRoute,function(){s.classList.add(r),setTimeout(function(){(0,c.scrollTop)(document.body,0,function(){})},500)}),s.classList.add(o)}},{"../utilities/custom-events":21,"../utilities/scroll":23}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var p=t("../utilities/custom-events"),m=t("../utilities/components");n.default=function t(e){var n=e.id,i=e.overlayHandle,o=e.closeHandle,r=e.contentHandle,s=e.activeClass;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var l=document.getElementById(n),a=l.querySelector(i),u=l.querySelector(r),c=l.querySelector(o);function d(t){27===t.keyCode&&(0,p.emitEvent)(p.events.closeModal)}function f(){(0,p.emitEvent)(p.events.lockScroll),l.classList.add(s),document.addEventListener("keyup",d)}function h(t){t.preventDefault(),(0,p.emitEvent)(p.events.closeModal)}window.addEventListener(p.events.openModal,f),window.addEventListener(p.events.closeModal,function(){(0,p.emitEvent)(p.events.unlockScroll),l.classList.remove(s),document.removeEventListener("keyup",d)}),window.addEventListener(p.events.loadModal,function(t){var e=t.detail,n=e.markup,i=e.full,o=void 0===i?"false":i,r=e.position,s=void 0===r?"center":r,a=e.size,c=void 0===a?"lg":a;l.setAttribute("data-full",o),l.setAttribute("data-position",s),l.setAttribute("data-size",c),(0,m.injectMarkup)(u,n),f()}),c.addEventListener("click",h),a.addEventListener("click",h)}},{"../utilities/components":20,"../utilities/custom-events":21}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.siteHandle="williamsconcretecontracting"},{}],9:[function(t,e,n){"use strict";t("./polyfills");var i=a(t("./components/loader")),o=a(t("./components/main")),r=a(t("./components/modal")),s=t("./utilities/components");function a(t){return t&&t.__esModule?t:{default:t}}var c={loader:i.default,main:o.default,modal:r.default};document.addEventListener("DOMContentLoaded",function(){(0,s.instantiate)(c)})},{"./components/loader":5,"./components/main":6,"./components/modal":7,"./polyfills":15,"./utilities/components":20}],10:[function(t,e,n){"use strict";Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),i=n.length>>>0,o=arguments[1],r=0;r<i;r++)if(e=n[r],t.call(o,e,r,n))return e}})},{}],11:[function(t,e,n){"use strict";Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),i=n.length>>>0,o=arguments[1],r=0;r<i;r++)if(e=n[r],t.call(o,e,r,n))return r;return-1},enumerable:!1,configurable:!1,writable:!1})},{}],12:[function(t,e,n){"use strict";[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})},{}],13:[function(t,e,n){"use strict";var i,c,o,l;Array.from||(Array.from=(i=Object.prototype.toString,c=function(t){return"function"==typeof t||"[object Function]"===i.call(t)},o=Math.pow(2,53)-1,l=function(t){var e,n=(e=Number(t),isNaN(e)?0:0!==e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e);return Math.min(Math.max(n,0),o)},function(t){var e=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,i=1<arguments.length?arguments[1]:void 0;if(void 0!==i){if(!c(i))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(n=arguments[2])}for(var o,r=l(e.length),s=c(this)?Object(new this(r)):new Array(r),a=0;a<r;)o=e[a],s[a]=i?void 0===n?i(o,a):i.call(n,o,a):o,a+=1;return s.length=r,s}))},{}],14:[function(t,e,n){"use strict";var i;(i=window.Node||window.Element)&&i.prototype&&null==i.prototype.children&&Object.defineProperty(i.prototype,"children",{get:function(){for(var t,e=0,n=this.childNodes,i=[];t=n[e++];)1===t.nodeType&&i.push(t);return i}})},{}],15:[function(t,e,n){"use strict";t("classlist-polyfill"),t("intersection-observer"),t("svgxuse"),t("./array-find"),t("./array-findindex"),t("./array-foreach"),t("./array-from"),t("./element-children"),t("./object-assign"),t("./string-includes"),t("./window-customevent"),t("./window-requestanimationframe")},{"./array-find":10,"./array-findindex":11,"./array-foreach":12,"./array-from":13,"./element-children":14,"./object-assign":16,"./string-includes":17,"./window-customevent":18,"./window-requestanimationframe":19,"classlist-polyfill":1,"intersection-observer":2,svgxuse:4}],16:[function(t,e,n){"use strict";"function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])}return n})},{}],17:[function(t,e,n){"use strict";String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)})},{}],18:[function(t,e,n){"use strict";!function(){if("function"==typeof window.CustomEvent)return;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}t.prototype=window.Event.prototype,window.CustomEvent=t}()},{}],19:[function(t,e,n){"use strict";!function(){for(var r=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var n=(new Date).getTime(),i=Math.max(0,16-(n-r)),o=window.setTimeout(function(){t(n+i)},i);return r=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},{}],20:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};exports.instantiate=instantiate,exports.injectMarkup=injectMarkup;var _config=require("../config"),_spy=require("./spy"),_classMap=null;function instantiate(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(null!==t&&(_classMap=t),null!==_classMap){for(;0<window[_config.siteHandle].components.length;){var e=window[_config.siteHandle],n=e.components,i=e.state,o=n.shift(),r=_classMap[o.handle];"function"==typeof r&&new r(_extends({},o,{state:i}))}(0,_spy.spySections)(),(0,_spy.stick)()}}function injectMarkup(){var container=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,markup=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",append=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(container){append?container.insertAdjacentHTML("beforeend",markup):container.innerHTML=markup;var scripts=container.querySelectorAll("script");Array.from(scripts).filter(function(t){return t.textContent.includes(""+_config.siteHandle)}).forEach(function(script){eval(script.textContent)}),instantiate()}}},{"../config":8,"./spy":24}],21:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.emitEvent=function(t,e){var n=new CustomEvent(t,{detail:e});window.dispatchEvent(n)};n.events={lockScroll:"lock-scroll",unlockScroll:"unlock-scroll",loadRoute:"load-route",unloadRoute:"unload-route",showHeader:"show-header",hideHeader:"hide-header",openModal:"open-modal",closeModal:"close-modal",loadModal:"load-modal",startLoader:"start-loader",stopLoader:"stop-loader",showFormErrors:"show-form-errors"}},{}],22:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(i){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=arguments[2],s=void 0;return function(){var t=this,e=arguments,n=r&&!s;clearTimeout(s),s=setTimeout(function(){s=null,r||i.apply(t,e)},o),n&&i.apply(t,e)}}},{}],23:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scrollTo=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=document.getElementById(t).getBoundingClientRect().top+window.pageYOffset-e;clearTimeout(r),s(),window.requestAnimationFrame(function(){return f(i,n)}),window.history&&window.history.pushState?window.history.pushState(window.history.state,null,"#"+t):window.location.hash="#"+t},n.scrollTop=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=t.getBoundingClientRect().top+window.pageYOffset-e;clearTimeout(r),s(),window.requestAnimationFrame(function(){return f(o,n,i)})},n.scrollBottom=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=t.getBoundingClientRect().top+t.offsetHeight+window.pageYOffset-e;clearTimeout(r),s(),window.requestAnimationFrame(function(){return f(i,n)})};var l=.1,u=.5,d=0,r=null;function f(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2]?u:l,i=window.pageYOffset,o=i<t,r=Math.abs(i-t)*n+1,s=o?i+r:i-r,a=o?t<=s:s<=t,c=!!o&&window.innerHeight+window.pageYOffset+5>=document.body.offsetHeight;window.scrollTo(0,s),a||c||!d?e&&e():window.requestAnimationFrame(function(){return f(t,e)})}function s(){d=1,r=setTimeout(function(){d=0},2500)}},{}],24:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.spySections=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".spy",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"in-view",e=document.querySelectorAll(t);var i=new IntersectionObserver(function(t,e){0===t.length&&e.disconnect();Array.from(t).filter(function(t){return t.target.classList.contains(n)||t.intersectionRatio>(t.target.getAttribute("data-threshold")||.5)}).forEach(function(t){t.target.classList.add(n),e.unobserve(t.target)})},{threshold:[0,.25,.5,.75,1]});Array.from(e).forEach(function(t){i.observe(t)})},n.spyAnchors=function(t){var e=t.links,o=void 0===e?[]:e,n=t.sections,i=void 0===n?[]:n,r=t.activeClass,s=void 0===r?"is-active":r,a=t.threshold,c=void 0===a?window.innerHeight/2:a,l=t.scrollContainer,u=void 0===l?window:l,d=t.cb,f=void 0===d?null:d;if(!i)return;u.addEventListener("scroll",function(){Array.from(i).forEach(function(t,n){var e=t.getBoundingClientRect();if(!(e.top>c||e.bottom<c)){var i=Array.from(o).filter(function(t,e){return t.classList.toggle(s,n===e)});f&&f(i[0])}})})},n.spyNav=function(t){var e=t.el,n=t.nav,i=void 0===n?e:n,o=t.fixedClass,r=void 0===o?"is-fixed":o,s=t.threshold,a=void 0===s?1:s,c=t.cb,l=!1,u=0,d=(0,f.default)(function(){if(l){var t=window.pageYOffset;Math.abs(t-u)<5||(c(u<t),u=t)}else u=0},250);window.addEventListener("scroll",d),new IntersectionObserver(function(t){l=e.classList.toggle(r,t[0].boundingClientRect.top<0),c(l)},{threshold:a}).observe(i)},n.stick=function(){var t=document.querySelectorAll('[data-sticky="true"]');Array.from(t).filter(function(t){return!t.getAttribute("data-stuck")}).forEach(function(t){i.default.addOne(t),t.setAttribute("data-stuck",!0)})};var i=o(t("stickyfilljs")),f=o(t("../utilities/debouncer"));function o(t){return t&&t.__esModule?t:{default:t}}},{"../utilities/debouncer":22,stickyfilljs:3}]},{},[9]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvY2xhc3NsaXN0LXBvbHlmaWxsL3NyYy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9pbnRlcnNlY3Rpb24tb2JzZXJ2ZXIvaW50ZXJzZWN0aW9uLW9ic2VydmVyLmpzIiwibm9kZV9tb2R1bGVzL3N0aWNreWZpbGxqcy9kaXN0L3N0aWNreWZpbGwuanMiLCJub2RlX21vZHVsZXMvc3ZneHVzZS9zdmd4dXNlLmpzIiwic3JjL3NjcmlwdHMvY29tcG9uZW50cy9sb2FkZXIuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL21haW4uanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL21vZGFsLmpzIiwic3JjL3NjcmlwdHMvY29uZmlnLmpzIiwic3JjL3NjcmlwdHMvaW5kZXguanMiLCJzcmMvc2NyaXB0cy9wb2x5ZmlsbHMvYXJyYXktZmluZC5qcyIsInNyYy9zY3JpcHRzL3BvbHlmaWxscy9hcnJheS1maW5kaW5kZXguanMiLCJzcmMvc2NyaXB0cy9wb2x5ZmlsbHMvYXJyYXktZm9yZWFjaC5qcyIsInNyYy9zY3JpcHRzL3BvbHlmaWxscy9hcnJheS1mcm9tLmpzIiwic3JjL3NjcmlwdHMvcG9seWZpbGxzL2VsZW1lbnQtY2hpbGRyZW4uanMiLCJzcmMvc2NyaXB0cy9wb2x5ZmlsbHMvaW5kZXguanMiLCJzcmMvc2NyaXB0cy9wb2x5ZmlsbHMvb2JqZWN0LWFzc2lnbi5qcyIsInNyYy9zY3JpcHRzL3BvbHlmaWxscy9zdHJpbmctaW5jbHVkZXMuanMiLCJzcmMvc2NyaXB0cy9wb2x5ZmlsbHMvd2luZG93LWN1c3RvbWV2ZW50LmpzIiwic3JjL3NjcmlwdHMvcG9seWZpbGxzL3dpbmRvdy1yZXF1ZXN0YW5pbWF0aW9uZnJhbWUuanMiLCJzcmMvc2NyaXB0cy91dGlsaXRpZXMvY29tcG9uZW50cy5qcyIsInNyYy9zY3JpcHRzL3V0aWxpdGllcy9jdXN0b20tZXZlbnRzLmpzIiwic3JjL3NjcmlwdHMvdXRpbGl0aWVzL2RlYm91bmNlci5qcyIsInNyYy9zY3JpcHRzL3V0aWxpdGllcy9zY3JvbGwuanMiLCJzcmMvc2NyaXB0cy91dGlsaXRpZXMvc3B5LmpzIl0sIm5hbWVzIjpbInIiLCJlIiwibiIsInQiLCJvIiwiaSIsImYiLCJjIiwicmVxdWlyZSIsInUiLCJhIiwiRXJyb3IiLCJjb2RlIiwicCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsIndpbmRvdyIsInNlbGYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJ2aWV3IiwiY2xhc3NMaXN0UHJvcCIsInByb3RvUHJvcCIsImVsZW1DdHJQcm90byIsIkVsZW1lbnQiLCJvYmpDdHIiLCJPYmplY3QiLCJzdHJUcmltIiwiU3RyaW5nIiwidHJpbSIsInRoaXMiLCJyZXBsYWNlIiwiYXJySW5kZXhPZiIsIkFycmF5IiwiaW5kZXhPZiIsIml0ZW0iLCJsZW4iLCJET01FeCIsInR5cGUiLCJtZXNzYWdlIiwibmFtZSIsIkRPTUV4Y2VwdGlvbiIsImNoZWNrVG9rZW5BbmRHZXRJbmRleCIsImNsYXNzTGlzdCIsInRva2VuIiwidGVzdCIsIkNsYXNzTGlzdCIsImVsZW0iLCJ0cmltbWVkQ2xhc3NlcyIsImdldEF0dHJpYnV0ZSIsImNsYXNzZXMiLCJzcGxpdCIsInB1c2giLCJfdXBkYXRlQ2xhc3NOYW1lIiwic2V0QXR0cmlidXRlIiwidG9TdHJpbmciLCJjbGFzc0xpc3RQcm90byIsImNsYXNzTGlzdEdldHRlciIsImNvbnRhaW5zIiwiYWRkIiwidG9rZW5zIiwiYXJndW1lbnRzIiwibCIsInVwZGF0ZWQiLCJyZW1vdmUiLCJpbmRleCIsInNwbGljZSIsInRvZ2dsZSIsImZvcmNlIiwicmVzdWx0IiwibWV0aG9kIiwiam9pbiIsImRlZmluZVByb3BlcnR5IiwiY2xhc3NMaXN0UHJvcERlc2MiLCJnZXQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiZXgiLCJ1bmRlZmluZWQiLCJudW1iZXIiLCJfX2RlZmluZUdldHRlcl9fIiwidGVzdEVsZW1lbnQiLCJjcmVhdGVNZXRob2QiLCJvcmlnaW5hbCIsIkRPTVRva2VuTGlzdCIsInByb3RvdHlwZSIsIl90b2dnbGUiLCJJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5IiwiaW50ZXJzZWN0aW9uUmF0aW8iLCJyZWdpc3RyeSIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiVEhST1RUTEVfVElNRU9VVCIsIlBPTExfSU5URVJWQUwiLCJVU0VfTVVUQVRJT05fT0JTRVJWRVIiLCJvYnNlcnZlIiwidGFyZ2V0IiwiX29ic2VydmF0aW9uVGFyZ2V0cyIsInNvbWUiLCJlbGVtZW50Iiwibm9kZVR5cGUiLCJfcmVnaXN0ZXJJbnN0YW5jZSIsImVudHJ5IiwiX21vbml0b3JJbnRlcnNlY3Rpb25zIiwiX2NoZWNrRm9ySW50ZXJzZWN0aW9ucyIsInVub2JzZXJ2ZSIsImZpbHRlciIsIl91bm1vbml0b3JJbnRlcnNlY3Rpb25zIiwiX3VucmVnaXN0ZXJJbnN0YW5jZSIsImRpc2Nvbm5lY3QiLCJ0YWtlUmVjb3JkcyIsInJlY29yZHMiLCJfcXVldWVkRW50cmllcyIsInNsaWNlIiwiX2luaXRUaHJlc2hvbGRzIiwib3B0X3RocmVzaG9sZCIsInRocmVzaG9sZCIsImlzQXJyYXkiLCJzb3J0IiwiaXNOYU4iLCJfcGFyc2VSb290TWFyZ2luIiwib3B0X3Jvb3RNYXJnaW4iLCJtYXJnaW5zIiwibWFwIiwibWFyZ2luIiwicGFydHMiLCJleGVjIiwidmFsdWUiLCJwYXJzZUZsb2F0IiwidW5pdCIsIl9tb25pdG9yaW5nSW50ZXJzZWN0aW9ucyIsIl9tb25pdG9yaW5nSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImFkZEV2ZW50IiwiX2RvbU9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsImF0dHJpYnV0ZXMiLCJjaGlsZExpc3QiLCJjaGFyYWN0ZXJEYXRhIiwic3VidHJlZSIsImNsZWFySW50ZXJ2YWwiLCJyZW1vdmVFdmVudCIsInJvb3RJc0luRG9tIiwiX3Jvb3RJc0luRG9tIiwicm9vdFJlY3QiLCJfZ2V0Um9vdFJlY3QiLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJ3aWR0aCIsImhlaWdodCIsImZvckVhY2giLCJ0YXJnZXRSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwicm9vdENvbnRhaW5zVGFyZ2V0IiwiX3Jvb3RDb250YWluc1RhcmdldCIsIm9sZEVudHJ5IiwiaW50ZXJzZWN0aW9uUmVjdCIsIl9jb21wdXRlVGFyZ2V0QW5kUm9vdEludGVyc2VjdGlvbiIsIm5ld0VudHJ5IiwidGltZSIsInBlcmZvcm1hbmNlIiwibm93IiwiYm91bmRpbmdDbGllbnRSZWN0Iiwicm9vdEJvdW5kcyIsIl9oYXNDcm9zc2VkVGhyZXNob2xkIiwiaXNJbnRlcnNlY3RpbmciLCJfY2FsbGJhY2siLCJnZXRDb21wdXRlZFN0eWxlIiwiZGlzcGxheSIsInJlY3QxIiwicmVjdDIiLCJwYXJlbnQiLCJnZXRQYXJlbnROb2RlIiwiYXRSb290IiwicGFyZW50UmVjdCIsInBhcmVudENvbXB1dGVkU3R5bGUiLCJyb290IiwiYm9keSIsImRvY3VtZW50RWxlbWVudCIsIm92ZXJmbG93IiwiTWF0aCIsIm1heCIsIm1pbiIsImh0bWwiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsIl9leHBhbmRSZWN0QnlSb290TWFyZ2luIiwicmVjdCIsIl9yb290TWFyZ2luVmFsdWVzIiwibmV3UmVjdCIsIm9sZFJhdGlvIiwibmV3UmF0aW8iLCJ0aHJlc2hvbGRzIiwiY29udGFpbnNEZWVwIiwidGFyZ2V0QXJlYSIsImludGVyc2VjdGlvbkFyZWEiLCJOdW1iZXIiLCJ0b0ZpeGVkIiwiY2FsbGJhY2siLCJvcHRfb3B0aW9ucyIsImZuIiwidGltZW91dCIsInRpbWVyIiwib3B0aW9ucyIsImJpbmQiLCJzZXRUaW1lb3V0Iiwicm9vdE1hcmdpbiIsIm5vZGUiLCJldmVudCIsIm9wdF91c2VDYXB0dXJlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGF0Y2hFdmVudCIsImVsIiwiZXJyIiwiY2hpbGQiLCJwYXJlbnROb2RlIiwiaG9zdCIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJ3cml0YWJsZSIsImtleSIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwidGVzdE5vZGUiLCJzZXBwdWt1IiwiaXNXaW5kb3dEZWZpbmVkIiwicHJlZml4Iiwic3R5bGUiLCJwb3NpdGlvbiIsImlzSW5pdGlhbGl6ZWQiLCJzaGFkb3dSb290RXhpc3RzIiwiU2hhZG93Um9vdCIsInNjcm9sbCIsInN0aWNraWVzIiwiZXh0ZW5kIiwidGFyZ2V0T2JqIiwic291cmNlT2JqZWN0IiwiaGFzT3duUHJvcGVydHkiLCJwYXJzZU51bWVyaWMiLCJ2YWwiLCJnZXREb2NPZmZzZXRUb3AiLCJkb2NPZmZzZXRUb3AiLCJvZmZzZXRUb3AiLCJvZmZzZXRQYXJlbnQiLCJTdGlja3kiLCJpbnN0YW5jZSIsIlR5cGVFcnJvciIsIl9jbGFzc0NhbGxDaGVjayIsIkhUTUxFbGVtZW50Iiwic3RpY2t5IiwiX25vZGUiLCJfc3RpY2t5TW9kZSIsIl9hY3RpdmUiLCJyZWZyZXNoIiwiX3JlbW92ZWQiLCJfZGVhY3RpdmF0ZSIsIm5vZGVDb21wdXRlZFN0eWxlIiwibm9kZUNvbXB1dGVkUHJvcHMiLCJtYXJnaW5Ub3AiLCJtYXJnaW5Cb3R0b20iLCJtYXJnaW5MZWZ0IiwibWFyZ2luUmlnaHQiLCJjc3NGbG9hdCIsIm9yaWdpbmFsUG9zaXRpb24iLCJyZWZlcmVuY2VOb2RlIiwibm9kZVdpbk9mZnNldCIsInBhcmVudFdpbk9mZnNldCIsIl9wYXJlbnQiLCJzdHlsZXMiLCJvZmZzZXRIZWlnaHQiLCJfb2Zmc2V0VG9XaW5kb3ciLCJfb2Zmc2V0VG9QYXJlbnQiLCJib3JkZXJUb3BXaWR0aCIsImJvcmRlckxlZnRXaWR0aCIsImJvcmRlclJpZ2h0V2lkdGgiLCJfc3R5bGVzIiwibm9kZVRvcFZhbHVlIiwiX2xpbWl0cyIsInN0YXJ0IiwicGFnZVlPZmZzZXQiLCJlbmQiLCJib3JkZXJCb3R0b21XaWR0aCIsInBhcmVudFBvc2l0aW9uIiwiX3JlY2FsY1Bvc2l0aW9uIiwiY2xvbmUiLCJfY2xvbmUiLCJwYWRkaW5nIiwiYm9yZGVyIiwiYm9yZGVyU3BhY2luZyIsImZvbnRTaXplIiwiaW5zZXJ0QmVmb3JlIiwic3RpY2t5TW9kZSIsImFicyIsIl90aGlzIiwicmVtb3ZlQ2hpbGQiLCJfdGhpczIiLCJTdGlja3lmaWxsIiwiZm9yY2VTdGlja3kiLCJpbml0IiwicmVmcmVzaEFsbCIsImFkZE9uZSIsIm5vZGVMaXN0IiwiYWRkZWRTdGlja2llcyIsIl9sb29wIiwicmVtb3ZlT25lIiwiX2xvb3AyIiwicmVtb3ZlQWxsIiwiY2hlY2tTY3JvbGwiLCJmYXN0Q2hlY2tUaW1lciIsImRvY0hpZGRlbktleSIsInZpc2liaWxpdHlDaGFuZ2VFdmVudE5hbWUiLCJzdGFydEZhc3RDaGVja1RpbWVyIiwicGFnZVhPZmZzZXQiLCJfZmFzdENoZWNrIiwiY2hlY2tVc2VFbGVtcyIsInRpZCIsIndpbkxvYWQiLCJjYWNoZSIsImNyZWF0ZSIsImRlYm91bmNlZENoZWNrIiwiY2xlYXJUaW1lb3V0IiwidW5vYnNlcnZlQ2hhbmdlcyIsImNyZWF0ZVJlcXVlc3QiLCJ1cmwiLCJnZXRPcmlnaW4iLCJsb2MiLCJwcm90b2NvbCIsImhyZWYiLCJSZXF1ZXN0Iiwib3JpZ2luIiwib3JpZ2luMiIsIlhNTEh0dHBSZXF1ZXN0IiwibG9jYXRpb24iLCJ3aXRoQ3JlZGVudGlhbHMiLCJYRG9tYWluUmVxdWVzdCIsInhsaW5rTlMiLCJiYXNlIiwiYmNyIiwiaGFzaCIsImlzSGlkZGVuIiwidXNlcyIsInhociIsImluUHJvZ3Jlc3NDb3VudCIsIm9ic2VydmVJZkRvbmUiLCJvYnNlcnZlciIsImlnbm9yZSIsImF0dHJVcGRhdGVGdW5jIiwic3BlYyIsInVzZUVsIiwic2V0QXR0cmlidXRlTlMiLCJoYXNBdHRyaWJ1dGUiLCJvbmxvYWRGdW5jIiwic3ZnIiwieCIsIm9ubG9hZCIsImlubmVySFRNTCIsInJlc3BvbnNlVGV4dCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZmlyc3RDaGlsZCIsIm9uRXJyb3JUaW1lb3V0Iiwib25lcnJvciIsIm9udGltZW91dCIsImdldEF0dHJpYnV0ZU5TIiwib3BlbiIsInNlbmQiLCJhYm9ydCIsInJlYWR5U3RhdGUiLCJfY3VzdG9tRXZlbnRzIiwiX2NsYXNzIiwiX3JlZiIsImlkIiwibG9hZGluZ0NsYXNzIiwiZ2V0RWxlbWVudEJ5SWQiLCJhbmltYXRpbmciLCJldmVudHMiLCJzdGFydExvYWRlciIsInN0b3BMb2FkZXIiLCJoYW5kbGVTdG9wTG9hZGVyIiwiX3Njcm9sbCIsImxvY2tlZENsYXNzIiwiYWN0aXZlQ2xhc3MiLCJ1bmxvYWRpbmdDbGFzcyIsImxvY2tTY3JvbGwiLCJ1bmxvY2tTY3JvbGwiLCJ1bmxvYWRSb3V0ZSIsInNjcm9sbFRvcCIsIl9jb21wb25lbnRzIiwib3ZlcmxheUhhbmRsZSIsImNsb3NlSGFuZGxlIiwiY29udGVudEhhbmRsZSIsIm92ZXJsYXkiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb3NlIiwiaGFuZGxlS2V5dXAiLCJrZXlDb2RlIiwiZW1pdEV2ZW50IiwiY2xvc2VNb2RhbCIsImhhbmRsZU9wZW5Nb2RhbCIsImhhbmRsZUNsaWNrIiwicHJldmVudERlZmF1bHQiLCJvcGVuTW9kYWwiLCJsb2FkTW9kYWwiLCJfZSRkZXRhaWwiLCJkZXRhaWwiLCJtYXJrdXAiLCJfZSRkZXRhaWwkZnVsbCIsImZ1bGwiLCJfZSRkZXRhaWwkcG9zaXRpb24iLCJfZSRkZXRhaWwkc2l6ZSIsInNpemUiLCJpbmplY3RNYXJrdXAiLCJzaXRlSGFuZGxlIiwiY2xhc3NNYXAiLCJsb2FkZXIiLCJfbG9hZGVyMiIsImRlZmF1bHQiLCJtYWluIiwiX21haW4yIiwibW9kYWwiLCJfbW9kYWwyIiwiaW5zdGFudGlhdGUiLCJmaW5kIiwicHJlZGljYXRlIiwibGlzdCIsInRoaXNBcmciLCJmaW5kSW5kZXgiLCJDaGFyYWN0ZXJEYXRhIiwiRG9jdW1lbnRUeXBlIiwidG9TdHIiLCJpc0NhbGxhYmxlIiwibWF4U2FmZUludGVnZXIiLCJ0b0xlbmd0aCIsImZyb20iLCJwb3ciLCJpc0Zpbml0ZSIsImZsb29yIiwiYXJyYXlMaWtlIiwiaXRlbXMiLCJUIiwibWFwRm4iLCJrVmFsdWUiLCJBIiwiayIsImNvbnN0cnVjdG9yIiwiTm9kZSIsImNoaWxkcmVuIiwibm9kZXMiLCJjaGlsZE5vZGVzIiwiYXNzaWduIiwidmFyQXJncyIsInRvIiwibmV4dFNvdXJjZSIsIm5leHRLZXkiLCJpbmNsdWRlcyIsInNlYXJjaCIsIkN1c3RvbUV2ZW50IiwicGFyYW1zIiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJldnQiLCJjcmVhdGVFdmVudCIsImluaXRDdXN0b21FdmVudCIsIkV2ZW50IiwibGFzdFRpbWUiLCJ2ZW5kb3JzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJjdXJyVGltZSIsIkRhdGUiLCJnZXRUaW1lIiwidGltZVRvQ2FsbCIsIl9jb25maWciLCJfc3B5IiwiX2NsYXNzTWFwIiwiY29tcG9uZW50cyIsIl93aW5kb3ckc2l0ZUhhbmRsZSIsInN0YXRlIiwiY29uZmlnIiwic2hpZnQiLCJDbGFzcyIsImhhbmRsZSIsIl9leHRlbmRzIiwic3B5U2VjdGlvbnMiLCJzdGljayIsImNvbnRhaW5lciIsImFwcGVuZCIsImluc2VydEFkamFjZW50SFRNTCIsInNjcmlwdHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2NyaXB0IiwidGV4dENvbnRlbnQiLCJldmFsIiwiZXZlbnRIYW5kbGUiLCJldmVudERldGFpbHMiLCJkaXNwYXRjaEV2ZW50IiwibG9hZFJvdXRlIiwic2hvd0hlYWRlciIsImhpZGVIZWFkZXIiLCJzaG93Rm9ybUVycm9ycyIsImZ1bmMiLCJ3YWl0IiwiaW1tZWRpYXRlIiwiY29udGV4dCIsImFyZ3MiLCJjYWxsTm93IiwiYXBwbHkiLCJzY3JvbGxUbyIsImFuY2hvciIsIm9mZnNldCIsImNiIiwidGltZXJGdW5jdGlvbiIsInNldFRpbWVyIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsImZhc3QiLCJzY3JvbGxCb3R0b20iLCJTQ1JPTExfUkFURSIsIkZBU1RfU0NST0xMX1JBVEUiLCJzY3JvbGxSYXRlIiwiY3VycmVudCIsImRvd24iLCJzdGVwIiwibmV4dCIsImlzUGFzdCIsImF0Qm90dG9tIiwiaW5uZXJIZWlnaHQiLCJzZWN0aW9uSGFuZGxlIiwiaW5WaWV3Q2xhc3MiLCJzZWN0aW9ucyIsImVudHJpZXMiLCJzZWN0aW9uIiwic3B5QW5jaG9ycyIsIl9yZWYkbGlua3MiLCJsaW5rcyIsIl9yZWYkc2VjdGlvbnMiLCJfcmVmJGFjdGl2ZUNsYXNzIiwiX3JlZiR0aHJlc2hvbGQiLCJfcmVmJHNjcm9sbENvbnRhaW5lciIsInNjcm9sbENvbnRhaW5lciIsIl9yZWYkY2IiLCJhY3RpdmVBbmNob3JzIiwibGluayIsImlpIiwic3B5TmF2IiwiX3JlZjIiLCJfcmVmMiRuYXYiLCJuYXYiLCJfcmVmMiRmaXhlZENsYXNzIiwiZml4ZWRDbGFzcyIsIl9yZWYyJHRocmVzaG9sZCIsImVuYWJsZWQiLCJsYXN0WSIsImhhbmRsZVNjcm9sbCIsIl9kZWJvdW5jZXIyIiwidGhpc1kiLCJfc3RpY2t5ZmlsbGpzMiJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsRUFBQUMsRUFBQUMsR0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUFBLElBQUFKLEVBQUFHLEdBQUEsQ0FBQSxJQUFBSixFQUFBSSxHQUFBLENBQUEsSUFBQUUsRUFBQSxtQkFBQUMsU0FBQUEsUUFBQSxJQUFBRixHQUFBQyxFQUFBLE9BQUFBLEVBQUFGLEdBQUEsR0FBQSxHQUFBSSxFQUFBLE9BQUFBLEVBQUFKLEdBQUEsR0FBQSxJQUFBSyxFQUFBLElBQUFDLE1BQUEsdUJBQUFOLEVBQUEsS0FBQSxNQUFBSyxFQUFBRSxLQUFBLG1C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LEtBRTVEakMsR0FFTEEsRUFBRytCLEVBQWMsWUFnQlBHLE9BQVQsU0FBQUMsR0FNSixJQUxEaFYsRUFLQ2dWLEVBTERoVixHQUtDaVYsRUFBQUQsRUFKREUsSUFBQUEsT0FJQzNkLElBQUEwZCxFQUpLalYsRUFJTGlWLEVBQUFFLEVBQUFILEVBSERJLFdBQUFBLE9BR0M3ZCxJQUFBNGQsRUFIWSxXQUdaQSxFQUFBRSxFQUFBTCxFQUZEcGIsVUFBQUEsT0FFQ3JDLElBQUE4ZCxFQUZXLEVBRVhBLEVBRER4QyxFQUNDbUMsRUFERG5DLEdBS0l5QyxHQUFVLEVBQ1ZDLEVBQVEsRUFHTkMsR0FBZSxFQUFBQyxFQUFBMUksU0FBUyxXQUU1QixHQUFLdUksRUFBTCxDQU1BLElBQU1JLEVBQVFsaUIsT0FBTzhRLFlBR2pCeEcsS0FBS3FILElBQUl1USxFQUFRSCxHQWxCVCxJQXNCWjFDLEVBQVcwQyxFQUFSRyxHQUVISCxFQUFRRyxRQWROSCxFQUFRLEdBZVQsS0FTSC9oQixPQUFPb00saUJBQWlCLFNBQVU0VixHQUNkLElBQUlyZCxxQkFUeEIsU0FBMkI4YixHQUV6QnFCLEVBQVV0VixFQUFHNUssVUFBVXdCLE9BQU93ZSxFQUFZbkIsRUFBUSxHQUFHclgsbUJBQW1CbEIsSUFBTSxHQUU5RW1YLEVBQUd5QyxJQUsyRCxDQUFFMWIsVUFBQUEsSUFDdERyQixRQUFRMmMsTUFNTi9ELE1BQVQsV0FDTCxJQUFNM1AsRUFBVzlOLFNBQVM4ZCxpQkFBaUIsd0JBRTNDOWMsTUFBTXNaLEtBQUt4TSxHQUVSdEksT0FBTyxTQUFBc0osR0FBQSxPQUFXQSxFQUFPOU0sYUFBYSxnQkFFdENzRyxRQUFRLFNBQUF3RyxHQUNQbVQsRUFBQTVJLFFBQVdwSCxPQUFPbkQsR0FFbEJBLEVBQU96TSxhQUFhLGNBQWMsTUE3SXhDLFFBQUFsRCxFQUFBLHFCQUNBQSxFQUFBIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qXG4gKiBjbGFzc0xpc3QuanM6IENyb3NzLWJyb3dzZXIgZnVsbCBlbGVtZW50LmNsYXNzTGlzdCBpbXBsZW1lbnRhdGlvbi5cbiAqIDEuMS4yMDE3MDQyN1xuICpcbiAqIEJ5IEVsaSBHcmV5LCBodHRwOi8vZWxpZ3JleS5jb21cbiAqIExpY2Vuc2U6IERlZGljYXRlZCB0byB0aGUgcHVibGljIGRvbWFpbi5cbiAqICAgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGlncmV5L2NsYXNzTGlzdC5qcy9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXG4gKi9cblxuLypnbG9iYWwgc2VsZiwgZG9jdW1lbnQsIERPTUV4Y2VwdGlvbiAqL1xuXG4vKiEgQHNvdXJjZSBodHRwOi8vcHVybC5lbGlncmV5LmNvbS9naXRodWIvY2xhc3NMaXN0LmpzL2Jsb2IvbWFzdGVyL2NsYXNzTGlzdC5qcyAqL1xuXG5pZiAoXCJkb2N1bWVudFwiIGluIHdpbmRvdy5zZWxmKSB7XG5cbi8vIEZ1bGwgcG9seWZpbGwgZm9yIGJyb3dzZXJzIHdpdGggbm8gY2xhc3NMaXN0IHN1cHBvcnRcbi8vIEluY2x1ZGluZyBJRSA8IEVkZ2UgbWlzc2luZyBTVkdFbGVtZW50LmNsYXNzTGlzdFxuaWYgKCEoXCJjbGFzc0xpc3RcIiBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiX1wiKSkgXG5cdHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyAmJiAhKFwiY2xhc3NMaXN0XCIgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcImdcIikpKSB7XG5cbihmdW5jdGlvbiAodmlldykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuaWYgKCEoJ0VsZW1lbnQnIGluIHZpZXcpKSByZXR1cm47XG5cbnZhclxuXHQgIGNsYXNzTGlzdFByb3AgPSBcImNsYXNzTGlzdFwiXG5cdCwgcHJvdG9Qcm9wID0gXCJwcm90b3R5cGVcIlxuXHQsIGVsZW1DdHJQcm90byA9IHZpZXcuRWxlbWVudFtwcm90b1Byb3BdXG5cdCwgb2JqQ3RyID0gT2JqZWN0XG5cdCwgc3RyVHJpbSA9IFN0cmluZ1twcm90b1Byb3BdLnRyaW0gfHwgZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLnJlcGxhY2UoL15cXHMrfFxccyskL2csIFwiXCIpO1xuXHR9XG5cdCwgYXJySW5kZXhPZiA9IEFycmF5W3Byb3RvUHJvcF0uaW5kZXhPZiB8fCBmdW5jdGlvbiAoaXRlbSkge1xuXHRcdHZhclxuXHRcdFx0ICBpID0gMFxuXHRcdFx0LCBsZW4gPSB0aGlzLmxlbmd0aFxuXHRcdDtcblx0XHRmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRpZiAoaSBpbiB0aGlzICYmIHRoaXNbaV0gPT09IGl0ZW0pIHtcblx0XHRcdFx0cmV0dXJuIGk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiAtMTtcblx0fVxuXHQvLyBWZW5kb3JzOiBwbGVhc2UgYWxsb3cgY29udGVudCBjb2RlIHRvIGluc3RhbnRpYXRlIERPTUV4Y2VwdGlvbnNcblx0LCBET01FeCA9IGZ1bmN0aW9uICh0eXBlLCBtZXNzYWdlKSB7XG5cdFx0dGhpcy5uYW1lID0gdHlwZTtcblx0XHR0aGlzLmNvZGUgPSBET01FeGNlcHRpb25bdHlwZV07XG5cdFx0dGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcblx0fVxuXHQsIGNoZWNrVG9rZW5BbmRHZXRJbmRleCA9IGZ1bmN0aW9uIChjbGFzc0xpc3QsIHRva2VuKSB7XG5cdFx0aWYgKHRva2VuID09PSBcIlwiKSB7XG5cdFx0XHR0aHJvdyBuZXcgRE9NRXgoXG5cdFx0XHRcdCAgXCJTWU5UQVhfRVJSXCJcblx0XHRcdFx0LCBcIkFuIGludmFsaWQgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZFwiXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRpZiAoL1xccy8udGVzdCh0b2tlbikpIHtcblx0XHRcdHRocm93IG5ldyBET01FeChcblx0XHRcdFx0ICBcIklOVkFMSURfQ0hBUkFDVEVSX0VSUlwiXG5cdFx0XHRcdCwgXCJTdHJpbmcgY29udGFpbnMgYW4gaW52YWxpZCBjaGFyYWN0ZXJcIlxuXHRcdFx0KTtcblx0XHR9XG5cdFx0cmV0dXJuIGFyckluZGV4T2YuY2FsbChjbGFzc0xpc3QsIHRva2VuKTtcblx0fVxuXHQsIENsYXNzTGlzdCA9IGZ1bmN0aW9uIChlbGVtKSB7XG5cdFx0dmFyXG5cdFx0XHQgIHRyaW1tZWRDbGFzc2VzID0gc3RyVHJpbS5jYWxsKGVsZW0uZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgfHwgXCJcIilcblx0XHRcdCwgY2xhc3NlcyA9IHRyaW1tZWRDbGFzc2VzID8gdHJpbW1lZENsYXNzZXMuc3BsaXQoL1xccysvKSA6IFtdXG5cdFx0XHQsIGkgPSAwXG5cdFx0XHQsIGxlbiA9IGNsYXNzZXMubGVuZ3RoXG5cdFx0O1xuXHRcdGZvciAoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdHRoaXMucHVzaChjbGFzc2VzW2ldKTtcblx0XHR9XG5cdFx0dGhpcy5fdXBkYXRlQ2xhc3NOYW1lID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB0aGlzLnRvU3RyaW5nKCkpO1xuXHRcdH07XG5cdH1cblx0LCBjbGFzc0xpc3RQcm90byA9IENsYXNzTGlzdFtwcm90b1Byb3BdID0gW11cblx0LCBjbGFzc0xpc3RHZXR0ZXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIG5ldyBDbGFzc0xpc3QodGhpcyk7XG5cdH1cbjtcbi8vIE1vc3QgRE9NRXhjZXB0aW9uIGltcGxlbWVudGF0aW9ucyBkb24ndCBhbGxvdyBjYWxsaW5nIERPTUV4Y2VwdGlvbidzIHRvU3RyaW5nKClcbi8vIG9uIG5vbi1ET01FeGNlcHRpb25zLiBFcnJvcidzIHRvU3RyaW5nKCkgaXMgc3VmZmljaWVudCBoZXJlLlxuRE9NRXhbcHJvdG9Qcm9wXSA9IEVycm9yW3Byb3RvUHJvcF07XG5jbGFzc0xpc3RQcm90by5pdGVtID0gZnVuY3Rpb24gKGkpIHtcblx0cmV0dXJuIHRoaXNbaV0gfHwgbnVsbDtcbn07XG5jbGFzc0xpc3RQcm90by5jb250YWlucyA9IGZ1bmN0aW9uICh0b2tlbikge1xuXHR0b2tlbiArPSBcIlwiO1xuXHRyZXR1cm4gY2hlY2tUb2tlbkFuZEdldEluZGV4KHRoaXMsIHRva2VuKSAhPT0gLTE7XG59O1xuY2xhc3NMaXN0UHJvdG8uYWRkID0gZnVuY3Rpb24gKCkge1xuXHR2YXJcblx0XHQgIHRva2VucyA9IGFyZ3VtZW50c1xuXHRcdCwgaSA9IDBcblx0XHQsIGwgPSB0b2tlbnMubGVuZ3RoXG5cdFx0LCB0b2tlblxuXHRcdCwgdXBkYXRlZCA9IGZhbHNlXG5cdDtcblx0ZG8ge1xuXHRcdHRva2VuID0gdG9rZW5zW2ldICsgXCJcIjtcblx0XHRpZiAoY2hlY2tUb2tlbkFuZEdldEluZGV4KHRoaXMsIHRva2VuKSA9PT0gLTEpIHtcblx0XHRcdHRoaXMucHVzaCh0b2tlbik7XG5cdFx0XHR1cGRhdGVkID0gdHJ1ZTtcblx0XHR9XG5cdH1cblx0d2hpbGUgKCsraSA8IGwpO1xuXG5cdGlmICh1cGRhdGVkKSB7XG5cdFx0dGhpcy5fdXBkYXRlQ2xhc3NOYW1lKCk7XG5cdH1cbn07XG5jbGFzc0xpc3RQcm90by5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdHZhclxuXHRcdCAgdG9rZW5zID0gYXJndW1lbnRzXG5cdFx0LCBpID0gMFxuXHRcdCwgbCA9IHRva2Vucy5sZW5ndGhcblx0XHQsIHRva2VuXG5cdFx0LCB1cGRhdGVkID0gZmFsc2Vcblx0XHQsIGluZGV4XG5cdDtcblx0ZG8ge1xuXHRcdHRva2VuID0gdG9rZW5zW2ldICsgXCJcIjtcblx0XHRpbmRleCA9IGNoZWNrVG9rZW5BbmRHZXRJbmRleCh0aGlzLCB0b2tlbik7XG5cdFx0d2hpbGUgKGluZGV4ICE9PSAtMSkge1xuXHRcdFx0dGhpcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0dXBkYXRlZCA9IHRydWU7XG5cdFx0XHRpbmRleCA9IGNoZWNrVG9rZW5BbmRHZXRJbmRleCh0aGlzLCB0b2tlbik7XG5cdFx0fVxuXHR9XG5cdHdoaWxlICgrK2kgPCBsKTtcblxuXHRpZiAodXBkYXRlZCkge1xuXHRcdHRoaXMuX3VwZGF0ZUNsYXNzTmFtZSgpO1xuXHR9XG59O1xuY2xhc3NMaXN0UHJvdG8udG9nZ2xlID0gZnVuY3Rpb24gKHRva2VuLCBmb3JjZSkge1xuXHR0b2tlbiArPSBcIlwiO1xuXG5cdHZhclxuXHRcdCAgcmVzdWx0ID0gdGhpcy5jb250YWlucyh0b2tlbilcblx0XHQsIG1ldGhvZCA9IHJlc3VsdCA/XG5cdFx0XHRmb3JjZSAhPT0gdHJ1ZSAmJiBcInJlbW92ZVwiXG5cdFx0OlxuXHRcdFx0Zm9yY2UgIT09IGZhbHNlICYmIFwiYWRkXCJcblx0O1xuXG5cdGlmIChtZXRob2QpIHtcblx0XHR0aGlzW21ldGhvZF0odG9rZW4pO1xuXHR9XG5cblx0aWYgKGZvcmNlID09PSB0cnVlIHx8IGZvcmNlID09PSBmYWxzZSkge1xuXHRcdHJldHVybiBmb3JjZTtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gIXJlc3VsdDtcblx0fVxufTtcbmNsYXNzTGlzdFByb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuXHRyZXR1cm4gdGhpcy5qb2luKFwiIFwiKTtcbn07XG5cbmlmIChvYmpDdHIuZGVmaW5lUHJvcGVydHkpIHtcblx0dmFyIGNsYXNzTGlzdFByb3BEZXNjID0ge1xuXHRcdCAgZ2V0OiBjbGFzc0xpc3RHZXR0ZXJcblx0XHQsIGVudW1lcmFibGU6IHRydWVcblx0XHQsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHR9O1xuXHR0cnkge1xuXHRcdG9iakN0ci5kZWZpbmVQcm9wZXJ0eShlbGVtQ3RyUHJvdG8sIGNsYXNzTGlzdFByb3AsIGNsYXNzTGlzdFByb3BEZXNjKTtcblx0fSBjYXRjaCAoZXgpIHsgLy8gSUUgOCBkb2Vzbid0IHN1cHBvcnQgZW51bWVyYWJsZTp0cnVlXG5cdFx0Ly8gYWRkaW5nIHVuZGVmaW5lZCB0byBmaWdodCB0aGlzIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGlncmV5L2NsYXNzTGlzdC5qcy9pc3N1ZXMvMzZcblx0XHQvLyBtb2Rlcm5pZSBJRTgtTVNXNyBtYWNoaW5lIGhhcyBJRTggOC4wLjYwMDEuMTg3MDIgYW5kIGlzIGFmZmVjdGVkXG5cdFx0aWYgKGV4Lm51bWJlciA9PT0gdW5kZWZpbmVkIHx8IGV4Lm51bWJlciA9PT0gLTB4N0ZGNUVDNTQpIHtcblx0XHRcdGNsYXNzTGlzdFByb3BEZXNjLmVudW1lcmFibGUgPSBmYWxzZTtcblx0XHRcdG9iakN0ci5kZWZpbmVQcm9wZXJ0eShlbGVtQ3RyUHJvdG8sIGNsYXNzTGlzdFByb3AsIGNsYXNzTGlzdFByb3BEZXNjKTtcblx0XHR9XG5cdH1cbn0gZWxzZSBpZiAob2JqQ3RyW3Byb3RvUHJvcF0uX19kZWZpbmVHZXR0ZXJfXykge1xuXHRlbGVtQ3RyUHJvdG8uX19kZWZpbmVHZXR0ZXJfXyhjbGFzc0xpc3RQcm9wLCBjbGFzc0xpc3RHZXR0ZXIpO1xufVxuXG59KHdpbmRvdy5zZWxmKSk7XG5cbn1cblxuLy8gVGhlcmUgaXMgZnVsbCBvciBwYXJ0aWFsIG5hdGl2ZSBjbGFzc0xpc3Qgc3VwcG9ydCwgc28ganVzdCBjaGVjayBpZiB3ZSBuZWVkXG4vLyB0byBub3JtYWxpemUgdGhlIGFkZC9yZW1vdmUgYW5kIHRvZ2dsZSBBUElzLlxuXG4oZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgdGVzdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiX1wiKTtcblxuXHR0ZXN0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYzFcIiwgXCJjMlwiKTtcblxuXHQvLyBQb2x5ZmlsbCBmb3IgSUUgMTAvMTEgYW5kIEZpcmVmb3ggPDI2LCB3aGVyZSBjbGFzc0xpc3QuYWRkIGFuZFxuXHQvLyBjbGFzc0xpc3QucmVtb3ZlIGV4aXN0IGJ1dCBzdXBwb3J0IG9ubHkgb25lIGFyZ3VtZW50IGF0IGEgdGltZS5cblx0aWYgKCF0ZXN0RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJjMlwiKSkge1xuXHRcdHZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbihtZXRob2QpIHtcblx0XHRcdHZhciBvcmlnaW5hbCA9IERPTVRva2VuTGlzdC5wcm90b3R5cGVbbWV0aG9kXTtcblxuXHRcdFx0RE9NVG9rZW5MaXN0LnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odG9rZW4pIHtcblx0XHRcdFx0dmFyIGksIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRcdFx0dG9rZW4gPSBhcmd1bWVudHNbaV07XG5cdFx0XHRcdFx0b3JpZ2luYWwuY2FsbCh0aGlzLCB0b2tlbik7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fTtcblx0XHRjcmVhdGVNZXRob2QoJ2FkZCcpO1xuXHRcdGNyZWF0ZU1ldGhvZCgncmVtb3ZlJyk7XG5cdH1cblxuXHR0ZXN0RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKFwiYzNcIiwgZmFsc2UpO1xuXG5cdC8vIFBvbHlmaWxsIGZvciBJRSAxMCBhbmQgRmlyZWZveCA8MjQsIHdoZXJlIGNsYXNzTGlzdC50b2dnbGUgZG9lcyBub3Rcblx0Ly8gc3VwcG9ydCB0aGUgc2Vjb25kIGFyZ3VtZW50LlxuXHRpZiAodGVzdEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYzNcIikpIHtcblx0XHR2YXIgX3RvZ2dsZSA9IERPTVRva2VuTGlzdC5wcm90b3R5cGUudG9nZ2xlO1xuXG5cdFx0RE9NVG9rZW5MaXN0LnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbih0b2tlbiwgZm9yY2UpIHtcblx0XHRcdGlmICgxIGluIGFyZ3VtZW50cyAmJiAhdGhpcy5jb250YWlucyh0b2tlbikgPT09ICFmb3JjZSkge1xuXHRcdFx0XHRyZXR1cm4gZm9yY2U7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gX3RvZ2dsZS5jYWxsKHRoaXMsIHRva2VuKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdH1cblxuXHR0ZXN0RWxlbWVudCA9IG51bGw7XG59KCkpO1xuXG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIFczQyBTT0ZUV0FSRSBBTkQgRE9DVU1FTlQgTk9USUNFIEFORCBMSUNFTlNFLlxuICpcbiAqICBodHRwczovL3d3dy53My5vcmcvQ29uc29ydGl1bS9MZWdhbC8yMDE1L2NvcHlyaWdodC1zb2Z0d2FyZS1hbmQtZG9jdW1lbnRcbiAqXG4gKi9cblxuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQpIHtcbid1c2Ugc3RyaWN0JztcblxuXG4vLyBFeGl0cyBlYXJseSBpZiBhbGwgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgYW5kIEludGVyc2VjdGlvbk9ic2VydmVyRW50cnlcbi8vIGZlYXR1cmVzIGFyZSBuYXRpdmVseSBzdXBwb3J0ZWQuXG5pZiAoJ0ludGVyc2VjdGlvbk9ic2VydmVyJyBpbiB3aW5kb3cgJiZcbiAgICAnSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeScgaW4gd2luZG93ICYmXG4gICAgJ2ludGVyc2VjdGlvblJhdGlvJyBpbiB3aW5kb3cuSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeS5wcm90b3R5cGUpIHtcblxuICAvLyBNaW5pbWFsIHBvbHlmaWxsIGZvciBFZGdlIDE1J3MgbGFjayBvZiBgaXNJbnRlcnNlY3RpbmdgXG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3czYy9JbnRlcnNlY3Rpb25PYnNlcnZlci9pc3N1ZXMvMjExXG4gIGlmICghKCdpc0ludGVyc2VjdGluZycgaW4gd2luZG93LkludGVyc2VjdGlvbk9ic2VydmVyRW50cnkucHJvdG90eXBlKSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeS5wcm90b3R5cGUsXG4gICAgICAnaXNJbnRlcnNlY3RpbmcnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJzZWN0aW9uUmF0aW8gPiAwO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybjtcbn1cblxuXG4vKipcbiAqIEFuIEludGVyc2VjdGlvbk9ic2VydmVyIHJlZ2lzdHJ5LiBUaGlzIHJlZ2lzdHJ5IGV4aXN0cyB0byBob2xkIGEgc3Ryb25nXG4gKiByZWZlcmVuY2UgdG8gSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgaW5zdGFuY2VzIGN1cnJlbnRseSBvYnNlcnZpbmcgYSB0YXJnZXRcbiAqIGVsZW1lbnQuIFdpdGhvdXQgdGhpcyByZWdpc3RyeSwgaW5zdGFuY2VzIHdpdGhvdXQgYW5vdGhlciByZWZlcmVuY2UgbWF5IGJlXG4gKiBnYXJiYWdlIGNvbGxlY3RlZC5cbiAqL1xudmFyIHJlZ2lzdHJ5ID0gW107XG5cblxuLyoqXG4gKiBDcmVhdGVzIHRoZSBnbG9iYWwgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSBjb25zdHJ1Y3Rvci5cbiAqIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9JbnRlcnNlY3Rpb25PYnNlcnZlci8jaW50ZXJzZWN0aW9uLW9ic2VydmVyLWVudHJ5XG4gKiBAcGFyYW0ge09iamVjdH0gZW50cnkgQSBkaWN0aW9uYXJ5IG9mIGluc3RhbmNlIHByb3BlcnRpZXMuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeShlbnRyeSkge1xuICB0aGlzLnRpbWUgPSBlbnRyeS50aW1lO1xuICB0aGlzLnRhcmdldCA9IGVudHJ5LnRhcmdldDtcbiAgdGhpcy5yb290Qm91bmRzID0gZW50cnkucm9vdEJvdW5kcztcbiAgdGhpcy5ib3VuZGluZ0NsaWVudFJlY3QgPSBlbnRyeS5ib3VuZGluZ0NsaWVudFJlY3Q7XG4gIHRoaXMuaW50ZXJzZWN0aW9uUmVjdCA9IGVudHJ5LmludGVyc2VjdGlvblJlY3QgfHwgZ2V0RW1wdHlSZWN0KCk7XG4gIHRoaXMuaXNJbnRlcnNlY3RpbmcgPSAhIWVudHJ5LmludGVyc2VjdGlvblJlY3Q7XG5cbiAgLy8gQ2FsY3VsYXRlcyB0aGUgaW50ZXJzZWN0aW9uIHJhdGlvLlxuICB2YXIgdGFyZ2V0UmVjdCA9IHRoaXMuYm91bmRpbmdDbGllbnRSZWN0O1xuICB2YXIgdGFyZ2V0QXJlYSA9IHRhcmdldFJlY3Qud2lkdGggKiB0YXJnZXRSZWN0LmhlaWdodDtcbiAgdmFyIGludGVyc2VjdGlvblJlY3QgPSB0aGlzLmludGVyc2VjdGlvblJlY3Q7XG4gIHZhciBpbnRlcnNlY3Rpb25BcmVhID0gaW50ZXJzZWN0aW9uUmVjdC53aWR0aCAqIGludGVyc2VjdGlvblJlY3QuaGVpZ2h0O1xuXG4gIC8vIFNldHMgaW50ZXJzZWN0aW9uIHJhdGlvLlxuICBpZiAodGFyZ2V0QXJlYSkge1xuICAgIC8vIFJvdW5kIHRoZSBpbnRlcnNlY3Rpb24gcmF0aW8gdG8gYXZvaWQgZmxvYXRpbmcgcG9pbnQgbWF0aCBpc3N1ZXM6XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3czYy9JbnRlcnNlY3Rpb25PYnNlcnZlci9pc3N1ZXMvMzI0XG4gICAgdGhpcy5pbnRlcnNlY3Rpb25SYXRpbyA9IE51bWJlcigoaW50ZXJzZWN0aW9uQXJlYSAvIHRhcmdldEFyZWEpLnRvRml4ZWQoNCkpO1xuICB9IGVsc2Uge1xuICAgIC8vIElmIGFyZWEgaXMgemVybyBhbmQgaXMgaW50ZXJzZWN0aW5nLCBzZXRzIHRvIDEsIG90aGVyd2lzZSB0byAwXG4gICAgdGhpcy5pbnRlcnNlY3Rpb25SYXRpbyA9IHRoaXMuaXNJbnRlcnNlY3RpbmcgPyAxIDogMDtcbiAgfVxufVxuXG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgZ2xvYmFsIEludGVyc2VjdGlvbk9ic2VydmVyIGNvbnN0cnVjdG9yLlxuICogaHR0cHM6Ly93M2MuZ2l0aHViLmlvL0ludGVyc2VjdGlvbk9ic2VydmVyLyNpbnRlcnNlY3Rpb24tb2JzZXJ2ZXItaW50ZXJmYWNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCBhZnRlciBpbnRlcnNlY3Rpb25cbiAqICAgICBjaGFuZ2VzIGhhdmUgcXVldWVkLiBUaGUgZnVuY3Rpb24gaXMgbm90IGludm9rZWQgaWYgdGhlIHF1ZXVlIGhhc1xuICogICAgIGJlZW4gZW1wdGllZCBieSBjYWxsaW5nIHRoZSBgdGFrZVJlY29yZHNgIG1ldGhvZC5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0X29wdGlvbnMgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvcHRpb25zLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEludGVyc2VjdGlvbk9ic2VydmVyKGNhbGxiYWNrLCBvcHRfb3B0aW9ucykge1xuXG4gIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLnJvb3QgJiYgb3B0aW9ucy5yb290Lm5vZGVUeXBlICE9IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Jvb3QgbXVzdCBiZSBhbiBFbGVtZW50Jyk7XG4gIH1cblxuICAvLyBCaW5kcyBhbmQgdGhyb3R0bGVzIGB0aGlzLl9jaGVja0ZvckludGVyc2VjdGlvbnNgLlxuICB0aGlzLl9jaGVja0ZvckludGVyc2VjdGlvbnMgPSB0aHJvdHRsZShcbiAgICAgIHRoaXMuX2NoZWNrRm9ySW50ZXJzZWN0aW9ucy5iaW5kKHRoaXMpLCB0aGlzLlRIUk9UVExFX1RJTUVPVVQpO1xuXG4gIC8vIFByaXZhdGUgcHJvcGVydGllcy5cbiAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgdGhpcy5fb2JzZXJ2YXRpb25UYXJnZXRzID0gW107XG4gIHRoaXMuX3F1ZXVlZEVudHJpZXMgPSBbXTtcbiAgdGhpcy5fcm9vdE1hcmdpblZhbHVlcyA9IHRoaXMuX3BhcnNlUm9vdE1hcmdpbihvcHRpb25zLnJvb3RNYXJnaW4pO1xuXG4gIC8vIFB1YmxpYyBwcm9wZXJ0aWVzLlxuICB0aGlzLnRocmVzaG9sZHMgPSB0aGlzLl9pbml0VGhyZXNob2xkcyhvcHRpb25zLnRocmVzaG9sZCk7XG4gIHRoaXMucm9vdCA9IG9wdGlvbnMucm9vdCB8fCBudWxsO1xuICB0aGlzLnJvb3RNYXJnaW4gPSB0aGlzLl9yb290TWFyZ2luVmFsdWVzLm1hcChmdW5jdGlvbihtYXJnaW4pIHtcbiAgICByZXR1cm4gbWFyZ2luLnZhbHVlICsgbWFyZ2luLnVuaXQ7XG4gIH0pLmpvaW4oJyAnKTtcbn1cblxuXG4vKipcbiAqIFRoZSBtaW5pbXVtIGludGVydmFsIHdpdGhpbiB3aGljaCB0aGUgZG9jdW1lbnQgd2lsbCBiZSBjaGVja2VkIGZvclxuICogaW50ZXJzZWN0aW9uIGNoYW5nZXMuXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5USFJPVFRMRV9USU1FT1VUID0gMTAwO1xuXG5cbi8qKlxuICogVGhlIGZyZXF1ZW5jeSBpbiB3aGljaCB0aGUgcG9seWZpbGwgcG9sbHMgZm9yIGludGVyc2VjdGlvbiBjaGFuZ2VzLlxuICogdGhpcyBjYW4gYmUgdXBkYXRlZCBvbiBhIHBlciBpbnN0YW5jZSBiYXNpcyBhbmQgbXVzdCBiZSBzZXQgcHJpb3IgdG9cbiAqIGNhbGxpbmcgYG9ic2VydmVgIG9uIHRoZSBmaXJzdCB0YXJnZXQuXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5QT0xMX0lOVEVSVkFMID0gbnVsbDtcblxuLyoqXG4gKiBVc2UgYSBtdXRhdGlvbiBvYnNlcnZlciBvbiB0aGUgcm9vdCBlbGVtZW50XG4gKiB0byBkZXRlY3QgaW50ZXJzZWN0aW9uIGNoYW5nZXMuXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5VU0VfTVVUQVRJT05fT0JTRVJWRVIgPSB0cnVlO1xuXG5cbi8qKlxuICogU3RhcnRzIG9ic2VydmluZyBhIHRhcmdldCBlbGVtZW50IGZvciBpbnRlcnNlY3Rpb24gY2hhbmdlcyBiYXNlZCBvblxuICogdGhlIHRocmVzaG9sZHMgdmFsdWVzLlxuICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgVGhlIERPTSBlbGVtZW50IHRvIG9ic2VydmUuXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gIHZhciBpc1RhcmdldEFscmVhZHlPYnNlcnZlZCA9IHRoaXMuX29ic2VydmF0aW9uVGFyZ2V0cy5zb21lKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbS5lbGVtZW50ID09IHRhcmdldDtcbiAgfSk7XG5cbiAgaWYgKGlzVGFyZ2V0QWxyZWFkeU9ic2VydmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCEodGFyZ2V0ICYmIHRhcmdldC5ub2RlVHlwZSA9PSAxKSkge1xuICAgIHRocm93IG5ldyBFcnJvcigndGFyZ2V0IG11c3QgYmUgYW4gRWxlbWVudCcpO1xuICB9XG5cbiAgdGhpcy5fcmVnaXN0ZXJJbnN0YW5jZSgpO1xuICB0aGlzLl9vYnNlcnZhdGlvblRhcmdldHMucHVzaCh7ZWxlbWVudDogdGFyZ2V0LCBlbnRyeTogbnVsbH0pO1xuICB0aGlzLl9tb25pdG9ySW50ZXJzZWN0aW9ucygpO1xuICB0aGlzLl9jaGVja0ZvckludGVyc2VjdGlvbnMoKTtcbn07XG5cblxuLyoqXG4gKiBTdG9wcyBvYnNlcnZpbmcgYSB0YXJnZXQgZWxlbWVudCBmb3IgaW50ZXJzZWN0aW9uIGNoYW5nZXMuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCBUaGUgRE9NIGVsZW1lbnQgdG8gb2JzZXJ2ZS5cbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLnVub2JzZXJ2ZSA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICB0aGlzLl9vYnNlcnZhdGlvblRhcmdldHMgPVxuICAgICAgdGhpcy5fb2JzZXJ2YXRpb25UYXJnZXRzLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG5cbiAgICByZXR1cm4gaXRlbS5lbGVtZW50ICE9IHRhcmdldDtcbiAgfSk7XG4gIGlmICghdGhpcy5fb2JzZXJ2YXRpb25UYXJnZXRzLmxlbmd0aCkge1xuICAgIHRoaXMuX3VubW9uaXRvckludGVyc2VjdGlvbnMoKTtcbiAgICB0aGlzLl91bnJlZ2lzdGVySW5zdGFuY2UoKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIFN0b3BzIG9ic2VydmluZyBhbGwgdGFyZ2V0IGVsZW1lbnRzIGZvciBpbnRlcnNlY3Rpb24gY2hhbmdlcy5cbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fb2JzZXJ2YXRpb25UYXJnZXRzID0gW107XG4gIHRoaXMuX3VubW9uaXRvckludGVyc2VjdGlvbnMoKTtcbiAgdGhpcy5fdW5yZWdpc3Rlckluc3RhbmNlKCk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyBhbnkgcXVldWUgZW50cmllcyB0aGF0IGhhdmUgbm90IHlldCBiZWVuIHJlcG9ydGVkIHRvIHRoZVxuICogY2FsbGJhY2sgYW5kIGNsZWFycyB0aGUgcXVldWUuIFRoaXMgY2FuIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCB0aGVcbiAqIGNhbGxiYWNrIHRvIG9idGFpbiB0aGUgYWJzb2x1dGUgbW9zdCB1cC10by1kYXRlIGludGVyc2VjdGlvbiBpbmZvcm1hdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5fSBUaGUgY3VycmVudGx5IHF1ZXVlZCBlbnRyaWVzLlxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUudGFrZVJlY29yZHMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlY29yZHMgPSB0aGlzLl9xdWV1ZWRFbnRyaWVzLnNsaWNlKCk7XG4gIHRoaXMuX3F1ZXVlZEVudHJpZXMgPSBbXTtcbiAgcmV0dXJuIHJlY29yZHM7XG59O1xuXG5cbi8qKlxuICogQWNjZXB0cyB0aGUgdGhyZXNob2xkIHZhbHVlIGZyb20gdGhlIHVzZXIgY29uZmlndXJhdGlvbiBvYmplY3QgYW5kXG4gKiByZXR1cm5zIGEgc29ydGVkIGFycmF5IG9mIHVuaXF1ZSB0aHJlc2hvbGQgdmFsdWVzLiBJZiBhIHZhbHVlIGlzIG5vdFxuICogYmV0d2VlbiAwIGFuZCAxIGFuZCBlcnJvciBpcyB0aHJvd24uXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheXxudW1iZXI9fSBvcHRfdGhyZXNob2xkIEFuIG9wdGlvbmFsIHRocmVzaG9sZCB2YWx1ZSBvclxuICogICAgIGEgbGlzdCBvZiB0aHJlc2hvbGQgdmFsdWVzLCBkZWZhdWx0aW5nIHRvIFswXS5cbiAqIEByZXR1cm4ge0FycmF5fSBBIHNvcnRlZCBsaXN0IG9mIHVuaXF1ZSBhbmQgdmFsaWQgdGhyZXNob2xkIHZhbHVlcy5cbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9pbml0VGhyZXNob2xkcyA9IGZ1bmN0aW9uKG9wdF90aHJlc2hvbGQpIHtcbiAgdmFyIHRocmVzaG9sZCA9IG9wdF90aHJlc2hvbGQgfHwgWzBdO1xuICBpZiAoIUFycmF5LmlzQXJyYXkodGhyZXNob2xkKSkgdGhyZXNob2xkID0gW3RocmVzaG9sZF07XG5cbiAgcmV0dXJuIHRocmVzaG9sZC5zb3J0KCkuZmlsdGVyKGZ1bmN0aW9uKHQsIGksIGEpIHtcbiAgICBpZiAodHlwZW9mIHQgIT0gJ251bWJlcicgfHwgaXNOYU4odCkgfHwgdCA8IDAgfHwgdCA+IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndGhyZXNob2xkIG11c3QgYmUgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxIGluY2x1c2l2ZWx5Jyk7XG4gICAgfVxuICAgIHJldHVybiB0ICE9PSBhW2kgLSAxXTtcbiAgfSk7XG59O1xuXG5cbi8qKlxuICogQWNjZXB0cyB0aGUgcm9vdE1hcmdpbiB2YWx1ZSBmcm9tIHRoZSB1c2VyIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gKiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0aGUgZm91ciBtYXJnaW4gdmFsdWVzIGFzIGFuIG9iamVjdCBjb250YWluaW5nXG4gKiB0aGUgdmFsdWUgYW5kIHVuaXQgcHJvcGVydGllcy4gSWYgYW55IG9mIHRoZSB2YWx1ZXMgYXJlIG5vdCBwcm9wZXJseVxuICogZm9ybWF0dGVkIG9yIHVzZSBhIHVuaXQgb3RoZXIgdGhhbiBweCBvciAlLCBhbmQgZXJyb3IgaXMgdGhyb3duLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X3Jvb3RNYXJnaW4gQW4gb3B0aW9uYWwgcm9vdE1hcmdpbiB2YWx1ZSxcbiAqICAgICBkZWZhdWx0aW5nIHRvICcwcHgnLlxuICogQHJldHVybiB7QXJyYXk8T2JqZWN0Pn0gQW4gYXJyYXkgb2YgbWFyZ2luIG9iamVjdHMgd2l0aCB0aGUga2V5c1xuICogICAgIHZhbHVlIGFuZCB1bml0LlxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuX3BhcnNlUm9vdE1hcmdpbiA9IGZ1bmN0aW9uKG9wdF9yb290TWFyZ2luKSB7XG4gIHZhciBtYXJnaW5TdHJpbmcgPSBvcHRfcm9vdE1hcmdpbiB8fCAnMHB4JztcbiAgdmFyIG1hcmdpbnMgPSBtYXJnaW5TdHJpbmcuc3BsaXQoL1xccysvKS5tYXAoZnVuY3Rpb24obWFyZ2luKSB7XG4gICAgdmFyIHBhcnRzID0gL14oLT9cXGQqXFwuP1xcZCspKHB4fCUpJC8uZXhlYyhtYXJnaW4pO1xuICAgIGlmICghcGFydHMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncm9vdE1hcmdpbiBtdXN0IGJlIHNwZWNpZmllZCBpbiBwaXhlbHMgb3IgcGVyY2VudCcpO1xuICAgIH1cbiAgICByZXR1cm4ge3ZhbHVlOiBwYXJzZUZsb2F0KHBhcnRzWzFdKSwgdW5pdDogcGFydHNbMl19O1xuICB9KTtcblxuICAvLyBIYW5kbGVzIHNob3J0aGFuZC5cbiAgbWFyZ2luc1sxXSA9IG1hcmdpbnNbMV0gfHwgbWFyZ2luc1swXTtcbiAgbWFyZ2luc1syXSA9IG1hcmdpbnNbMl0gfHwgbWFyZ2luc1swXTtcbiAgbWFyZ2luc1szXSA9IG1hcmdpbnNbM10gfHwgbWFyZ2luc1sxXTtcblxuICByZXR1cm4gbWFyZ2lucztcbn07XG5cblxuLyoqXG4gKiBTdGFydHMgcG9sbGluZyBmb3IgaW50ZXJzZWN0aW9uIGNoYW5nZXMgaWYgdGhlIHBvbGxpbmcgaXMgbm90IGFscmVhZHlcbiAqIGhhcHBlbmluZywgYW5kIGlmIHRoZSBwYWdlJ3MgdmlzaWJpbGl0eSBzdGF0ZSBpcyB2aXNpYmxlLlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9tb25pdG9ySW50ZXJzZWN0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIXRoaXMuX21vbml0b3JpbmdJbnRlcnNlY3Rpb25zKSB7XG4gICAgdGhpcy5fbW9uaXRvcmluZ0ludGVyc2VjdGlvbnMgPSB0cnVlO1xuXG4gICAgLy8gSWYgYSBwb2xsIGludGVydmFsIGlzIHNldCwgdXNlIHBvbGxpbmcgaW5zdGVhZCBvZiBsaXN0ZW5pbmcgdG9cbiAgICAvLyByZXNpemUgYW5kIHNjcm9sbCBldmVudHMgb3IgRE9NIG11dGF0aW9ucy5cbiAgICBpZiAodGhpcy5QT0xMX0lOVEVSVkFMKSB7XG4gICAgICB0aGlzLl9tb25pdG9yaW5nSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChcbiAgICAgICAgICB0aGlzLl9jaGVja0ZvckludGVyc2VjdGlvbnMsIHRoaXMuUE9MTF9JTlRFUlZBTCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgYWRkRXZlbnQod2luZG93LCAncmVzaXplJywgdGhpcy5fY2hlY2tGb3JJbnRlcnNlY3Rpb25zLCB0cnVlKTtcbiAgICAgIGFkZEV2ZW50KGRvY3VtZW50LCAnc2Nyb2xsJywgdGhpcy5fY2hlY2tGb3JJbnRlcnNlY3Rpb25zLCB0cnVlKTtcblxuICAgICAgaWYgKHRoaXMuVVNFX01VVEFUSU9OX09CU0VSVkVSICYmICdNdXRhdGlvbk9ic2VydmVyJyBpbiB3aW5kb3cpIHtcbiAgICAgICAgdGhpcy5fZG9tT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzLl9jaGVja0ZvckludGVyc2VjdGlvbnMpO1xuICAgICAgICB0aGlzLl9kb21PYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCB7XG4gICAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcbiAgICAgICAgICBzdWJ0cmVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuXG4vKipcbiAqIFN0b3BzIHBvbGxpbmcgZm9yIGludGVyc2VjdGlvbiBjaGFuZ2VzLlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl91bm1vbml0b3JJbnRlcnNlY3Rpb25zID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLl9tb25pdG9yaW5nSW50ZXJzZWN0aW9ucykge1xuICAgIHRoaXMuX21vbml0b3JpbmdJbnRlcnNlY3Rpb25zID0gZmFsc2U7XG5cbiAgICBjbGVhckludGVydmFsKHRoaXMuX21vbml0b3JpbmdJbnRlcnZhbCk7XG4gICAgdGhpcy5fbW9uaXRvcmluZ0ludGVydmFsID0gbnVsbDtcblxuICAgIHJlbW92ZUV2ZW50KHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuX2NoZWNrRm9ySW50ZXJzZWN0aW9ucywgdHJ1ZSk7XG4gICAgcmVtb3ZlRXZlbnQoZG9jdW1lbnQsICdzY3JvbGwnLCB0aGlzLl9jaGVja0ZvckludGVyc2VjdGlvbnMsIHRydWUpO1xuXG4gICAgaWYgKHRoaXMuX2RvbU9ic2VydmVyKSB7XG4gICAgICB0aGlzLl9kb21PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICB0aGlzLl9kb21PYnNlcnZlciA9IG51bGw7XG4gICAgfVxuICB9XG59O1xuXG5cbi8qKlxuICogU2NhbnMgZWFjaCBvYnNlcnZhdGlvbiB0YXJnZXQgZm9yIGludGVyc2VjdGlvbiBjaGFuZ2VzIGFuZCBhZGRzIHRoZW1cbiAqIHRvIHRoZSBpbnRlcm5hbCBlbnRyaWVzIHF1ZXVlLiBJZiBuZXcgZW50cmllcyBhcmUgZm91bmQsIGl0XG4gKiBzY2hlZHVsZXMgdGhlIGNhbGxiYWNrIHRvIGJlIGludm9rZWQuXG4gKiBAcHJpdmF0ZVxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuX2NoZWNrRm9ySW50ZXJzZWN0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcm9vdElzSW5Eb20gPSB0aGlzLl9yb290SXNJbkRvbSgpO1xuICB2YXIgcm9vdFJlY3QgPSByb290SXNJbkRvbSA/IHRoaXMuX2dldFJvb3RSZWN0KCkgOiBnZXRFbXB0eVJlY3QoKTtcblxuICB0aGlzLl9vYnNlcnZhdGlvblRhcmdldHMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgdmFyIHRhcmdldCA9IGl0ZW0uZWxlbWVudDtcbiAgICB2YXIgdGFyZ2V0UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdCh0YXJnZXQpO1xuICAgIHZhciByb290Q29udGFpbnNUYXJnZXQgPSB0aGlzLl9yb290Q29udGFpbnNUYXJnZXQodGFyZ2V0KTtcbiAgICB2YXIgb2xkRW50cnkgPSBpdGVtLmVudHJ5O1xuICAgIHZhciBpbnRlcnNlY3Rpb25SZWN0ID0gcm9vdElzSW5Eb20gJiYgcm9vdENvbnRhaW5zVGFyZ2V0ICYmXG4gICAgICAgIHRoaXMuX2NvbXB1dGVUYXJnZXRBbmRSb290SW50ZXJzZWN0aW9uKHRhcmdldCwgcm9vdFJlY3QpO1xuXG4gICAgdmFyIG5ld0VudHJ5ID0gaXRlbS5lbnRyeSA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5KHtcbiAgICAgIHRpbWU6IG5vdygpLFxuICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICBib3VuZGluZ0NsaWVudFJlY3Q6IHRhcmdldFJlY3QsXG4gICAgICByb290Qm91bmRzOiByb290UmVjdCxcbiAgICAgIGludGVyc2VjdGlvblJlY3Q6IGludGVyc2VjdGlvblJlY3RcbiAgICB9KTtcblxuICAgIGlmICghb2xkRW50cnkpIHtcbiAgICAgIHRoaXMuX3F1ZXVlZEVudHJpZXMucHVzaChuZXdFbnRyeSk7XG4gICAgfSBlbHNlIGlmIChyb290SXNJbkRvbSAmJiByb290Q29udGFpbnNUYXJnZXQpIHtcbiAgICAgIC8vIElmIHRoZSBuZXcgZW50cnkgaW50ZXJzZWN0aW9uIHJhdGlvIGhhcyBjcm9zc2VkIGFueSBvZiB0aGVcbiAgICAgIC8vIHRocmVzaG9sZHMsIGFkZCBhIG5ldyBlbnRyeS5cbiAgICAgIGlmICh0aGlzLl9oYXNDcm9zc2VkVGhyZXNob2xkKG9sZEVudHJ5LCBuZXdFbnRyeSkpIHtcbiAgICAgICAgdGhpcy5fcXVldWVkRW50cmllcy5wdXNoKG5ld0VudHJ5KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgdGhlIHJvb3QgaXMgbm90IGluIHRoZSBET00gb3IgdGFyZ2V0IGlzIG5vdCBjb250YWluZWQgd2l0aGluXG4gICAgICAvLyByb290IGJ1dCB0aGUgcHJldmlvdXMgZW50cnkgZm9yIHRoaXMgdGFyZ2V0IGhhZCBhbiBpbnRlcnNlY3Rpb24sXG4gICAgICAvLyBhZGQgYSBuZXcgcmVjb3JkIGluZGljYXRpbmcgcmVtb3ZhbC5cbiAgICAgIGlmIChvbGRFbnRyeSAmJiBvbGRFbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICB0aGlzLl9xdWV1ZWRFbnRyaWVzLnB1c2gobmV3RW50cnkpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgdGhpcyk7XG5cbiAgaWYgKHRoaXMuX3F1ZXVlZEVudHJpZXMubGVuZ3RoKSB7XG4gICAgdGhpcy5fY2FsbGJhY2sodGhpcy50YWtlUmVjb3JkcygpLCB0aGlzKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIEFjY2VwdHMgYSB0YXJnZXQgYW5kIHJvb3QgcmVjdCBjb21wdXRlcyB0aGUgaW50ZXJzZWN0aW9uIGJldHdlZW4gdGhlblxuICogZm9sbG93aW5nIHRoZSBhbGdvcml0aG0gaW4gdGhlIHNwZWMuXG4gKiBUT0RPKHBoaWxpcHdhbHRvbik6IGF0IHRoaXMgdGltZSBjbGlwLXBhdGggaXMgbm90IGNvbnNpZGVyZWQuXG4gKiBodHRwczovL3czYy5naXRodWIuaW8vSW50ZXJzZWN0aW9uT2JzZXJ2ZXIvI2NhbGN1bGF0ZS1pbnRlcnNlY3Rpb24tcmVjdC1hbGdvXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCBUaGUgdGFyZ2V0IERPTSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gcm9vdFJlY3QgVGhlIGJvdW5kaW5nIHJlY3Qgb2YgdGhlIHJvb3QgYWZ0ZXIgYmVpbmdcbiAqICAgICBleHBhbmRlZCBieSB0aGUgcm9vdE1hcmdpbiB2YWx1ZS5cbiAqIEByZXR1cm4gez9PYmplY3R9IFRoZSBmaW5hbCBpbnRlcnNlY3Rpb24gcmVjdCBvYmplY3Qgb3IgdW5kZWZpbmVkIGlmIG5vXG4gKiAgICAgaW50ZXJzZWN0aW9uIGlzIGZvdW5kLlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9jb21wdXRlVGFyZ2V0QW5kUm9vdEludGVyc2VjdGlvbiA9XG4gICAgZnVuY3Rpb24odGFyZ2V0LCByb290UmVjdCkge1xuXG4gIC8vIElmIHRoZSBlbGVtZW50IGlzbid0IGRpc3BsYXllZCwgYW4gaW50ZXJzZWN0aW9uIGNhbid0IGhhcHBlbi5cbiAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhcmdldCkuZGlzcGxheSA9PSAnbm9uZScpIHJldHVybjtcblxuICB2YXIgdGFyZ2V0UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdCh0YXJnZXQpO1xuICB2YXIgaW50ZXJzZWN0aW9uUmVjdCA9IHRhcmdldFJlY3Q7XG4gIHZhciBwYXJlbnQgPSBnZXRQYXJlbnROb2RlKHRhcmdldCk7XG4gIHZhciBhdFJvb3QgPSBmYWxzZTtcblxuICB3aGlsZSAoIWF0Um9vdCkge1xuICAgIHZhciBwYXJlbnRSZWN0ID0gbnVsbDtcbiAgICB2YXIgcGFyZW50Q29tcHV0ZWRTdHlsZSA9IHBhcmVudC5ub2RlVHlwZSA9PSAxID9cbiAgICAgICAgd2luZG93LmdldENvbXB1dGVkU3R5bGUocGFyZW50KSA6IHt9O1xuXG4gICAgLy8gSWYgdGhlIHBhcmVudCBpc24ndCBkaXNwbGF5ZWQsIGFuIGludGVyc2VjdGlvbiBjYW4ndCBoYXBwZW4uXG4gICAgaWYgKHBhcmVudENvbXB1dGVkU3R5bGUuZGlzcGxheSA9PSAnbm9uZScpIHJldHVybjtcblxuICAgIGlmIChwYXJlbnQgPT0gdGhpcy5yb290IHx8IHBhcmVudCA9PSBkb2N1bWVudCkge1xuICAgICAgYXRSb290ID0gdHJ1ZTtcbiAgICAgIHBhcmVudFJlY3QgPSByb290UmVjdDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaGFzIGEgbm9uLXZpc2libGUgb3ZlcmZsb3csIGFuZCBpdCdzIG5vdCB0aGUgPGJvZHk+XG4gICAgICAvLyBvciA8aHRtbD4gZWxlbWVudCwgdXBkYXRlIHRoZSBpbnRlcnNlY3Rpb24gcmVjdC5cbiAgICAgIC8vIE5vdGU6IDxib2R5PiBhbmQgPGh0bWw+IGNhbm5vdCBiZSBjbGlwcGVkIHRvIGEgcmVjdCB0aGF0J3Mgbm90IGFsc29cbiAgICAgIC8vIHRoZSBkb2N1bWVudCByZWN0LCBzbyBubyBuZWVkIHRvIGNvbXB1dGUgYSBuZXcgaW50ZXJzZWN0aW9uLlxuICAgICAgaWYgKHBhcmVudCAhPSBkb2N1bWVudC5ib2R5ICYmXG4gICAgICAgICAgcGFyZW50ICE9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJlxuICAgICAgICAgIHBhcmVudENvbXB1dGVkU3R5bGUub3ZlcmZsb3cgIT0gJ3Zpc2libGUnKSB7XG4gICAgICAgIHBhcmVudFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QocGFyZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiBlaXRoZXIgb2YgdGhlIGFib3ZlIGNvbmRpdGlvbmFscyBzZXQgYSBuZXcgcGFyZW50UmVjdCxcbiAgICAvLyBjYWxjdWxhdGUgbmV3IGludGVyc2VjdGlvbiBkYXRhLlxuICAgIGlmIChwYXJlbnRSZWN0KSB7XG4gICAgICBpbnRlcnNlY3Rpb25SZWN0ID0gY29tcHV0ZVJlY3RJbnRlcnNlY3Rpb24ocGFyZW50UmVjdCwgaW50ZXJzZWN0aW9uUmVjdCk7XG5cbiAgICAgIGlmICghaW50ZXJzZWN0aW9uUmVjdCkgYnJlYWs7XG4gICAgfVxuICAgIHBhcmVudCA9IGdldFBhcmVudE5vZGUocGFyZW50KTtcbiAgfVxuICByZXR1cm4gaW50ZXJzZWN0aW9uUmVjdDtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSByb290IHJlY3QgYWZ0ZXIgYmVpbmcgZXhwYW5kZWQgYnkgdGhlIHJvb3RNYXJnaW4gdmFsdWUuXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBleHBhbmRlZCByb290IHJlY3QuXG4gKiBAcHJpdmF0ZVxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuX2dldFJvb3RSZWN0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciByb290UmVjdDtcbiAgaWYgKHRoaXMucm9vdCkge1xuICAgIHJvb3RSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHRoaXMucm9vdCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gVXNlIDxodG1sPi88Ym9keT4gaW5zdGVhZCBvZiB3aW5kb3cgc2luY2Ugc2Nyb2xsIGJhcnMgYWZmZWN0IHNpemUuXG4gICAgdmFyIGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICAgIHJvb3RSZWN0ID0ge1xuICAgICAgdG9wOiAwLFxuICAgICAgbGVmdDogMCxcbiAgICAgIHJpZ2h0OiBodG1sLmNsaWVudFdpZHRoIHx8IGJvZHkuY2xpZW50V2lkdGgsXG4gICAgICB3aWR0aDogaHRtbC5jbGllbnRXaWR0aCB8fCBib2R5LmNsaWVudFdpZHRoLFxuICAgICAgYm90dG9tOiBodG1sLmNsaWVudEhlaWdodCB8fCBib2R5LmNsaWVudEhlaWdodCxcbiAgICAgIGhlaWdodDogaHRtbC5jbGllbnRIZWlnaHQgfHwgYm9keS5jbGllbnRIZWlnaHRcbiAgICB9O1xuICB9XG4gIHJldHVybiB0aGlzLl9leHBhbmRSZWN0QnlSb290TWFyZ2luKHJvb3RSZWN0KTtcbn07XG5cblxuLyoqXG4gKiBBY2NlcHRzIGEgcmVjdCBhbmQgZXhwYW5kcyBpdCBieSB0aGUgcm9vdE1hcmdpbiB2YWx1ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSByZWN0IFRoZSByZWN0IG9iamVjdCB0byBleHBhbmQuXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBleHBhbmRlZCByZWN0LlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9leHBhbmRSZWN0QnlSb290TWFyZ2luID0gZnVuY3Rpb24ocmVjdCkge1xuICB2YXIgbWFyZ2lucyA9IHRoaXMuX3Jvb3RNYXJnaW5WYWx1ZXMubWFwKGZ1bmN0aW9uKG1hcmdpbiwgaSkge1xuICAgIHJldHVybiBtYXJnaW4udW5pdCA9PSAncHgnID8gbWFyZ2luLnZhbHVlIDpcbiAgICAgICAgbWFyZ2luLnZhbHVlICogKGkgJSAyID8gcmVjdC53aWR0aCA6IHJlY3QuaGVpZ2h0KSAvIDEwMDtcbiAgfSk7XG4gIHZhciBuZXdSZWN0ID0ge1xuICAgIHRvcDogcmVjdC50b3AgLSBtYXJnaW5zWzBdLFxuICAgIHJpZ2h0OiByZWN0LnJpZ2h0ICsgbWFyZ2luc1sxXSxcbiAgICBib3R0b206IHJlY3QuYm90dG9tICsgbWFyZ2luc1syXSxcbiAgICBsZWZ0OiByZWN0LmxlZnQgLSBtYXJnaW5zWzNdXG4gIH07XG4gIG5ld1JlY3Qud2lkdGggPSBuZXdSZWN0LnJpZ2h0IC0gbmV3UmVjdC5sZWZ0O1xuICBuZXdSZWN0LmhlaWdodCA9IG5ld1JlY3QuYm90dG9tIC0gbmV3UmVjdC50b3A7XG5cbiAgcmV0dXJuIG5ld1JlY3Q7XG59O1xuXG5cbi8qKlxuICogQWNjZXB0cyBhbiBvbGQgYW5kIG5ldyBlbnRyeSBhbmQgcmV0dXJucyB0cnVlIGlmIGF0IGxlYXN0IG9uZSBvZiB0aGVcbiAqIHRocmVzaG9sZCB2YWx1ZXMgaGFzIGJlZW4gY3Jvc3NlZC5cbiAqIEBwYXJhbSB7P0ludGVyc2VjdGlvbk9ic2VydmVyRW50cnl9IG9sZEVudHJ5IFRoZSBwcmV2aW91cyBlbnRyeSBmb3IgYVxuICogICAgcGFydGljdWxhciB0YXJnZXQgZWxlbWVudCBvciBudWxsIGlmIG5vIHByZXZpb3VzIGVudHJ5IGV4aXN0cy5cbiAqIEBwYXJhbSB7SW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeX0gbmV3RW50cnkgVGhlIGN1cnJlbnQgZW50cnkgZm9yIGFcbiAqICAgIHBhcnRpY3VsYXIgdGFyZ2V0IGVsZW1lbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgYSBhbnkgdGhyZXNob2xkIGhhcyBiZWVuIGNyb3NzZWQuXG4gKiBAcHJpdmF0ZVxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuX2hhc0Nyb3NzZWRUaHJlc2hvbGQgPVxuICAgIGZ1bmN0aW9uKG9sZEVudHJ5LCBuZXdFbnRyeSkge1xuXG4gIC8vIFRvIG1ha2UgY29tcGFyaW5nIGVhc2llciwgYW4gZW50cnkgdGhhdCBoYXMgYSByYXRpbyBvZiAwXG4gIC8vIGJ1dCBkb2VzIG5vdCBhY3R1YWxseSBpbnRlcnNlY3QgaXMgZ2l2ZW4gYSB2YWx1ZSBvZiAtMVxuICB2YXIgb2xkUmF0aW8gPSBvbGRFbnRyeSAmJiBvbGRFbnRyeS5pc0ludGVyc2VjdGluZyA/XG4gICAgICBvbGRFbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyB8fCAwIDogLTE7XG4gIHZhciBuZXdSYXRpbyA9IG5ld0VudHJ5LmlzSW50ZXJzZWN0aW5nID9cbiAgICAgIG5ld0VudHJ5LmludGVyc2VjdGlvblJhdGlvIHx8IDAgOiAtMTtcblxuICAvLyBJZ25vcmUgdW5jaGFuZ2VkIHJhdGlvc1xuICBpZiAob2xkUmF0aW8gPT09IG5ld1JhdGlvKSByZXR1cm47XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRocmVzaG9sZHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdGhyZXNob2xkID0gdGhpcy50aHJlc2hvbGRzW2ldO1xuXG4gICAgLy8gUmV0dXJuIHRydWUgaWYgYW4gZW50cnkgbWF0Y2hlcyBhIHRocmVzaG9sZCBvciBpZiB0aGUgbmV3IHJhdGlvXG4gICAgLy8gYW5kIHRoZSBvbGQgcmF0aW8gYXJlIG9uIHRoZSBvcHBvc2l0ZSBzaWRlcyBvZiBhIHRocmVzaG9sZC5cbiAgICBpZiAodGhyZXNob2xkID09IG9sZFJhdGlvIHx8IHRocmVzaG9sZCA9PSBuZXdSYXRpbyB8fFxuICAgICAgICB0aHJlc2hvbGQgPCBvbGRSYXRpbyAhPT0gdGhyZXNob2xkIDwgbmV3UmF0aW8pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHJvb3QgZWxlbWVudCBpcyBhbiBlbGVtZW50IGFuZCBpcyBpbiB0aGUgRE9NLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcm9vdCBlbGVtZW50IGlzIGFuIGVsZW1lbnQgYW5kIGlzIGluIHRoZSBET00uXG4gKiBAcHJpdmF0ZVxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuX3Jvb3RJc0luRG9tID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhdGhpcy5yb290IHx8IGNvbnRhaW5zRGVlcChkb2N1bWVudCwgdGhpcy5yb290KTtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB0YXJnZXQgZWxlbWVudCBpcyBhIGNoaWxkIG9mIHJvb3QuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCBUaGUgdGFyZ2V0IGVsZW1lbnQgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBhIGNoaWxkIG9mIHJvb3QuXG4gKiBAcHJpdmF0ZVxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuX3Jvb3RDb250YWluc1RhcmdldCA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICByZXR1cm4gY29udGFpbnNEZWVwKHRoaXMucm9vdCB8fCBkb2N1bWVudCwgdGFyZ2V0KTtcbn07XG5cblxuLyoqXG4gKiBBZGRzIHRoZSBpbnN0YW5jZSB0byB0aGUgZ2xvYmFsIEludGVyc2VjdGlvbk9ic2VydmVyIHJlZ2lzdHJ5IGlmIGl0IGlzbid0XG4gKiBhbHJlYWR5IHByZXNlbnQuXG4gKiBAcHJpdmF0ZVxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuX3JlZ2lzdGVySW5zdGFuY2UgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHJlZ2lzdHJ5LmluZGV4T2YodGhpcykgPCAwKSB7XG4gICAgcmVnaXN0cnkucHVzaCh0aGlzKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIFJlbW92ZXMgdGhlIGluc3RhbmNlIGZyb20gdGhlIGdsb2JhbCBJbnRlcnNlY3Rpb25PYnNlcnZlciByZWdpc3RyeS5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5fdW5yZWdpc3Rlckluc3RhbmNlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpbmRleCA9IHJlZ2lzdHJ5LmluZGV4T2YodGhpcyk7XG4gIGlmIChpbmRleCAhPSAtMSkgcmVnaXN0cnkuc3BsaWNlKGluZGV4LCAxKTtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIHBlcmZvcm1hbmNlLm5vdygpIG1ldGhvZCBvciBudWxsIGluIGJyb3dzZXJzXG4gKiB0aGF0IGRvbid0IHN1cHBvcnQgdGhlIEFQSS5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGVsYXBzZWQgdGltZSBzaW5jZSB0aGUgcGFnZSB3YXMgcmVxdWVzdGVkLlxuICovXG5mdW5jdGlvbiBub3coKSB7XG4gIHJldHVybiB3aW5kb3cucGVyZm9ybWFuY2UgJiYgcGVyZm9ybWFuY2Uubm93ICYmIHBlcmZvcm1hbmNlLm5vdygpO1xufVxuXG5cbi8qKlxuICogVGhyb3R0bGVzIGEgZnVuY3Rpb24gYW5kIGRlbGF5cyBpdHMgZXhlY3V0aW9uLCBzbyBpdCdzIG9ubHkgY2FsbGVkIGF0IG1vc3RcbiAqIG9uY2Ugd2l0aGluIGEgZ2l2ZW4gdGltZSBwZXJpb2QuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gKiBAcGFyYW0ge251bWJlcn0gdGltZW91dCBUaGUgYW1vdW50IG9mIHRpbWUgdGhhdCBtdXN0IHBhc3MgYmVmb3JlIHRoZVxuICogICAgIGZ1bmN0aW9uIGNhbiBiZSBjYWxsZWQgYWdhaW4uXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gVGhlIHRocm90dGxlZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUoZm4sIHRpbWVvdXQpIHtcbiAgdmFyIHRpbWVyID0gbnVsbDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRpbWVyKSB7XG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGZuKCk7XG4gICAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgIH0sIHRpbWVvdXQpO1xuICAgIH1cbiAgfTtcbn1cblxuXG4vKipcbiAqIEFkZHMgYW4gZXZlbnQgaGFuZGxlciB0byBhIERPTSBub2RlIGVuc3VyaW5nIGNyb3NzLWJyb3dzZXIgY29tcGF0aWJpbGl0eS5cbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBUaGUgRE9NIG5vZGUgdG8gYWRkIHRoZSBldmVudCBoYW5kbGVyIHRvLlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGV2ZW50IGhhbmRsZXIgdG8gYWRkLlxuICogQHBhcmFtIHtib29sZWFufSBvcHRfdXNlQ2FwdHVyZSBPcHRpb25hbGx5IGFkZHMgdGhlIGV2ZW4gdG8gdGhlIGNhcHR1cmVcbiAqICAgICBwaGFzZS4gTm90ZTogdGhpcyBvbmx5IHdvcmtzIGluIG1vZGVybiBicm93c2Vycy5cbiAqL1xuZnVuY3Rpb24gYWRkRXZlbnQobm9kZSwgZXZlbnQsIGZuLCBvcHRfdXNlQ2FwdHVyZSkge1xuICBpZiAodHlwZW9mIG5vZGUuYWRkRXZlbnRMaXN0ZW5lciA9PSAnZnVuY3Rpb24nKSB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmbiwgb3B0X3VzZUNhcHR1cmUgfHwgZmFsc2UpO1xuICB9XG4gIGVsc2UgaWYgKHR5cGVvZiBub2RlLmF0dGFjaEV2ZW50ID09ICdmdW5jdGlvbicpIHtcbiAgICBub2RlLmF0dGFjaEV2ZW50KCdvbicgKyBldmVudCwgZm4pO1xuICB9XG59XG5cblxuLyoqXG4gKiBSZW1vdmVzIGEgcHJldmlvdXNseSBhZGRlZCBldmVudCBoYW5kbGVyIGZyb20gYSBET00gbm9kZS5cbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBUaGUgRE9NIG5vZGUgdG8gcmVtb3ZlIHRoZSBldmVudCBoYW5kbGVyIGZyb20uXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZXZlbnQgaGFuZGxlciB0byByZW1vdmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdF91c2VDYXB0dXJlIElmIHRoZSBldmVudCBoYW5kbGVyIHdhcyBhZGRlZCB3aXRoIHRoaXNcbiAqICAgICBmbGFnIHNldCB0byB0cnVlLCBpdCBzaG91bGQgYmUgc2V0IHRvIHRydWUgaGVyZSBpbiBvcmRlciB0byByZW1vdmUgaXQuXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50KG5vZGUsIGV2ZW50LCBmbiwgb3B0X3VzZUNhcHR1cmUpIHtcbiAgaWYgKHR5cGVvZiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPT0gJ2Z1bmN0aW9uJykge1xuICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgZm4sIG9wdF91c2VDYXB0dXJlIHx8IGZhbHNlKTtcbiAgfVxuICBlbHNlIGlmICh0eXBlb2Ygbm9kZS5kZXRhdGNoRXZlbnQgPT0gJ2Z1bmN0aW9uJykge1xuICAgIG5vZGUuZGV0YXRjaEV2ZW50KCdvbicgKyBldmVudCwgZm4pO1xuICB9XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbnRlcnNlY3Rpb24gYmV0d2VlbiB0d28gcmVjdCBvYmplY3RzLlxuICogQHBhcmFtIHtPYmplY3R9IHJlY3QxIFRoZSBmaXJzdCByZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IHJlY3QyIFRoZSBzZWNvbmQgcmVjdC5cbiAqIEByZXR1cm4gez9PYmplY3R9IFRoZSBpbnRlcnNlY3Rpb24gcmVjdCBvciB1bmRlZmluZWQgaWYgbm8gaW50ZXJzZWN0aW9uXG4gKiAgICAgaXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVSZWN0SW50ZXJzZWN0aW9uKHJlY3QxLCByZWN0Mikge1xuICB2YXIgdG9wID0gTWF0aC5tYXgocmVjdDEudG9wLCByZWN0Mi50b3ApO1xuICB2YXIgYm90dG9tID0gTWF0aC5taW4ocmVjdDEuYm90dG9tLCByZWN0Mi5ib3R0b20pO1xuICB2YXIgbGVmdCA9IE1hdGgubWF4KHJlY3QxLmxlZnQsIHJlY3QyLmxlZnQpO1xuICB2YXIgcmlnaHQgPSBNYXRoLm1pbihyZWN0MS5yaWdodCwgcmVjdDIucmlnaHQpO1xuICB2YXIgd2lkdGggPSByaWdodCAtIGxlZnQ7XG4gIHZhciBoZWlnaHQgPSBib3R0b20gLSB0b3A7XG5cbiAgcmV0dXJuICh3aWR0aCA+PSAwICYmIGhlaWdodCA+PSAwKSAmJiB7XG4gICAgdG9wOiB0b3AsXG4gICAgYm90dG9tOiBib3R0b20sXG4gICAgbGVmdDogbGVmdCxcbiAgICByaWdodDogcmlnaHQsXG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0XG4gIH07XG59XG5cblxuLyoqXG4gKiBTaGltcyB0aGUgbmF0aXZlIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG9sZGVyIElFLlxuICogQHBhcmFtIHtFbGVtZW50fSBlbCBUaGUgZWxlbWVudCB3aG9zZSBib3VuZGluZyByZWN0IHRvIGdldC5cbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIChwb3NzaWJseSBzaGltbWVkKSByZWN0IG9mIHRoZSBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWwpIHtcbiAgdmFyIHJlY3Q7XG5cbiAgdHJ5IHtcbiAgICByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIElnbm9yZSBXaW5kb3dzIDcgSUUxMSBcIlVuc3BlY2lmaWVkIGVycm9yXCJcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdzNjL0ludGVyc2VjdGlvbk9ic2VydmVyL3B1bGwvMjA1XG4gIH1cblxuICBpZiAoIXJlY3QpIHJldHVybiBnZXRFbXB0eVJlY3QoKTtcblxuICAvLyBPbGRlciBJRVxuICBpZiAoIShyZWN0LndpZHRoICYmIHJlY3QuaGVpZ2h0KSkge1xuICAgIHJlY3QgPSB7XG4gICAgICB0b3A6IHJlY3QudG9wLFxuICAgICAgcmlnaHQ6IHJlY3QucmlnaHQsXG4gICAgICBib3R0b206IHJlY3QuYm90dG9tLFxuICAgICAgbGVmdDogcmVjdC5sZWZ0LFxuICAgICAgd2lkdGg6IHJlY3QucmlnaHQgLSByZWN0LmxlZnQsXG4gICAgICBoZWlnaHQ6IHJlY3QuYm90dG9tIC0gcmVjdC50b3BcbiAgICB9O1xuICB9XG4gIHJldHVybiByZWN0O1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhbiBlbXB0eSByZWN0IG9iamVjdC4gQW4gZW1wdHkgcmVjdCBpcyByZXR1cm5lZCB3aGVuIGFuIGVsZW1lbnRcbiAqIGlzIG5vdCBpbiB0aGUgRE9NLlxuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZW1wdHkgcmVjdC5cbiAqL1xuZnVuY3Rpb24gZ2V0RW1wdHlSZWN0KCkge1xuICByZXR1cm4ge1xuICAgIHRvcDogMCxcbiAgICBib3R0b206IDAsXG4gICAgbGVmdDogMCxcbiAgICByaWdodDogMCxcbiAgICB3aWR0aDogMCxcbiAgICBoZWlnaHQ6IDBcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgdG8gc2VlIGlmIGEgcGFyZW50IGVsZW1lbnQgY29udGFpbnMgYSBjaGlsZCBlbGVtZW50IChpbmNsdWRpbmcgaW5zaWRlXG4gKiBzaGFkb3cgRE9NKS5cbiAqIEBwYXJhbSB7Tm9kZX0gcGFyZW50IFRoZSBwYXJlbnQgZWxlbWVudC5cbiAqIEBwYXJhbSB7Tm9kZX0gY2hpbGQgVGhlIGNoaWxkIGVsZW1lbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBwYXJlbnQgbm9kZSBjb250YWlucyB0aGUgY2hpbGQgbm9kZS5cbiAqL1xuZnVuY3Rpb24gY29udGFpbnNEZWVwKHBhcmVudCwgY2hpbGQpIHtcbiAgdmFyIG5vZGUgPSBjaGlsZDtcbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBpZiAobm9kZSA9PSBwYXJlbnQpIHJldHVybiB0cnVlO1xuXG4gICAgbm9kZSA9IGdldFBhcmVudE5vZGUobm9kZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8qKlxuICogR2V0cyB0aGUgcGFyZW50IG5vZGUgb2YgYW4gZWxlbWVudCBvciBpdHMgaG9zdCBlbGVtZW50IGlmIHRoZSBwYXJlbnQgbm9kZVxuICogaXMgYSBzaGFkb3cgcm9vdC5cbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBUaGUgbm9kZSB3aG9zZSBwYXJlbnQgdG8gZ2V0LlxuICogQHJldHVybiB7Tm9kZXxudWxsfSBUaGUgcGFyZW50IG5vZGUgb3IgbnVsbCBpZiBubyBwYXJlbnQgZXhpc3RzLlxuICovXG5mdW5jdGlvbiBnZXRQYXJlbnROb2RlKG5vZGUpIHtcbiAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcblxuICBpZiAocGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSA9PSAxMSAmJiBwYXJlbnQuaG9zdCkge1xuICAgIC8vIElmIHRoZSBwYXJlbnQgaXMgYSBzaGFkb3cgcm9vdCwgcmV0dXJuIHRoZSBob3N0IGVsZW1lbnQuXG4gICAgcmV0dXJuIHBhcmVudC5ob3N0O1xuICB9XG4gIHJldHVybiBwYXJlbnQ7XG59XG5cblxuLy8gRXhwb3NlcyB0aGUgY29uc3RydWN0b3JzIGdsb2JhbGx5Llxud2luZG93LkludGVyc2VjdGlvbk9ic2VydmVyID0gSW50ZXJzZWN0aW9uT2JzZXJ2ZXI7XG53aW5kb3cuSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSA9IEludGVyc2VjdGlvbk9ic2VydmVyRW50cnk7XG5cbn0od2luZG93LCBkb2N1bWVudCkpO1xuIiwiLyohXHJcbiAgKiBTdGlja3lmaWxsIOKAkyBgcG9zaXRpb246IHN0aWNreWAgcG9seWZpbGxcclxuICAqIHYuIDIuMS4wIHwgaHR0cHM6Ly9naXRodWIuY29tL3dpbGRkZWVyL3N0aWNreWZpbGxcclxuICAqIE1JVCBMaWNlbnNlXHJcbiAgKi9cclxuXHJcbjsoZnVuY3Rpb24od2luZG93LCBkb2N1bWVudCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgXHJcbiAgICAvKlxyXG4gICAgICogMS4gQ2hlY2sgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgYHBvc2l0aW9uOiBzdGlja3lgIG5hdGl2ZWx5IG9yIGlzIHRvbyBvbGQgdG8gcnVuIHRoZSBwb2x5ZmlsbC5cclxuICAgICAqICAgIElmIGVpdGhlciBvZiB0aGVzZSBpcyB0aGUgY2FzZSBzZXQgYHNlcHB1a3VgIGZsYWcuIEl0IHdpbGwgYmUgY2hlY2tlZCBsYXRlciB0byBkaXNhYmxlIGtleSBmZWF0dXJlc1xyXG4gICAgICogICAgb2YgdGhlIHBvbHlmaWxsLCBidXQgdGhlIEFQSSB3aWxsIHJlbWFpbiBmdW5jdGlvbmFsIHRvIGF2b2lkIGJyZWFraW5nIHRoaW5ncy5cclxuICAgICAqL1xyXG4gICAgXHJcbiAgICB2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxyXG4gICAgXHJcbiAgICB2YXIgc2VwcHVrdSA9IGZhbHNlO1xyXG4gICAgXHJcbiAgICB2YXIgaXNXaW5kb3dEZWZpbmVkID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XHJcbiAgICBcclxuICAgIC8vIFRoZSBwb2x5ZmlsbCBjYW7igJl0IGZ1bmN0aW9uIHByb3Blcmx5IHdpdGhvdXQgYHdpbmRvd2Agb3IgYHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlYC5cclxuICAgIGlmICghaXNXaW5kb3dEZWZpbmVkIHx8ICF3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSkgc2VwcHVrdSA9IHRydWU7XHJcbiAgICAvLyBEb2504oCZdCBnZXQgaW4gYSB3YXkgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgYHBvc2l0aW9uOiBzdGlja3lgIG5hdGl2ZWx5LlxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgICAgIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVzdE5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKFsnJywgJy13ZWJraXQtJywgJy1tb3otJywgJy1tcy0nXS5zb21lKGZ1bmN0aW9uIChwcmVmaXgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXN0Tm9kZS5zdHlsZS5wb3NpdGlvbiA9IHByZWZpeCArICdzdGlja3knO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVzdE5vZGUuc3R5bGUucG9zaXRpb24gIT0gJyc7XHJcbiAgICAgICAgICAgICAgICB9KSkgc2VwcHVrdSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pKCk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAvKlxyXG4gICAgICogMi4g4oCcR2xvYmFs4oCdIHZhcnMgdXNlZCBhY3Jvc3MgdGhlIHBvbHlmaWxsXHJcbiAgICAgKi9cclxuICAgIHZhciBpc0luaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICBcclxuICAgIC8vIENoZWNrIGlmIFNoYWRvdyBSb290IGNvbnN0cnVjdG9yIGV4aXN0cyB0byBtYWtlIGZ1cnRoZXIgY2hlY2tzIHNpbXBsZXJcclxuICAgIHZhciBzaGFkb3dSb290RXhpc3RzID0gdHlwZW9mIFNoYWRvd1Jvb3QgIT09ICd1bmRlZmluZWQnO1xyXG4gICAgXHJcbiAgICAvLyBMYXN0IHNhdmVkIHNjcm9sbCBwb3NpdGlvblxyXG4gICAgdmFyIHNjcm9sbCA9IHtcclxuICAgICAgICB0b3A6IG51bGwsXHJcbiAgICAgICAgbGVmdDogbnVsbFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gQXJyYXkgb2YgY3JlYXRlZCBTdGlja3kgaW5zdGFuY2VzXHJcbiAgICB2YXIgc3RpY2tpZXMgPSBbXTtcclxuICAgIFxyXG4gICAgLypcclxuICAgICAqIDMuIFV0aWxpdHkgZnVuY3Rpb25zXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGV4dGVuZCh0YXJnZXRPYmosIHNvdXJjZU9iamVjdCkge1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2VPYmplY3QpIHtcclxuICAgICAgICAgICAgaWYgKHNvdXJjZU9iamVjdC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRPYmpba2V5XSA9IHNvdXJjZU9iamVjdFtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBwYXJzZU51bWVyaWModmFsKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsKSB8fCAwO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBnZXREb2NPZmZzZXRUb3Aobm9kZSkge1xyXG4gICAgICAgIHZhciBkb2NPZmZzZXRUb3AgPSAwO1xyXG4gICAgXHJcbiAgICAgICAgd2hpbGUgKG5vZGUpIHtcclxuICAgICAgICAgICAgZG9jT2Zmc2V0VG9wICs9IG5vZGUub2Zmc2V0VG9wO1xyXG4gICAgICAgICAgICBub2RlID0gbm9kZS5vZmZzZXRQYXJlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIGRvY09mZnNldFRvcDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLypcclxuICAgICAqIDQuIFN0aWNreSBjbGFzc1xyXG4gICAgICovXHJcbiAgICBcclxuICAgIHZhciBTdGlja3kgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gU3RpY2t5KG5vZGUpIHtcclxuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0aWNreSk7XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkgdGhyb3cgbmV3IEVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIEhUTUxFbGVtZW50Jyk7XHJcbiAgICAgICAgICAgIGlmIChzdGlja2llcy5zb21lKGZ1bmN0aW9uIChzdGlja3kpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdGlja3kuX25vZGUgPT09IG5vZGU7XHJcbiAgICAgICAgICAgIH0pKSB0aHJvdyBuZXcgRXJyb3IoJ1N0aWNreWZpbGwgaXMgYWxyZWFkeSBhcHBsaWVkIHRvIHRoaXMgbm9kZScpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMuX25vZGUgPSBub2RlO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGlja3lNb2RlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XHJcbiAgICBcclxuICAgICAgICAgICAgc3RpY2tpZXMucHVzaCh0aGlzKTtcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBfY3JlYXRlQ2xhc3MoU3RpY2t5LCBbe1xyXG4gICAgICAgICAgICBrZXk6ICdyZWZyZXNoJyxcclxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlZnJlc2goKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VwcHVrdSB8fCB0aGlzLl9yZW1vdmVkKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYWN0aXZlKSB0aGlzLl9kZWFjdGl2YXRlKCk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIHZhciBub2RlID0gdGhpcy5fbm9kZTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAqIDEuIFNhdmUgbm9kZSBjb21wdXRlZCBwcm9wc1xyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICB2YXIgbm9kZUNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vZGVDb21wdXRlZFByb3BzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBub2RlQ29tcHV0ZWRTdHlsZS5wb3NpdGlvbixcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IG5vZGVDb21wdXRlZFN0eWxlLnRvcCxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBub2RlQ29tcHV0ZWRTdHlsZS5kaXNwbGF5LFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogbm9kZUNvbXB1dGVkU3R5bGUubWFyZ2luVG9wLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogbm9kZUNvbXB1dGVkU3R5bGUubWFyZ2luQm90dG9tLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IG5vZGVDb21wdXRlZFN0eWxlLm1hcmdpbkxlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IG5vZGVDb21wdXRlZFN0eWxlLm1hcmdpblJpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgIGNzc0Zsb2F0OiBub2RlQ29tcHV0ZWRTdHlsZS5jc3NGbG9hdFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAqIDIuIENoZWNrIGlmIHRoZSBub2RlIGNhbiBiZSBhY3RpdmF0ZWRcclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKHBhcnNlRmxvYXQobm9kZUNvbXB1dGVkUHJvcHMudG9wKSkgfHwgbm9kZUNvbXB1dGVkUHJvcHMuZGlzcGxheSA9PSAndGFibGUtY2VsbCcgfHwgbm9kZUNvbXB1dGVkUHJvcHMuZGlzcGxheSA9PSAnbm9uZScpIHJldHVybjtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAqIDMuIENoZWNrIGlmIHRoZSBjdXJyZW50IG5vZGUgcG9zaXRpb24gaXMgYHN0aWNreWAuIElmIGl0IGlzLCBpdCBtZWFucyB0aGF0IHRoZSBicm93c2VyIHN1cHBvcnRzIHN0aWNreSBwb3NpdGlvbmluZyxcclxuICAgICAgICAgICAgICAgICAqICAgIGJ1dCB0aGUgcG9seWZpbGwgd2FzIGZvcmNlLWVuYWJsZWQuIFdlIHNldCB0aGUgbm9kZeKAmXMgcG9zaXRpb24gdG8gYHN0YXRpY2AgYmVmb3JlIGNvbnRpbnVpbmcsIHNvIHRoYXQgdGhlIG5vZGVcclxuICAgICAgICAgICAgICAgICAqICAgIGlzIGluIGl04oCZcyBpbml0aWFsIHBvc2l0aW9uIHdoZW4gd2UgZ2F0aGVyIGl0cyBwYXJhbXMuXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbFBvc2l0aW9uID0gbm9kZS5zdHlsZS5wb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgIGlmIChub2RlQ29tcHV0ZWRTdHlsZS5wb3NpdGlvbiA9PSAnc3RpY2t5JyB8fCBub2RlQ29tcHV0ZWRTdHlsZS5wb3NpdGlvbiA9PSAnLXdlYmtpdC1zdGlja3knKSBub2RlLnN0eWxlLnBvc2l0aW9uID0gJ3N0YXRpYyc7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgKiA0LiBHZXQgbmVjZXNzYXJ5IG5vZGUgcGFyYW1ldGVyc1xyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVmZXJlbmNlTm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnROb2RlID0gc2hhZG93Um9vdEV4aXN0cyAmJiByZWZlcmVuY2VOb2RlIGluc3RhbmNlb2YgU2hhZG93Um9vdCA/IHJlZmVyZW5jZU5vZGUuaG9zdCA6IHJlZmVyZW5jZU5vZGU7XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9kZVdpbk9mZnNldCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50V2luT2Zmc2V0ID0gcGFyZW50Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRDb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShwYXJlbnROb2RlKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcGFyZW50ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IHBhcmVudE5vZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBwYXJlbnROb2RlLnN0eWxlLnBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRIZWlnaHQ6IHBhcmVudE5vZGUub2Zmc2V0SGVpZ2h0XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb2Zmc2V0VG9XaW5kb3cgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogbm9kZVdpbk9mZnNldC5sZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggLSBub2RlV2luT2Zmc2V0LnJpZ2h0XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb2Zmc2V0VG9QYXJlbnQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBub2RlV2luT2Zmc2V0LnRvcCAtIHBhcmVudFdpbk9mZnNldC50b3AgLSBwYXJzZU51bWVyaWMocGFyZW50Q29tcHV0ZWRTdHlsZS5ib3JkZXJUb3BXaWR0aCksXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogbm9kZVdpbk9mZnNldC5sZWZ0IC0gcGFyZW50V2luT2Zmc2V0LmxlZnQgLSBwYXJzZU51bWVyaWMocGFyZW50Q29tcHV0ZWRTdHlsZS5ib3JkZXJMZWZ0V2lkdGgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAtbm9kZVdpbk9mZnNldC5yaWdodCArIHBhcmVudFdpbk9mZnNldC5yaWdodCAtIHBhcnNlTnVtZXJpYyhwYXJlbnRDb21wdXRlZFN0eWxlLmJvcmRlclJpZ2h0V2lkdGgpXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGVzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBvcmlnaW5hbFBvc2l0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogbm9kZS5zdHlsZS50b3AsXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiBub2RlLnN0eWxlLmJvdHRvbSxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBub2RlLnN0eWxlLmxlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IG5vZGUuc3R5bGUucmlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IG5vZGUuc3R5bGUud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBub2RlLnN0eWxlLm1hcmdpblRvcCxcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiBub2RlLnN0eWxlLm1hcmdpbkxlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IG5vZGUuc3R5bGUubWFyZ2luUmlnaHRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIHZhciBub2RlVG9wVmFsdWUgPSBwYXJzZU51bWVyaWMobm9kZUNvbXB1dGVkUHJvcHMudG9wKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xpbWl0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydDogbm9kZVdpbk9mZnNldC50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQgLSBub2RlVG9wVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBwYXJlbnRXaW5PZmZzZXQudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0ICsgcGFyZW50Tm9kZS5vZmZzZXRIZWlnaHQgLSBwYXJzZU51bWVyaWMocGFyZW50Q29tcHV0ZWRTdHlsZS5ib3JkZXJCb3R0b21XaWR0aCkgLSBub2RlLm9mZnNldEhlaWdodCAtIG5vZGVUb3BWYWx1ZSAtIHBhcnNlTnVtZXJpYyhub2RlQ29tcHV0ZWRQcm9wcy5tYXJnaW5Cb3R0b20pXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICogNS4gRW5zdXJlIHRoYXQgdGhlIG5vZGUgd2lsbCBiZSBwb3NpdGlvbmVkIHJlbGF0aXZlbHkgdG8gdGhlIHBhcmVudCBub2RlXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRQb3NpdGlvbiA9IHBhcmVudENvbXB1dGVkU3R5bGUucG9zaXRpb247XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRQb3NpdGlvbiAhPSAnYWJzb2x1dGUnICYmIHBhcmVudFBvc2l0aW9uICE9ICdyZWxhdGl2ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnROb2RlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAqIDYuIFJlY2FsYyBub2RlIHBvc2l0aW9uLlxyXG4gICAgICAgICAgICAgICAgICogICAgSXTigJlzIGltcG9ydGFudCB0byBkbyB0aGlzIGJlZm9yZSBjbG9uZSBpbmplY3Rpb24gdG8gYXZvaWQgc2Nyb2xsaW5nIGJ1ZyBpbiBDaHJvbWUuXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIHRoaXMuX3JlY2FsY1Bvc2l0aW9uKCk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgKiA3LiBDcmVhdGUgYSBjbG9uZVxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICB2YXIgY2xvbmUgPSB0aGlzLl9jbG9uZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgY2xvbmUubm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBBcHBseSBzdHlsZXMgdG8gdGhlIGNsb25lXHJcbiAgICAgICAgICAgICAgICBleHRlbmQoY2xvbmUubm9kZS5zdHlsZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBub2RlV2luT2Zmc2V0LnJpZ2h0IC0gbm9kZVdpbk9mZnNldC5sZWZ0ICsgJ3B4JyxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IG5vZGVXaW5PZmZzZXQuYm90dG9tIC0gbm9kZVdpbk9mZnNldC50b3AgKyAncHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogbm9kZUNvbXB1dGVkUHJvcHMubWFyZ2luVG9wLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogbm9kZUNvbXB1dGVkUHJvcHMubWFyZ2luQm90dG9tLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IG5vZGVDb21wdXRlZFByb3BzLm1hcmdpbkxlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IG5vZGVDb21wdXRlZFByb3BzLm1hcmdpblJpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgIGNzc0Zsb2F0OiBub2RlQ29tcHV0ZWRQcm9wcy5jc3NGbG9hdCxcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMCxcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXJTcGFjaW5nOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMWVtJyxcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3N0YXRpYydcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICByZWZlcmVuY2VOb2RlLmluc2VydEJlZm9yZShjbG9uZS5ub2RlLCBub2RlKTtcclxuICAgICAgICAgICAgICAgIGNsb25lLmRvY09mZnNldFRvcCA9IGdldERvY09mZnNldFRvcChjbG9uZS5ub2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAga2V5OiAnX3JlY2FsY1Bvc2l0aW9uJyxcclxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZWNhbGNQb3NpdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fYWN0aXZlIHx8IHRoaXMuX3JlbW92ZWQpIHJldHVybjtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgdmFyIHN0aWNreU1vZGUgPSBzY3JvbGwudG9wIDw9IHRoaXMuX2xpbWl0cy5zdGFydCA/ICdzdGFydCcgOiBzY3JvbGwudG9wID49IHRoaXMuX2xpbWl0cy5lbmQgPyAnZW5kJyA6ICdtaWRkbGUnO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3RpY2t5TW9kZSA9PSBzdGlja3lNb2RlKSByZXR1cm47XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoc3RpY2t5TW9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0YXJ0JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMuX25vZGUuc3R5bGUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogdGhpcy5fb2Zmc2V0VG9QYXJlbnQubGVmdCArICdweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogdGhpcy5fb2Zmc2V0VG9QYXJlbnQucmlnaHQgKyAncHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLl9vZmZzZXRUb1BhcmVudC50b3AgKyAncHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAnYXV0bycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ21pZGRsZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuZCh0aGlzLl9ub2RlLnN0eWxlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHRoaXMuX29mZnNldFRvV2luZG93LmxlZnQgKyAncHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHRoaXMuX29mZnNldFRvV2luZG93LnJpZ2h0ICsgJ3B4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy5fc3R5bGVzLnRvcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICdhdXRvJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdlbmQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRlbmQodGhpcy5fbm9kZS5zdHlsZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB0aGlzLl9vZmZzZXRUb1BhcmVudC5sZWZ0ICsgJ3B4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiB0aGlzLl9vZmZzZXRUb1BhcmVudC5yaWdodCArICdweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6ICdhdXRvJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnYXV0bycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGlja3lNb2RlID0gc3RpY2t5TW9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAga2V5OiAnX2Zhc3RDaGVjaycsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZmFzdENoZWNrKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9hY3RpdmUgfHwgdGhpcy5fcmVtb3ZlZCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoZ2V0RG9jT2Zmc2V0VG9wKHRoaXMuX2Nsb25lLm5vZGUpIC0gdGhpcy5fY2xvbmUuZG9jT2Zmc2V0VG9wKSA+IDEgfHwgTWF0aC5hYnModGhpcy5fcGFyZW50Lm5vZGUub2Zmc2V0SGVpZ2h0IC0gdGhpcy5fcGFyZW50Lm9mZnNldEhlaWdodCkgPiAxKSB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAga2V5OiAnX2RlYWN0aXZhdGUnLFxyXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2RlYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2FjdGl2ZSB8fCB0aGlzLl9yZW1vdmVkKSByZXR1cm47XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Nsb25lLm5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9jbG9uZS5ub2RlKTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jbG9uZTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMuX25vZGUuc3R5bGUsIHRoaXMuX3N0eWxlcyk7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fc3R5bGVzO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB3aGV0aGVyIGVsZW1lbnTigJlzIHBhcmVudCBub2RlIGlzIHVzZWQgYnkgb3RoZXIgc3RpY2tpZXMuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBub3QsIHJlc3RvcmUgcGFyZW50IG5vZGXigJlzIHN0eWxlcy5cclxuICAgICAgICAgICAgICAgIGlmICghc3RpY2tpZXMuc29tZShmdW5jdGlvbiAoc3RpY2t5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0aWNreSAhPT0gX3RoaXMgJiYgc3RpY2t5Ll9wYXJlbnQgJiYgc3RpY2t5Ll9wYXJlbnQubm9kZSA9PT0gX3RoaXMuX3BhcmVudC5ub2RlO1xyXG4gICAgICAgICAgICAgICAgfSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBleHRlbmQodGhpcy5fcGFyZW50Lm5vZGUuc3R5bGUsIHRoaXMuX3BhcmVudC5zdHlsZXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3BhcmVudDtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RpY2t5TW9kZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX29mZnNldFRvV2luZG93O1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX29mZnNldFRvUGFyZW50O1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2xpbWl0cztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAga2V5OiAncmVtb3ZlJyxcclxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWFjdGl2YXRlKCk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIHN0aWNraWVzLnNvbWUoZnVuY3Rpb24gKHN0aWNreSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RpY2t5Ll9ub2RlID09PSBfdGhpczIuX25vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RpY2tpZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfV0pO1xyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIFN0aWNreTtcclxuICAgIH0oKTtcclxuICAgIFxyXG4gICAgLypcclxuICAgICAqIDUuIFN0aWNreWZpbGwgQVBJXHJcbiAgICAgKi9cclxuICAgIFxyXG4gICAgXHJcbiAgICB2YXIgU3RpY2t5ZmlsbCA9IHtcclxuICAgICAgICBzdGlja2llczogc3RpY2tpZXMsXHJcbiAgICAgICAgU3RpY2t5OiBTdGlja3ksXHJcbiAgICBcclxuICAgICAgICBmb3JjZVN0aWNreTogZnVuY3Rpb24gZm9yY2VTdGlja3koKSB7XHJcbiAgICAgICAgICAgIHNlcHB1a3UgPSBmYWxzZTtcclxuICAgICAgICAgICAgaW5pdCgpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaEFsbCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWRkT25lOiBmdW5jdGlvbiBhZGRPbmUobm9kZSkge1xyXG4gICAgICAgICAgICAvLyBDaGVjayB3aGV0aGVyIGl04oCZcyBhIG5vZGVcclxuICAgICAgICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkge1xyXG4gICAgICAgICAgICAgICAgLy8gTWF5YmUgaXTigJlzIGEgbm9kZSBsaXN0IG9mIHNvbWUgc29ydD9cclxuICAgICAgICAgICAgICAgIC8vIFRha2UgZmlyc3Qgbm9kZSBmcm9tIHRoZSBsaXN0IHRoZW5cclxuICAgICAgICAgICAgICAgIGlmIChub2RlLmxlbmd0aCAmJiBub2RlWzBdKSBub2RlID0gbm9kZVswXTtlbHNlIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIFN0aWNreWZpbGwgaXMgYWxyZWFkeSBhcHBsaWVkIHRvIHRoZSBub2RlXHJcbiAgICAgICAgICAgIC8vIGFuZCByZXR1cm4gZXhpc3Rpbmcgc3RpY2t5XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RpY2tpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGlja2llc1tpXS5fbm9kZSA9PT0gbm9kZSkgcmV0dXJuIHN0aWNraWVzW2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGFuZCByZXR1cm4gbmV3IHN0aWNreVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFN0aWNreShub2RlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFkZDogZnVuY3Rpb24gYWRkKG5vZGVMaXN0KSB7XHJcbiAgICAgICAgICAgIC8vIElmIGl04oCZcyBhIG5vZGUgbWFrZSBhbiBhcnJheSBvZiBvbmUgbm9kZVxyXG4gICAgICAgICAgICBpZiAobm9kZUxpc3QgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkgbm9kZUxpc3QgPSBbbm9kZUxpc3RdO1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgYXJndW1lbnQgaXMgYW4gaXRlcmFibGUgb2Ygc29tZSBzb3J0XHJcbiAgICAgICAgICAgIGlmICghbm9kZUxpc3QubGVuZ3RoKSByZXR1cm47XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gQWRkIGV2ZXJ5IGVsZW1lbnQgYXMgYSBzdGlja3kgYW5kIHJldHVybiBhbiBhcnJheSBvZiBjcmVhdGVkIFN0aWNreSBpbnN0YW5jZXNcclxuICAgICAgICAgICAgdmFyIGFkZGVkU3RpY2tpZXMgPSBbXTtcclxuICAgIFxyXG4gICAgICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IG5vZGVMaXN0W2ldO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBpdOKAmXMgbm90IGFuIEhUTUxFbGVtZW50IOKAkyBjcmVhdGUgYW4gZW1wdHkgZWxlbWVudCB0byBwcmVzZXJ2ZSAxLXRvLTFcclxuICAgICAgICAgICAgICAgIC8vIGNvcnJlbGF0aW9uIHdpdGggaW5wdXQgbGlzdFxyXG4gICAgICAgICAgICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZGVkU3RpY2tpZXMucHVzaCh2b2lkIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnY29udGludWUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBTdGlja3lmaWxsIGlzIGFscmVhZHkgYXBwbGllZCB0byB0aGUgbm9kZVxyXG4gICAgICAgICAgICAgICAgLy8gYWRkIGV4aXN0aW5nIHN0aWNreVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0aWNraWVzLnNvbWUoZnVuY3Rpb24gKHN0aWNreSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGlja3kuX25vZGUgPT09IG5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkZWRTdGlja2llcy5wdXNoKHN0aWNreSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pKSByZXR1cm4gJ2NvbnRpbnVlJztcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGFuZCBhZGQgbmV3IHN0aWNreVxyXG4gICAgICAgICAgICAgICAgYWRkZWRTdGlja2llcy5wdXNoKG5ldyBTdGlja3kobm9kZSkpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBfcmV0MiA9IF9sb29wKGkpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoX3JldDIgPT09ICdjb250aW51ZScpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIGFkZGVkU3RpY2tpZXM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZWZyZXNoQWxsOiBmdW5jdGlvbiByZWZyZXNoQWxsKCkge1xyXG4gICAgICAgICAgICBzdGlja2llcy5mb3JFYWNoKGZ1bmN0aW9uIChzdGlja3kpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdGlja3kucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlbW92ZU9uZTogZnVuY3Rpb24gcmVtb3ZlT25lKG5vZGUpIHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciBpdOKAmXMgYSBub2RlXHJcbiAgICAgICAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIE1heWJlIGl04oCZcyBhIG5vZGUgbGlzdCBvZiBzb21lIHNvcnQ/XHJcbiAgICAgICAgICAgICAgICAvLyBUYWtlIGZpcnN0IG5vZGUgZnJvbSB0aGUgbGlzdCB0aGVuXHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5sZW5ndGggJiYgbm9kZVswXSkgbm9kZSA9IG5vZGVbMF07ZWxzZSByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHN0aWNraWVzIGJvdW5kIHRvIHRoZSBub2RlcyBpbiB0aGUgbGlzdFxyXG4gICAgICAgICAgICBzdGlja2llcy5zb21lKGZ1bmN0aW9uIChzdGlja3kpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGlja3kuX25vZGUgPT09IG5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGlja3kucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUobm9kZUxpc3QpIHtcclxuICAgICAgICAgICAgLy8gSWYgaXTigJlzIGEgbm9kZSBtYWtlIGFuIGFycmF5IG9mIG9uZSBub2RlXHJcbiAgICAgICAgICAgIGlmIChub2RlTGlzdCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSBub2RlTGlzdCA9IFtub2RlTGlzdF07XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBpdGVyYWJsZSBvZiBzb21lIHNvcnRcclxuICAgICAgICAgICAgaWYgKCFub2RlTGlzdC5sZW5ndGgpIHJldHVybjtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHN0aWNraWVzIGJvdW5kIHRvIHRoZSBub2RlcyBpbiB0aGUgbGlzdFxyXG4gICAgXHJcbiAgICAgICAgICAgIHZhciBfbG9vcDIgPSBmdW5jdGlvbiBfbG9vcDIoaSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBub2RlTGlzdFtpXTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgc3RpY2tpZXMuc29tZShmdW5jdGlvbiAoc3RpY2t5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0aWNreS5fbm9kZSA9PT0gbm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGlja3kucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIF9sb29wMihpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVtb3ZlQWxsOiBmdW5jdGlvbiByZW1vdmVBbGwoKSB7XHJcbiAgICAgICAgICAgIHdoaWxlIChzdGlja2llcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHN0aWNraWVzWzBdLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLypcclxuICAgICAqIDYuIFNldHVwIGV2ZW50cyAodW5sZXNzIHRoZSBwb2x5ZmlsbCB3YXMgZGlzYWJsZWQpXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAgICAgaWYgKGlzSW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgXHJcbiAgICAgICAgLy8gV2F0Y2ggZm9yIHNjcm9sbCBwb3NpdGlvbiBjaGFuZ2VzIGFuZCB0cmlnZ2VyIHJlY2FsYy9yZWZyZXNoIGlmIG5lZWRlZFxyXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrU2Nyb2xsKCkge1xyXG4gICAgICAgICAgICBpZiAod2luZG93LnBhZ2VYT2Zmc2V0ICE9IHNjcm9sbC5sZWZ0KSB7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGwudG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsLmxlZnQgPSB3aW5kb3cucGFnZVhPZmZzZXQ7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIFN0aWNreWZpbGwucmVmcmVzaEFsbCgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCAhPSBzY3JvbGwudG9wKSB7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGwudG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsLmxlZnQgPSB3aW5kb3cucGFnZVhPZmZzZXQ7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIC8vIHJlY2FsYyBwb3NpdGlvbiBmb3IgYWxsIHN0aWNraWVzXHJcbiAgICAgICAgICAgICAgICBzdGlja2llcy5mb3JFYWNoKGZ1bmN0aW9uIChzdGlja3kpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RpY2t5Ll9yZWNhbGNQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBjaGVja1Njcm9sbCgpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBjaGVja1Njcm9sbCk7XHJcbiAgICBcclxuICAgICAgICAvLyBXYXRjaCBmb3Igd2luZG93IHJlc2l6ZXMgYW5kIGRldmljZSBvcmllbnRhdGlvbiBjaGFuZ2VzIGFuZCB0cmlnZ2VyIHJlZnJlc2hcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgU3RpY2t5ZmlsbC5yZWZyZXNoQWxsKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCBTdGlja3lmaWxsLnJlZnJlc2hBbGwpO1xyXG4gICAgXHJcbiAgICAgICAgLy9GYXN0IGRpcnR5IGNoZWNrIGZvciBsYXlvdXQgY2hhbmdlcyBldmVyeSA1MDBtc1xyXG4gICAgICAgIHZhciBmYXN0Q2hlY2tUaW1lciA9IHZvaWQgMDtcclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0RmFzdENoZWNrVGltZXIoKSB7XHJcbiAgICAgICAgICAgIGZhc3RDaGVja1RpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc3RpY2tpZXMuZm9yRWFjaChmdW5jdGlvbiAoc3RpY2t5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0aWNreS5fZmFzdENoZWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSwgNTAwKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBzdG9wRmFzdENoZWNrVGltZXIoKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZmFzdENoZWNrVGltZXIpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHZhciBkb2NIaWRkZW5LZXkgPSB2b2lkIDA7XHJcbiAgICAgICAgdmFyIHZpc2liaWxpdHlDaGFuZ2VFdmVudE5hbWUgPSB2b2lkIDA7XHJcbiAgICBcclxuICAgICAgICBpZiAoJ2hpZGRlbicgaW4gZG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgZG9jSGlkZGVuS2V5ID0gJ2hpZGRlbic7XHJcbiAgICAgICAgICAgIHZpc2liaWxpdHlDaGFuZ2VFdmVudE5hbWUgPSAndmlzaWJpbGl0eWNoYW5nZSc7XHJcbiAgICAgICAgfSBlbHNlIGlmICgnd2Via2l0SGlkZGVuJyBpbiBkb2N1bWVudCkge1xyXG4gICAgICAgICAgICBkb2NIaWRkZW5LZXkgPSAnd2Via2l0SGlkZGVuJztcclxuICAgICAgICAgICAgdmlzaWJpbGl0eUNoYW5nZUV2ZW50TmFtZSA9ICd3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlJztcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAodmlzaWJpbGl0eUNoYW5nZUV2ZW50TmFtZSkge1xyXG4gICAgICAgICAgICBpZiAoIWRvY3VtZW50W2RvY0hpZGRlbktleV0pIHN0YXJ0RmFzdENoZWNrVGltZXIoKTtcclxuICAgIFxyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHZpc2liaWxpdHlDaGFuZ2VFdmVudE5hbWUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudFtkb2NIaWRkZW5LZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RvcEZhc3RDaGVja1RpbWVyKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0RmFzdENoZWNrVGltZXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHN0YXJ0RmFzdENoZWNrVGltZXIoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKCFzZXBwdWt1KSBpbml0KCk7XHJcbiAgICBcclxuICAgIC8qXHJcbiAgICAgKiA3LiBFeHBvc2UgU3RpY2t5ZmlsbFxyXG4gICAgICovXHJcbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xyXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gU3RpY2t5ZmlsbDtcclxuICAgIH0gZWxzZSBpZiAoaXNXaW5kb3dEZWZpbmVkKSB7XHJcbiAgICAgICAgd2luZG93LlN0aWNreWZpbGwgPSBTdGlja3lmaWxsO1xyXG4gICAgfVxyXG4gICAgXHJcbn0pKHdpbmRvdywgZG9jdW1lbnQpOyIsIi8qIVxuICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTcgSWNvTW9vbi5pb1xuICogQGxpY2Vuc2UgICBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZVxuICogICAgICAgICAgICBTZWUgaHR0cHM6Ly9naXRodWIuY29tL0tleWFtb29uL3N2Z3h1c2VcbiAqIEB2ZXJzaW9uICAgMS4yLjZcbiAqL1xuLypqc2xpbnQgYnJvd3NlcjogdHJ1ZSAqL1xuLypnbG9iYWwgWERvbWFpblJlcXVlc3QsIE11dGF0aW9uT2JzZXJ2ZXIsIHdpbmRvdyAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICB2YXIgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpOyAvLyBob2xkcyB4aHIgb2JqZWN0cyB0byBwcmV2ZW50IG11bHRpcGxlIHJlcXVlc3RzXG4gICAgICAgIHZhciBjaGVja1VzZUVsZW1zO1xuICAgICAgICB2YXIgdGlkOyAvLyB0aW1lb3V0IGlkXG4gICAgICAgIHZhciBkZWJvdW5jZWRDaGVjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aWQpO1xuICAgICAgICAgICAgdGlkID0gc2V0VGltZW91dChjaGVja1VzZUVsZW1zLCAxMDApO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgdW5vYnNlcnZlQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG9ic2VydmVDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG9ic2VydmVyO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgZGVib3VuY2VkQ2hlY2ssIGZhbHNlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIiwgZGVib3VuY2VkQ2hlY2ssIGZhbHNlKTtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuTXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZGVib3VuY2VkQ2hlY2spO1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHVub2JzZXJ2ZUNoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBkZWJvdW5jZWRDaGVjaywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLCBkZWJvdW5jZWRDaGVjaywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHt9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01TdWJ0cmVlTW9kaWZpZWRcIiwgZGVib3VuY2VkQ2hlY2ssIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB1bm9ic2VydmVDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTVN1YnRyZWVNb2RpZmllZFwiLCBkZWJvdW5jZWRDaGVjaywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBkZWJvdW5jZWRDaGVjaywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9yaWVudGF0aW9uY2hhbmdlXCIsIGRlYm91bmNlZENoZWNrLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGNyZWF0ZVJlcXVlc3QgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgICAgICAvLyBJbiBJRSA5LCBjcm9zcyBvcmlnaW4gcmVxdWVzdHMgY2FuIG9ubHkgYmUgc2VudCB1c2luZyBYRG9tYWluUmVxdWVzdC5cbiAgICAgICAgICAgIC8vIFhEb21haW5SZXF1ZXN0IHdvdWxkIGZhaWwgaWYgQ09SUyBoZWFkZXJzIGFyZSBub3Qgc2V0LlxuICAgICAgICAgICAgLy8gVGhlcmVmb3JlLCBYRG9tYWluUmVxdWVzdCBzaG91bGQgb25seSBiZSB1c2VkIHdpdGggY3Jvc3Mgb3JpZ2luIHJlcXVlc3RzLlxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0T3JpZ2luKGxvYykge1xuICAgICAgICAgICAgICAgIHZhciBhO1xuICAgICAgICAgICAgICAgIGlmIChsb2MucHJvdG9jb2wgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBhID0gbG9jO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgYS5ocmVmID0gbG9jO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYS5wcm90b2NvbC5yZXBsYWNlKC86L2csIFwiXCIpICsgYS5ob3N0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIFJlcXVlc3Q7XG4gICAgICAgICAgICB2YXIgb3JpZ2luO1xuICAgICAgICAgICAgdmFyIG9yaWdpbjI7XG4gICAgICAgICAgICBpZiAod2luZG93LlhNTEh0dHBSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgUmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgICAgIG9yaWdpbiA9IGdldE9yaWdpbihsb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgb3JpZ2luMiA9IGdldE9yaWdpbih1cmwpO1xuICAgICAgICAgICAgICAgIGlmIChSZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9PT0gdW5kZWZpbmVkICYmIG9yaWdpbjIgIT09IFwiXCIgJiYgb3JpZ2luMiAhPT0gb3JpZ2luKSB7XG4gICAgICAgICAgICAgICAgICAgIFJlcXVlc3QgPSBYRG9tYWluUmVxdWVzdCB8fCB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgUmVxdWVzdCA9IFhNTEh0dHBSZXF1ZXN0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBSZXF1ZXN0O1xuICAgICAgICB9O1xuICAgICAgICB2YXIgeGxpbmtOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiO1xuICAgICAgICBjaGVja1VzZUVsZW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJhc2U7XG4gICAgICAgICAgICB2YXIgYmNyO1xuICAgICAgICAgICAgdmFyIGZhbGxiYWNrID0gXCJcIjsgLy8gb3B0aW9uYWwgZmFsbGJhY2sgVVJMIGluIGNhc2Ugbm8gYmFzZSBwYXRoIHRvIFNWRyBmaWxlIHdhcyBnaXZlbiBhbmQgbm8gc3ltYm9sIGRlZmluaXRpb24gd2FzIGZvdW5kLlxuICAgICAgICAgICAgdmFyIGhhc2g7XG4gICAgICAgICAgICB2YXIgaHJlZjtcbiAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgdmFyIGluUHJvZ3Jlc3NDb3VudCA9IDA7XG4gICAgICAgICAgICB2YXIgaXNIaWRkZW47XG4gICAgICAgICAgICB2YXIgUmVxdWVzdDtcbiAgICAgICAgICAgIHZhciB1cmw7XG4gICAgICAgICAgICB2YXIgdXNlcztcbiAgICAgICAgICAgIHZhciB4aHI7XG4gICAgICAgICAgICBmdW5jdGlvbiBvYnNlcnZlSWZEb25lKCkge1xuICAgICAgICAgICAgICAgIC8vIElmIGRvbmUgd2l0aCBtYWtpbmcgY2hhbmdlcywgc3RhcnQgd2F0Y2hpbmcgZm9yIGNoYWduZXMgaW4gRE9NIGFnYWluXG4gICAgICAgICAgICAgICAgaW5Qcm9ncmVzc0NvdW50IC09IDE7XG4gICAgICAgICAgICAgICAgaWYgKGluUHJvZ3Jlc3NDb3VudCA9PT0gMCkgeyAvLyBpZiBhbGwgeGhycyB3ZXJlIHJlc29sdmVkXG4gICAgICAgICAgICAgICAgICAgIHVub2JzZXJ2ZUNoYW5nZXMoKTsgLy8gbWFrZSBzdXJlIHRvIHJlbW92ZSBvbGQgaGFuZGxlcnNcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZUNoYW5nZXMoKTsgLy8gd2F0Y2ggZm9yIGNoYW5nZXMgdG8gRE9NXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gYXR0clVwZGF0ZUZ1bmMoc3BlYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZVtzcGVjLmJhc2VdICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGVjLnVzZUVsLnNldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIFwieGxpbms6aHJlZlwiLCBcIiNcIiArIHNwZWMuaGFzaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3BlYy51c2VFbC5oYXNBdHRyaWJ1dGUoXCJocmVmXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlYy51c2VFbC5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIFwiI1wiICsgc3BlYy5oYXNoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBvbmxvYWRGdW5jKHhocikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwieFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN2ZztcbiAgICAgICAgICAgICAgICAgICAgeGhyLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHguaW5uZXJIVE1MID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgc3ZnID0geC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInN2Z1wiKVswXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN2Zykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN2Zy5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN2Zy5zdHlsZS53aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdmcuc3R5bGUuaGVpZ2h0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN2Zy5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5Lmluc2VydEJlZm9yZShzdmcsIGJvZHkuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZUlmRG9uZSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBvbkVycm9yVGltZW91dCh4aHIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB4aHIub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHhoci5vbnRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlSWZEb25lKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVub2JzZXJ2ZUNoYW5nZXMoKTsgLy8gc3RvcCB3YXRjaGluZyBmb3IgY2hhbmdlcyB0byBET01cbiAgICAgICAgICAgIC8vIGZpbmQgYWxsIHVzZSBlbGVtZW50c1xuICAgICAgICAgICAgdXNlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidXNlXCIpO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHVzZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBiY3IgPSB1c2VzW2ldLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGlnbm9yZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmYWlsZWQgdG8gZ2V0IGJvdW5kaW5nIHJlY3RhbmdsZSBvZiB0aGUgdXNlIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgYmNyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhyZWYgPSB1c2VzW2ldLmdldEF0dHJpYnV0ZShcImhyZWZcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IHVzZXNbaV0uZ2V0QXR0cmlidXRlTlMoeGxpbmtOUywgXCJocmVmXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCB1c2VzW2ldLmdldEF0dHJpYnV0ZShcInhsaW5rOmhyZWZcIik7XG4gICAgICAgICAgICAgICAgaWYgKGhyZWYgJiYgaHJlZi5zcGxpdCkge1xuICAgICAgICAgICAgICAgICAgICB1cmwgPSBocmVmLnNwbGl0KFwiI1wiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1cmwgPSBbXCJcIiwgXCJcIl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJhc2UgPSB1cmxbMF07XG4gICAgICAgICAgICAgICAgaGFzaCA9IHVybFsxXTtcbiAgICAgICAgICAgICAgICBpc0hpZGRlbiA9IGJjciAmJiBiY3IubGVmdCA9PT0gMCAmJiBiY3IucmlnaHQgPT09IDAgJiYgYmNyLnRvcCA9PT0gMCAmJiBiY3IuYm90dG9tID09PSAwO1xuICAgICAgICAgICAgICAgIGlmIChiY3IgJiYgYmNyLndpZHRoID09PSAwICYmIGJjci5oZWlnaHQgPT09IDAgJiYgIWlzSGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSB1c2UgZWxlbWVudCBpcyBlbXB0eVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIHJlZmVyZW5jZSB0byBhbiBleHRlcm5hbCBTVkcsIHRyeSB0byBmZXRjaCBpdFxuICAgICAgICAgICAgICAgICAgICAvLyB1c2UgdGhlIG9wdGlvbmFsIGZhbGxiYWNrIFVSTCBpZiB0aGVyZSBpcyBubyByZWZlcmVuY2UgdG8gYW4gZXh0ZXJuYWwgU1ZHXG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWxsYmFjayAmJiAhYmFzZS5sZW5ndGggJiYgaGFzaCAmJiAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaGFzaCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2UgPSBmYWxsYmFjaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodXNlc1tpXS5oYXNBdHRyaWJ1dGUoXCJocmVmXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VzW2ldLnNldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIFwieGxpbms6aHJlZlwiLCBocmVmKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNjaGVkdWxlIHVwZGF0aW5nIHhsaW5rOmhyZWZcbiAgICAgICAgICAgICAgICAgICAgICAgIHhociA9IGNhY2hlW2Jhc2VdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhociAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWUgc2lnbmlmaWVzIHRoYXQgcHJlcGVuZGluZyB0aGUgU1ZHIHdhcyBub3QgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGF0dHJVcGRhdGVGdW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlRWw6IHVzZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U6IGJhc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc2g6IGhhc2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoeGhyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdChiYXNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUmVxdWVzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhociA9IG5ldyBSZXF1ZXN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlW2Jhc2VdID0geGhyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIub25sb2FkID0gb25sb2FkRnVuYyh4aHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIub25lcnJvciA9IG9uRXJyb3JUaW1lb3V0KHhocik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5vbnRpbWVvdXQgPSBvbkVycm9yVGltZW91dCh4aHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIub3BlbihcIkdFVFwiLCBiYXNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnNlbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5Qcm9ncmVzc0NvdW50ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0hpZGRlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlW2Jhc2VdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1lbWJlciB0aGlzIFVSTCBpZiB0aGUgdXNlIGVsZW1lbnQgd2FzIG5vdCBlbXB0eSBhbmQgbm8gcmVxdWVzdCB3YXMgc2VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlW2Jhc2VdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FjaGVbYmFzZV0ub25sb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQgdHVybnMgb3V0IHRoYXQgcHJlcGVuZGluZyB0aGUgU1ZHIGlzIG5vdCBuZWNlc3NhcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWJvcnQgdGhlIGluLXByb2dyZXNzIHhoci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZVtiYXNlXS5hYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjYWNoZVtiYXNlXS5vbmxvYWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVbYmFzZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJhc2UubGVuZ3RoICYmIGNhY2hlW2Jhc2VdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGF0dHJVcGRhdGVGdW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VFbDogdXNlc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlOiBiYXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc2g6IGhhc2hcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVzZXMgPSBcIlwiO1xuICAgICAgICAgICAgaW5Qcm9ncmVzc0NvdW50ICs9IDE7XG4gICAgICAgICAgICBvYnNlcnZlSWZEb25lKCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciB3aW5Mb2FkO1xuICAgICAgICB3aW5Mb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIHdpbkxvYWQsIGZhbHNlKTsgLy8gdG8gcHJldmVudCBtZW1vcnkgbGVha3NcbiAgICAgICAgICAgIHRpZCA9IHNldFRpbWVvdXQoY2hlY2tVc2VFbGVtcywgMCk7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImNvbXBsZXRlXCIpIHtcbiAgICAgICAgICAgIC8vIFRoZSBsb2FkIGV2ZW50IGZpcmVzIHdoZW4gYWxsIHJlc291cmNlcyBoYXZlIGZpbmlzaGVkIGxvYWRpbmcsIHdoaWNoIGFsbG93cyBkZXRlY3Rpbmcgd2hldGhlciBTVkcgdXNlIGVsZW1lbnRzIGFyZSBlbXB0eS5cbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCB3aW5Mb2FkLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBObyBuZWVkIHRvIGFkZCBhIGxpc3RlbmVyIGlmIHRoZSBkb2N1bWVudCBpcyBhbHJlYWR5IGxvYWRlZCwgaW5pdGlhbGl6ZSBpbW1lZGlhdGVseS5cbiAgICAgICAgICAgIHdpbkxvYWQoKTtcbiAgICAgICAgfVxuICAgIH1cbn0oKSk7XG4iLCJpbXBvcnQgeyBldmVudHMgfSBmcm9tICcuLi91dGlsaXRpZXMvY3VzdG9tLWV2ZW50cyc7XG5cbmNvbnN0IEFOSU1BVElPTl9EVVJBVElPTiA9IDEwMDA7IC8vIG1pbGlzZWNvbmRzXG5jb25zdCBSRUZSRVNIX1JBVEUgPSBBTklNQVRJT05fRFVSQVRJT04gLyA2MDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgaWQsXG4gICAgbG9hZGluZ0NsYXNzLFxuICB9KSB7XG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG5cbiAgICBsZXQgYW5pbWF0aW5nID0gZmFsc2U7XG5cbiAgICAvLyBFdmVudCBoYW5kbGVyIGZ1bmN0aW9uc1xuICAgIGZ1bmN0aW9uIGhhbmRsZVN0YXJ0TG9hZGVyKCkge1xuICAgICAgYW5pbWF0aW5nID0gdHJ1ZTtcblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7IGFuaW1hdGluZyA9IGZhbHNlOyB9LCBBTklNQVRJT05fRFVSQVRJT04pO1xuXG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKGxvYWRpbmdDbGFzcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVN0b3BMb2FkZXIoKSB7XG4gICAgICBpZiAoYW5pbWF0aW5nKSB7XG4gICAgICAgIHNldFRpbWVvdXQoaGFuZGxlU3RvcExvYWRlciwgUkVGUkVTSF9SQVRFKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUobG9hZGluZ0NsYXNzKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLnN0YXJ0TG9hZGVyLCBoYW5kbGVTdGFydExvYWRlcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLnN0b3BMb2FkZXIsIGhhbmRsZVN0b3BMb2FkZXIpO1xuICB9XG59XG5cbiIsImltcG9ydCB7IGV2ZW50cyB9IGZyb20gJy4uL3V0aWxpdGllcy9jdXN0b20tZXZlbnRzJztcbmltcG9ydCB7IHNjcm9sbFRvcCB9IGZyb20gJy4uL3V0aWxpdGllcy9zY3JvbGwnO1xuXG5jb25zdCBBTklNQVRJT05fRFVSQVRJT04gPSA1MDA7IC8vIG1pbGlzZWNvbmRzXG5jb25zdCBSRUZSRVNIX1JBVEUgPSBBTklNQVRJT05fRFVSQVRJT04gLyA2MDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgaWQsXG4gICAgbG9ja2VkQ2xhc3MsXG4gICAgYWN0aXZlQ2xhc3MsXG4gICAgdW5sb2FkaW5nQ2xhc3MsXG4gIH0pIHtcbiAgICAvLyBFbGVtZW50cyBhbmQgY2xhc3MgdmFyaWFibGVzXG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG5cbiAgICAvLyBTdGF0ZSB2YXJpYWJsZXNcbiAgICBsZXQgYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgbGV0IHNjcm9sbGluZyA9IGZhbHNlO1xuXG4gICAgLy8gRXZlbnQgaGFuZGxlciBmdW5jdGlvbnNcbiAgICBmdW5jdGlvbiBoYW5kbGVMb2NrU2Nyb2xsKGUpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChsb2NrZWRDbGFzcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVVubG9ja1Njcm9sbCgpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShsb2NrZWRDbGFzcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVVubG9hZFJvdXRlKCkge1xuICAgICAgZnVuY3Rpb24gc2Nyb2xsKCkge1xuICAgICAgICBzY3JvbGxpbmcgPSB0cnVlO1xuXG4gICAgICAgIHNjcm9sbFRvcChkb2N1bWVudC5ib2R5LCAwLCAoKSA9PiB7XG4gICAgICAgICAgc2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBhbmltYXRlKCkge1xuICAgICAgICBhbmltYXRpbmcgPSB0cnVlO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGFuaW1hdGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgc2Nyb2xsKCk7XG4gICAgICAgIH0sIEFOSU1BVElPTl9EVVJBVElPTik7XG4gICAgICB9XG5cbiAgICAgIC8vIEFuaW1hdGUgcGFnZSB1bmxvYWRcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQodW5sb2FkaW5nQ2xhc3MpO1xuICAgICAgYW5pbWF0ZSgpO1xuICAgIH1cblxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnNcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMubG9ja1Njcm9sbCwgaGFuZGxlTG9ja1Njcm9sbCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLnVubG9ja1Njcm9sbCwgaGFuZGxlVW5sb2NrU2Nyb2xsKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMudW5sb2FkUm91dGUsIGhhbmRsZVVubG9hZFJvdXRlKTtcblxuICAgIC8vIEluaXRpYWxpemVcbiAgICBlbC5jbGFzc0xpc3QuYWRkKGFjdGl2ZUNsYXNzKTtcbiAgfVxufVxuXG4iLCJpbXBvcnQgeyBldmVudHMsIGVtaXRFdmVudCB9IGZyb20gJy4uL3V0aWxpdGllcy9jdXN0b20tZXZlbnRzJztcbmltcG9ydCB7IGluamVjdE1hcmt1cCB9IGZyb20gJy4uL3V0aWxpdGllcy9jb21wb25lbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgaWQsXG4gICAgb3ZlcmxheUhhbmRsZSxcbiAgICBjbG9zZUhhbmRsZSxcbiAgICBjb250ZW50SGFuZGxlLFxuICAgIGFjdGl2ZUNsYXNzLFxuICB9KSB7XG4gICAgLy8gRWxlbWVudHMgYW5kIGNsYXNzIHZhcmlhYmxlc1xuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgIGNvbnN0IG92ZXJsYXkgPSBlbC5xdWVyeVNlbGVjdG9yKG92ZXJsYXlIYW5kbGUpO1xuICAgIGNvbnN0IGNvbnRlbnQgPSBlbC5xdWVyeVNlbGVjdG9yKGNvbnRlbnRIYW5kbGUpO1xuICAgIGNvbnN0IGNsb3NlID0gZWwucXVlcnlTZWxlY3RvcihjbG9zZUhhbmRsZSk7XG5cbiAgICAvLyBFdmVudCBoYW5kbGVyIGZ1bmN0aW9uc1xuICAgIGZ1bmN0aW9uIGhhbmRsZUtleXVwKGUpIHtcbiAgICAgIC8vIE9ubHkgY2FyIGFib3V0IGVzY2FwZSBrZXlcbiAgICAgIGlmIChlLmtleUNvZGUgIT09IDI3KSByZXR1cm47XG5cbiAgICAgIGVtaXRFdmVudChldmVudHMuY2xvc2VNb2RhbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZU9wZW5Nb2RhbCgpIHtcbiAgICAgIGVtaXRFdmVudChldmVudHMubG9ja1Njcm9sbCk7XG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKGFjdGl2ZUNsYXNzKTtcblxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBoYW5kbGVLZXl1cCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUNsb3NlTW9kYWwoKSB7XG4gICAgICBlbWl0RXZlbnQoZXZlbnRzLnVubG9ja1Njcm9sbCk7XG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGFjdGl2ZUNsYXNzKTtcblxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBoYW5kbGVLZXl1cCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUxvYWRNb2RhbChlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG1hcmt1cCxcbiAgICAgICAgZnVsbCA9ICdmYWxzZScsXG4gICAgICAgIHBvc2l0aW9uID0gJ2NlbnRlcicsXG4gICAgICAgIHNpemUgPSAnbGcnLFxuICAgICAgfSA9IGUuZGV0YWlsO1xuXG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZnVsbCcsIGZ1bGwpO1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLXBvc2l0aW9uJywgcG9zaXRpb24pO1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLXNpemUnLCBzaXplKTtcbiAgICAgIGluamVjdE1hcmt1cChjb250ZW50LCBtYXJrdXApO1xuICAgICAgaGFuZGxlT3Blbk1vZGFsKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgZW1pdEV2ZW50KGV2ZW50cy5jbG9zZU1vZGFsKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLm9wZW5Nb2RhbCwgaGFuZGxlT3Blbk1vZGFsKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuY2xvc2VNb2RhbCwgaGFuZGxlQ2xvc2VNb2RhbCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLmxvYWRNb2RhbCwgaGFuZGxlTG9hZE1vZGFsKTtcbiAgICBjbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsaWNrKTtcbiAgICBvdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2spO1xuICB9XG59XG5cbiIsImV4cG9ydCBjb25zdCBzaXRlSGFuZGxlID0gJ3dpbGxpYW1zY29uY3JldGVjb250cmFjdGluZyc7XG4iLCJpbXBvcnQgJy4vcG9seWZpbGxzJztcblxuLy8gQ29tcG9uZW50c1xuaW1wb3J0IExvYWRlciBmcm9tICcuL2NvbXBvbmVudHMvbG9hZGVyJztcbmltcG9ydCBNYWluIGZyb20gJy4vY29tcG9uZW50cy9tYWluJztcbmltcG9ydCBNb2RhbCBmcm9tICcuL2NvbXBvbmVudHMvbW9kYWwnO1xuXG4vLyBVdGlsaXRpZXNcbmltcG9ydCB7IGluc3RhbnRpYXRlIH0gZnJvbSAnLi91dGlsaXRpZXMvY29tcG9uZW50cyc7XG5cbi8qIGVzbGludC1kaXNhYmxlIHF1b3RlLXByb3BzICovXG5jb25zdCBjbGFzc01hcCA9IHtcbiAgJ2xvYWRlcic6IExvYWRlcixcbiAgJ21haW4nOiBNYWluLFxuICAnbW9kYWwnOiBNb2RhbCxcbn07XG4vKiBlc2xpbnQtZW5hYmxlIHF1b3RlLXByb3BzICovXG5cbi8vIEV2ZW50IGhhbmRsZXIgZnVuY3Rpb25zXG5mdW5jdGlvbiBoYW5kbGVET01Db25lbnRMb2FkZWQoKSB7XG4gIC8vIENhbGwgY29tcG9uZW50IGNvbnN0cnVjdG9yc1xuICBpbnN0YW50aWF0ZShjbGFzc01hcCk7XG59XG5cbi8vIEFkZCBldmVudCBsaXN0ZW5lcnNcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBoYW5kbGVET01Db25lbnRMb2FkZWQpO1xuXG4iLCJpZiAoIUFycmF5LnByb3RvdHlwZS5maW5kKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdmaW5kJywge1xuICAgIHZhbHVlOiBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgIGlmICh0aGlzID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkucHJvdG90eXBlLmZpbmQgY2FsbGVkIG9uIG51bGwgb3IgdW5kZWZpbmVkJyk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwcmVkaWNhdGUgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICB9XG4gICAgICB2YXIgbGlzdCA9IE9iamVjdCh0aGlzKTtcbiAgICAgIHZhciBsZW5ndGggPSBsaXN0Lmxlbmd0aCA+Pj4gMDtcbiAgICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzWzFdO1xuICAgICAgdmFyIHZhbHVlO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlID0gbGlzdFtpXTtcbiAgICAgICAgaWYgKHByZWRpY2F0ZS5jYWxsKHRoaXNBcmcsIHZhbHVlLCBpLCBsaXN0KSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH0pO1xufVxuIiwiaWYgKCFBcnJheS5wcm90b3R5cGUuZmluZEluZGV4KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdmaW5kSW5kZXgnLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgaWYgKHRoaXMgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheS5wcm90b3R5cGUuZmluZEluZGV4IGNhbGxlZCBvbiBudWxsIG9yIHVuZGVmaW5lZCcpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncHJlZGljYXRlIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgfVxuICAgICAgdmFyIGxpc3QgPSBPYmplY3QodGhpcyk7XG4gICAgICB2YXIgbGVuZ3RoID0gbGlzdC5sZW5ndGggPj4+IDA7XG4gICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIHZhciB2YWx1ZTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZSA9IGxpc3RbaV07XG4gICAgICAgIGlmIChwcmVkaWNhdGUuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaSwgbGlzdCkpIHtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG59XG5cbiIsIi8vIGZyb206aHR0cHM6Ly9naXRodWIuY29tL2pzZXJ6L2pzX3BpZWNlL2Jsb2IvbWFzdGVyL0RPTS9DaGlsZE5vZGUvcmVtb3ZlKCkvcmVtb3ZlKCkubWRcbihmdW5jdGlvbiAoYXJyKSB7XG4gIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoJ3JlbW92ZScpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpdGVtLCAncmVtb3ZlJywge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn0pKFtFbGVtZW50LnByb3RvdHlwZSwgQ2hhcmFjdGVyRGF0YS5wcm90b3R5cGUsIERvY3VtZW50VHlwZS5wcm90b3R5cGVdKTtcblxuIiwiaWYgKCFBcnJheS5mcm9tKSB7XG4gIEFycmF5LmZyb20gPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG4gICAgdmFyIGlzQ2FsbGFibGUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgIHJldHVybiB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgfHwgdG9TdHIuY2FsbChmbikgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG4gICAgfTtcbiAgICB2YXIgdG9JbnRlZ2VyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YXIgbnVtYmVyID0gTnVtYmVyKHZhbHVlKTtcbiAgICAgIGlmIChpc05hTihudW1iZXIpKSB7IHJldHVybiAwOyB9XG4gICAgICBpZiAobnVtYmVyID09PSAwIHx8ICFpc0Zpbml0ZShudW1iZXIpKSB7IHJldHVybiBudW1iZXI7IH1cbiAgICAgIHJldHVybiAobnVtYmVyID4gMCA/IDEgOiAtMSkgKiBNYXRoLmZsb29yKE1hdGguYWJzKG51bWJlcikpO1xuICAgIH07XG4gICAgdmFyIG1heFNhZmVJbnRlZ2VyID0gTWF0aC5wb3coMiwgNTMpIC0gMTtcbiAgICB2YXIgdG9MZW5ndGggPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHZhciBsZW4gPSB0b0ludGVnZXIodmFsdWUpO1xuICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KGxlbiwgMCksIG1heFNhZmVJbnRlZ2VyKTtcbiAgICB9O1xuXG4gICAgLy8gVGhlIGxlbmd0aCBwcm9wZXJ0eSBvZiB0aGUgZnJvbSBtZXRob2QgaXMgMS5cbiAgICByZXR1cm4gZnVuY3Rpb24gZnJvbShhcnJheUxpa2UvKiwgbWFwRm4sIHRoaXNBcmcgKi8pIHtcbiAgICAgIC8vIDEuIExldCBDIGJlIHRoZSB0aGlzIHZhbHVlLlxuICAgICAgdmFyIEMgPSB0aGlzO1xuXG4gICAgICAvLyAyLiBMZXQgaXRlbXMgYmUgVG9PYmplY3QoYXJyYXlMaWtlKS5cbiAgICAgIHZhciBpdGVtcyA9IE9iamVjdChhcnJheUxpa2UpO1xuXG4gICAgICAvLyAzLiBSZXR1cm5JZkFicnVwdChpdGVtcykuXG4gICAgICBpZiAoYXJyYXlMaWtlID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFycmF5LmZyb20gcmVxdWlyZXMgYW4gYXJyYXktbGlrZSBvYmplY3QgLSBub3QgbnVsbCBvciB1bmRlZmluZWRcIik7XG4gICAgICB9XG5cbiAgICAgIC8vIDQuIElmIG1hcGZuIGlzIHVuZGVmaW5lZCwgdGhlbiBsZXQgbWFwcGluZyBiZSBmYWxzZS5cbiAgICAgIHZhciBtYXBGbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdm9pZCB1bmRlZmluZWQ7XG4gICAgICB2YXIgVDtcbiAgICAgIGlmICh0eXBlb2YgbWFwRm4gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIDUuIGVsc2VcbiAgICAgICAgLy8gNS4gYSBJZiBJc0NhbGxhYmxlKG1hcGZuKSBpcyBmYWxzZSwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxuICAgICAgICBpZiAoIWlzQ2FsbGFibGUobWFwRm4pKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkuZnJvbTogd2hlbiBwcm92aWRlZCwgdGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDUuIGIuIElmIHRoaXNBcmcgd2FzIHN1cHBsaWVkLCBsZXQgVCBiZSB0aGlzQXJnOyBlbHNlIGxldCBUIGJlIHVuZGVmaW5lZC5cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgVCA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyAxMC4gTGV0IGxlblZhbHVlIGJlIEdldChpdGVtcywgXCJsZW5ndGhcIikuXG4gICAgICAvLyAxMS4gTGV0IGxlbiBiZSBUb0xlbmd0aChsZW5WYWx1ZSkuXG4gICAgICB2YXIgbGVuID0gdG9MZW5ndGgoaXRlbXMubGVuZ3RoKTtcblxuICAgICAgLy8gMTMuIElmIElzQ29uc3RydWN0b3IoQykgaXMgdHJ1ZSwgdGhlblxuICAgICAgLy8gMTMuIGEuIExldCBBIGJlIHRoZSByZXN1bHQgb2YgY2FsbGluZyB0aGUgW1tDb25zdHJ1Y3RdXSBpbnRlcm5hbCBtZXRob2Qgb2YgQyB3aXRoIGFuIGFyZ3VtZW50IGxpc3QgY29udGFpbmluZyB0aGUgc2luZ2xlIGl0ZW0gbGVuLlxuICAgICAgLy8gMTQuIGEuIEVsc2UsIExldCBBIGJlIEFycmF5Q3JlYXRlKGxlbikuXG4gICAgICB2YXIgQSA9IGlzQ2FsbGFibGUoQykgPyBPYmplY3QobmV3IEMobGVuKSkgOiBuZXcgQXJyYXkobGVuKTtcblxuICAgICAgLy8gMTYuIExldCBrIGJlIDAuXG4gICAgICB2YXIgayA9IDA7XG4gICAgICAvLyAxNy4gUmVwZWF0LCB3aGlsZSBrIDwgbGVu4oCmIChhbHNvIHN0ZXBzIGEgLSBoKVxuICAgICAgdmFyIGtWYWx1ZTtcbiAgICAgIHdoaWxlIChrIDwgbGVuKSB7XG4gICAgICAgIGtWYWx1ZSA9IGl0ZW1zW2tdO1xuICAgICAgICBpZiAobWFwRm4pIHtcbiAgICAgICAgICBBW2tdID0gdHlwZW9mIFQgPT09ICd1bmRlZmluZWQnID8gbWFwRm4oa1ZhbHVlLCBrKSA6IG1hcEZuLmNhbGwoVCwga1ZhbHVlLCBrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBBW2tdID0ga1ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGsgKz0gMTtcbiAgICAgIH1cbiAgICAgIC8vIDE4LiBMZXQgcHV0U3RhdHVzIGJlIFB1dChBLCBcImxlbmd0aFwiLCBsZW4sIHRydWUpLlxuICAgICAgQS5sZW5ndGggPSBsZW47XG4gICAgICAvLyAyMC4gUmV0dXJuIEEuXG4gICAgICByZXR1cm4gQTtcbiAgICB9O1xuICB9KCkpO1xufVxuXG4iLCIvLyBPdmVyd3JpdGVzIG5hdGl2ZSAnY2hpbGRyZW4nIHByb3RvdHlwZS5cbi8vIEFkZHMgRG9jdW1lbnQgJiBEb2N1bWVudEZyYWdtZW50IHN1cHBvcnQgZm9yIElFOSAmIFNhZmFyaS5cbi8vIFJldHVybnMgYXJyYXkgaW5zdGVhZCBvZiBIVE1MQ29sbGVjdGlvbi5cbjsoZnVuY3Rpb24oY29uc3RydWN0b3IpIHtcbiAgaWYgKGNvbnN0cnVjdG9yICYmXG4gICAgY29uc3RydWN0b3IucHJvdG90eXBlICYmXG4gICAgY29uc3RydWN0b3IucHJvdG90eXBlLmNoaWxkcmVuID09IG51bGwpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29uc3RydWN0b3IucHJvdG90eXBlLCAnY2hpbGRyZW4nLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSA9IDAsIG5vZGUsIG5vZGVzID0gdGhpcy5jaGlsZE5vZGVzLCBjaGlsZHJlbiA9IFtdO1xuICAgICAgICB3aGlsZSAobm9kZSA9IG5vZGVzW2krK10pIHtcbiAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59KSh3aW5kb3cuTm9kZSB8fCB3aW5kb3cuRWxlbWVudCk7XG4iLCJpbXBvcnQgJ2NsYXNzbGlzdC1wb2x5ZmlsbCc7XG5pbXBvcnQgJ2ludGVyc2VjdGlvbi1vYnNlcnZlcic7XG5pbXBvcnQgJ3N2Z3h1c2UnO1xuaW1wb3J0ICcuL2FycmF5LWZpbmQnO1xuaW1wb3J0ICcuL2FycmF5LWZpbmRpbmRleCc7XG5pbXBvcnQgJy4vYXJyYXktZm9yZWFjaCc7XG5pbXBvcnQgJy4vYXJyYXktZnJvbSc7XG5pbXBvcnQgJy4vZWxlbWVudC1jaGlsZHJlbic7XG4vLyBpbXBvcnQgJy4vZWxlbWVudC1jbGFzc2xpc3QnO1xuaW1wb3J0ICcuL29iamVjdC1hc3NpZ24nO1xuaW1wb3J0ICcuL3N0cmluZy1pbmNsdWRlcyc7XG5pbXBvcnQgJy4vd2luZG93LWN1c3RvbWV2ZW50JztcbmltcG9ydCAnLi93aW5kb3ctcmVxdWVzdGFuaW1hdGlvbmZyYW1lJztcblxuIiwiaWYgKHR5cGVvZiBPYmplY3QuYXNzaWduICE9ICdmdW5jdGlvbicpIHtcbiAgT2JqZWN0LmFzc2lnbiA9IGZ1bmN0aW9uKHRhcmdldCwgdmFyQXJncykgeyAvLyAubGVuZ3RoIG9mIGZ1bmN0aW9uIGlzIDJcbiAgICAndXNlIHN0cmljdCc7XG4gICAgaWYgKHRhcmdldCA9PSBudWxsKSB7IC8vIFR5cGVFcnJvciBpZiB1bmRlZmluZWQgb3IgbnVsbFxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG4gICAgfVxuXG4gICAgdmFyIHRvID0gT2JqZWN0KHRhcmdldCk7XG5cbiAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIG5leHRTb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdO1xuXG4gICAgICBpZiAobmV4dFNvdXJjZSAhPSBudWxsKSB7IC8vIFNraXAgb3ZlciBpZiB1bmRlZmluZWQgb3IgbnVsbFxuICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIG5leHRTb3VyY2UpIHtcbiAgICAgICAgICAvLyBBdm9pZCBidWdzIHdoZW4gaGFzT3duUHJvcGVydHkgaXMgc2hhZG93ZWRcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5leHRTb3VyY2UsIG5leHRLZXkpKSB7XG4gICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0bztcbiAgfTtcbn1cblxuIiwiaWYgKCFTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzKSB7XG4gIFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbihzZWFyY2gsIHN0YXJ0KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgIT09ICdudW1iZXInKSB7XG4gICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIFxuICAgIGlmIChzdGFydCArIHNlYXJjaC5sZW5ndGggPiB0aGlzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleE9mKHNlYXJjaCwgc3RhcnQpICE9PSAtMTtcbiAgICB9XG4gIH07XG59XG5cbiIsIihmdW5jdGlvbiAoKSB7XG5cbiAgaWYgKCB0eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50ID09PSBcImZ1bmN0aW9uXCIgKSByZXR1cm4gZmFsc2U7XG5cbiAgZnVuY3Rpb24gQ3VzdG9tRXZlbnQgKCBldmVudCwgcGFyYW1zICkge1xuICAgIHBhcmFtcyA9IHBhcmFtcyB8fCB7IGJ1YmJsZXM6IGZhbHNlLCBjYW5jZWxhYmxlOiBmYWxzZSwgZGV0YWlsOiB1bmRlZmluZWQgfTtcbiAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoICdDdXN0b21FdmVudCcgKTtcbiAgICBldnQuaW5pdEN1c3RvbUV2ZW50KCBldmVudCwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlLCBwYXJhbXMuZGV0YWlsICk7XG4gICAgcmV0dXJuIGV2dDtcbiAgIH1cblxuICBDdXN0b21FdmVudC5wcm90b3R5cGUgPSB3aW5kb3cuRXZlbnQucHJvdG90eXBlO1xuXG4gIHdpbmRvdy5DdXN0b21FdmVudCA9IEN1c3RvbUV2ZW50O1xufSkoKTtcblxuIiwiLy8gaHR0cDovL3BhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cbi8vIGh0dHA6Ly9teS5vcGVyYS5jb20vZW1vbGxlci9ibG9nLzIwMTEvMTIvMjAvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1lci1hbmltYXRpbmdcbi8vIHJlcXVlc3RBbmltYXRpb25GcmFtZSBwb2x5ZmlsbCBieSBFcmlrIE3DtmxsZXIuIGZpeGVzIGZyb20gUGF1bCBJcmlzaCBhbmQgVGlubyBaaWpkZWxcbi8vIE1JVCBsaWNlbnNlXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBsYXN0VGltZSA9IDA7XG4gIHZhciB2ZW5kb3JzID0gWydtcycsICdtb3onLCAnd2Via2l0JywgJ28nXTtcbiAgZm9yKHZhciB4ID0gMDsgeCA8IHZlbmRvcnMubGVuZ3RoICYmICF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lOyArK3gpIHtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gd2luZG93W3ZlbmRvcnNbeF0rJ1JlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9IHdpbmRvd1t2ZW5kb3JzW3hdKydDYW5jZWxBbmltYXRpb25GcmFtZSddXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgd2luZG93W3ZlbmRvcnNbeF0rJ0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuICB9XG5cbiAgaWYgKCF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKVxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbihjYWxsYmFjaywgZWxlbWVudCkge1xuICAgICAgdmFyIGN1cnJUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICB2YXIgdGltZVRvQ2FsbCA9IE1hdGgubWF4KDAsIDE2IC0gKGN1cnJUaW1lIC0gbGFzdFRpbWUpKTtcbiAgICAgIHZhciBpZCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBjYWxsYmFjayhjdXJyVGltZSArIHRpbWVUb0NhbGwpOyB9LCB0aW1lVG9DYWxsKTtcbiAgICAgIGxhc3RUaW1lID0gY3VyclRpbWUgKyB0aW1lVG9DYWxsO1xuICAgICAgcmV0dXJuIGlkO1xuICAgIH07XG5cbiAgaWYgKCF3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUpXG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oaWQpIHtcbiAgICAgIGNsZWFyVGltZW91dChpZCk7XG4gICAgfTtcbn0oKSk7XG5cbiIsIi8vIENvbmZpZ1xuaW1wb3J0IHsgc2l0ZUhhbmRsZSB9IGZyb20gJy4uL2NvbmZpZyc7XG5cbi8vIFV0aWxpdGllc1xuaW1wb3J0IHsgc3B5U2VjdGlvbnMsIHN0aWNrIH0gZnJvbSAnLi9zcHknO1xuXG5sZXQgX2NsYXNzTWFwID0gbnVsbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlcnNjb3JlLWRhbmdsZVxuXG4vKipcbiAqIEluc3RhbnRpYXRlIGFueSBjb21wb25lbnRzIHB1c2hlZCBvbnRvIGdsb2JhbCBjb21wb25lbnRzIGFycmF5XG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFudGlhdGUobWFwID0gbnVsbCkge1xuICBpZiAobWFwICE9PSBudWxsKSB7XG4gICAgX2NsYXNzTWFwID0gbWFwO1xuICB9XG5cbiAgaWYgKF9jbGFzc01hcCA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gIHdoaWxlICh3aW5kb3dbc2l0ZUhhbmRsZV0uY29tcG9uZW50cy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgeyBjb21wb25lbnRzLCBzdGF0ZSB9ID0gd2luZG93W3NpdGVIYW5kbGVdO1xuICAgIGNvbnN0IGNvbmZpZyA9IGNvbXBvbmVudHMuc2hpZnQoKTtcbiAgICBjb25zdCBDbGFzcyA9IF9jbGFzc01hcFtjb25maWcuaGFuZGxlXTtcblxuICAgIGlmICh0eXBlb2YgQ2xhc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIG5ldyBDbGFzcyh7IC4uLmNvbmZpZywgc3RhdGUgfSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gICAgfVxuICB9XG5cbiAgc3B5U2VjdGlvbnMoKTtcbiAgc3RpY2soKTtcbn1cblxuLyoqXG4gKiBJbmplY3QgbmV3IG1hcmt1cCBpbnRvIERPTSBhZnRlciBhZGRpbmcgY29uZmlncyB0byBnbG9iYWxcbiAqIGNvbXBvbmVudHMgYXJyYXkgdGhlbiBpbnN0YW50aWF0ZSBuZXdseSBhZGRlZCBjb21wb25lbnRzXG4gKiBAcGFyYW0ge25vZGV9IGNvbnRhaW5lclxuICogQHBhcmFtIHtzdHJpbmd9IG1hcmt1cFxuICogQHBhcmFtIHtib29sfSBhcHBlbmRcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmplY3RNYXJrdXAoY29udGFpbmVyID0gbnVsbCwgbWFya3VwID0gJycsIGFwcGVuZCA9IGZhbHNlKSB7XG4gIGlmICghY29udGFpbmVyKSByZXR1cm47XG5cbiAgLy8gQWRkIG1hcmt1cCB0byBjb250YWluZXJcbiAgaWYgKGFwcGVuZCkge1xuICAgIGNvbnRhaW5lci5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIG1hcmt1cCk7XG4gIH0gZWxzZSB7XG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9IG1hcmt1cDtcbiAgfVxuXG4gIC8vIFB1c2ggY29tcG9uZW50cyBjb25maWdzIHRvIGdsb2JhbCBvYmplY3RcbiAgY29uc3Qgc2NyaXB0cyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdzY3JpcHQnKTtcblxuICAvLyBFdmFsdWF0ZSBzY3JpcHRzIHJldHVybmVkIGZyb20gY29tcG9uZW50IG1hcmt1cCBpZiBmb3IgbmV3IGNvbXBvbmVudFxuICBBcnJheS5mcm9tKHNjcmlwdHMpXG4gICAgLmZpbHRlcihzY3JpcHQgPT4gc2NyaXB0LnRleHRDb250ZW50LmluY2x1ZGVzKGAke3NpdGVIYW5kbGV9YCkpXG4gICAgLmZvckVhY2goc2NyaXB0ID0+IHsgZXZhbChzY3JpcHQudGV4dENvbnRlbnQpOyB9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1ldmFsXG5cbiAgLy8gSW5zdGFudGlhdGUgY29tcG9uZW50c1xuICBpbnN0YW50aWF0ZSgpO1xufVxuXG4iLCJleHBvcnQgY29uc3QgZXZlbnRzID0ge1xuICAvLyBBY3Rpb24gZXZlbnRzXG4gIGxvY2tTY3JvbGw6ICdsb2NrLXNjcm9sbCcsXG4gIHVubG9ja1Njcm9sbDogJ3VubG9jay1zY3JvbGwnLFxuICBsb2FkUm91dGU6ICdsb2FkLXJvdXRlJyxcbiAgdW5sb2FkUm91dGU6ICd1bmxvYWQtcm91dGUnLFxuICBzaG93SGVhZGVyOiAnc2hvdy1oZWFkZXInLFxuICBoaWRlSGVhZGVyOiAnaGlkZS1oZWFkZXInLFxuICBvcGVuTW9kYWw6ICdvcGVuLW1vZGFsJyxcbiAgY2xvc2VNb2RhbDogJ2Nsb3NlLW1vZGFsJyxcbiAgbG9hZE1vZGFsOiAnbG9hZC1tb2RhbCcsXG4gIHN0YXJ0TG9hZGVyOiAnc3RhcnQtbG9hZGVyJyxcbiAgc3RvcExvYWRlcjogJ3N0b3AtbG9hZGVyJyxcbiAgc2hvd0Zvcm1FcnJvcnM6ICdzaG93LWZvcm0tZXJyb3JzJyxcbn07XG5cbi8qKlxuICogRW1pdCBldmVudCAtIHdyYXBwZXIgYXJvdW5kIEN1c3RvbUV2ZW50IEFQSVxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50SGFuZGxlXG4gKiBAcGFyYW0ge29iamVjdH0gZXZlbnREZXRhaWxzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbWl0RXZlbnQoZXZlbnRIYW5kbGUsIGV2ZW50RGV0YWlscykge1xuICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudChldmVudEhhbmRsZSwgeyBkZXRhaWw6IGV2ZW50RGV0YWlscyB9KTtcblxuICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG59XG5cbiIsIi8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgYXMgbG9uZyBhcyBpdCBjb250aW51ZXMgdG8gYmUgaW52b2tlZCwgd2lsbCBub3Rcbi8vIGJlIHRyaWdnZXJlZC4gVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGFmdGVyIGl0IHN0b3BzIGJlaW5nIGNhbGxlZCBmb3Jcbi8vIE4gbWlsbGlzZWNvbmRzLiBJZiBgaW1tZWRpYXRlYCBpcyBwYXNzZWQsIHRyaWdnZXIgdGhlIGZ1bmN0aW9uIG9uIHRoZVxuLy8gbGVhZGluZyBlZGdlLCBpbnN0ZWFkIG9mIHRoZSB0cmFpbGluZy5cblxuLyogZXNsaW50LWRpc2FibGUgKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChmdW5jLCB3YWl0ID0gMCwgaW1tZWRpYXRlKSB7XG4gIGxldCB0aW1lb3V0O1xuICByZXR1cm4gZnVuY3Rpb24gdHJvdHRsZSgpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcbiAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzO1xuICAgIGNvbnN0IGNhbGxOb3cgPSBpbW1lZGlhdGUgJiYgIXRpbWVvdXQ7XG4gICAgZnVuY3Rpb24gbGF0ZXIoKSB7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIGlmICghaW1tZWRpYXRlKSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIH07XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgICBpZiAoY2FsbE5vdykgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgfTtcbn1cbi8qIGVzbGludC1lbmFibGUgKi9cblxuIiwiLyoqXG4gKiBMaWJyYXJ5IGZvciBoYW5kbGluZyBzY3JvbGxpbmcgZnVuY3Rpb25hbGl0eVxuICovXG5cbmNvbnN0IFNDUk9MTF9SQVRFID0gMSAvIDEwO1xuY29uc3QgRkFTVF9TQ1JPTExfUkFURSA9IDEgLyAyO1xuXG5sZXQgdGltZXIgPSAwO1xubGV0IHRpbWVyRnVuY3Rpb24gPSBudWxsO1xuXG5mdW5jdGlvbiBzY3JvbGwodGFyZ2V0LCBjYiwgZmFzdCA9IGZhbHNlKSB7XG4gIC8vIExvZ3JpdGhtaWMgc2Nyb2xsIHJhdGUgKGhpZ2hlciBzY3JvbGxzIGZhc3RlcilcbiAgY29uc3Qgc2Nyb2xsUmF0ZSA9IGZhc3QgPyBGQVNUX1NDUk9MTF9SQVRFIDogU0NST0xMX1JBVEU7XG4gIC8vIEN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uXG4gIGNvbnN0IGN1cnJlbnQgPSB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gIC8vIFNldCBmbGFnIGZvciBzY3JvbGwgZGlyZWN0aW9uXG4gIGNvbnN0IGRvd24gPSBjdXJyZW50IDwgdGFyZ2V0O1xuICAvLyBTZXQgc3RlcCBiYXNlZCBvbiBzY3JvbGwgcmF0ZVxuICBjb25zdCBzdGVwID0gKE1hdGguYWJzKGN1cnJlbnQgLSB0YXJnZXQpICogc2Nyb2xsUmF0ZSkgKyAxO1xuICAvLyBTZXQgbmV4dCBwb3NpdGlvbiBiYXNlZCBvbiBzY3JvbGwgZGlyZWN0aW9uXG4gIGNvbnN0IG5leHQgPSBkb3duID8gY3VycmVudCArIHN0ZXAgOiBjdXJyZW50IC0gc3RlcDtcbiAgLy8gU2V0IHBhc3QgZmxhZyBiYXNlZCBvbiBzY3JvbGwgZGlyZWN0aW9uXG4gIGNvbnN0IGlzUGFzdCA9IGRvd24gPyBuZXh0ID49IHRhcmdldCA6IG5leHQgPD0gdGFyZ2V0O1xuICAvLyBTZXQgZmxhZyB0byBjaGVjayBpZiBhdCBib3R0b20gb2Ygd2luZG93IGZvciBzY3JvbGxpbmcgZG93blxuICBjb25zdCB0b2xlcmFuY2UgPSA1O1xuICBjb25zdCBhdEJvdHRvbSA9IGRvd25cbiAgICA/ICh3aW5kb3cuaW5uZXJIZWlnaHQgKyB3aW5kb3cucGFnZVlPZmZzZXQgKyB0b2xlcmFuY2UpID49IGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0XG4gICAgOiBmYWxzZTtcblxuICAvLyBTY3JvbGwgdG8gbmV4dCBwb3NpdGlvblxuICB3aW5kb3cuc2Nyb2xsVG8oMCwgbmV4dCk7XG5cbiAgaWYgKCFpc1Bhc3QgJiYgIWF0Qm90dG9tICYmIHRpbWVyKSB7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBzY3JvbGwodGFyZ2V0LCBjYikpO1xuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGNiKSBjYigpO1xufVxuXG4vKipcbiAqIFN0b3AgcmVxdWVzdGluZyBhbmltYXRpb24gZnJhbWVzIGFmdGVyIHJ1bm5pbmcgZm9yIG4gc2Vjb25kc1xuICogVGhpcyBmaXhlcyBjYXNlIG9mIHNjcm9sbCBmdW5jdGlvbiBuZXZlciBmaW5pc2hpbmcgaWYgY2FsbGVkIHR3aWNlIGJlZm9yZSB0aGUgZmlyc3QgZmluaXNoZXNcbiAqL1xuZnVuY3Rpb24gc2V0VGltZXIoKSB7XG4gIHRpbWVyID0gMTtcbiAgdGltZXJGdW5jdGlvbiA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIHRpbWVyID0gMDtcbiAgfSwgMjUwMCk7XG59XG5cbi8qKlxuICogU2Nyb2xsIHRvIGVsZW1lbnQgc3BlY2lmaWVkIGJ5IGlkXG4gKiBAcGFyYW0ge3N0cmluZ30gYW5jaG9yIC0gZWxlbWVudCBpZFxuICogQHBhcmFtIHtpbnR9IG9mZnNldFxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2JcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY3JvbGxUbyhhbmNob3IsIG9mZnNldCA9IDAsIGNiID0gbnVsbCkge1xuICAvLyBHZXQgZWxlbWVudCB0byBzY3JvbGxcbiAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhbmNob3IpO1xuICAvLyBHZXQgcG9zaXRpb24gb2YgZWxlbWVudFxuICBjb25zdCB0b3AgPSAoZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0KSAtIG9mZnNldDtcblxuICBjbGVhclRpbWVvdXQodGltZXJGdW5jdGlvbik7XG4gIHNldFRpbWVyKCk7XG4gIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gc2Nyb2xsKHRvcCwgY2IpKTtcblxuICAvLyBVcGRhdGUgVVJMIGhhc2hcbiAgaWYgKHdpbmRvdy5oaXN0b3J5ICYmIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSkge1xuICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh3aW5kb3cuaGlzdG9yeS5zdGF0ZSwgbnVsbCwgYCMke2FuY2hvcn1gKTtcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IGAjJHthbmNob3J9YDtcbiAgfVxufVxuXG4vKipcbiAqIFNjcm9sbCB0byB0b3Agb2YgZWxlbWVudFxuICogQHBhcmFtIHtub2RlfSBlbGVtZW50XG4gKiBAcGFyYW0ge2ludH0gb2Zmc2V0XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbFRvcChlbCA9IGRvY3VtZW50LmJvZHksIG9mZnNldCA9IDAsIGNiID0gbnVsbCwgZmFzdCA9IGZhbHNlKSB7XG4gIC8vIEdldCB0b3AgcG9zaXRpb24gb2YgZWxlbWVudFxuICBjb25zdCB0b3AgPSAoZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0KSAtIG9mZnNldDtcblxuICBjbGVhclRpbWVvdXQodGltZXJGdW5jdGlvbik7XG4gIHNldFRpbWVyKCk7XG4gIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gc2Nyb2xsKHRvcCwgY2IsIGZhc3QpKTtcbn1cblxuLyoqXG4gKiBTY3JvbGwgdG8gYm90dG9tIG9mIGVsZW1lbnRcbiAqIEBwYXJhbSB7bm9kZX0gZWxlbWVudFxuICogQHBhcmFtIHtpbnR9IG9mZnNldFxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2JcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY3JvbGxCb3R0b20oZWwgPSBkb2N1bWVudC5ib2R5LCBvZmZzZXQgPSAwLCBjYiA9IG51bGwpIHtcbiAgLy8gR2V0IGJvdHRvbSBwb3NpdGlvbiBvZiBlbGVtZW50XG4gIGNvbnN0IGJvdHRvbSA9IChlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyBlbC5vZmZzZXRIZWlnaHQgKyB3aW5kb3cucGFnZVlPZmZzZXQpIC0gb2Zmc2V0O1xuXG4gIGNsZWFyVGltZW91dCh0aW1lckZ1bmN0aW9uKTtcbiAgc2V0VGltZXIoKTtcbiAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBzY3JvbGwoYm90dG9tLCBjYikpO1xufVxuXG4iLCJpbXBvcnQgU3RpY2t5RmlsbCBmcm9tICdzdGlja3lmaWxsanMnO1xuaW1wb3J0IGRlYm91bmNlIGZyb20gJy4uL3V0aWxpdGllcy9kZWJvdW5jZXInO1xuXG4vKipcbiAqIFNweSBzZWN0aW9ucyBhbmQgYWRkIGNsYXNzIHdoZW4gaW4gdmlld1xuICogQHBhcmFtIHtzdHJpbmd9IHNlY3Rpb25IYW5kbGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBpblZpZXdDbGFzc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc3B5U2VjdGlvbnMoc2VjdGlvbkhhbmRsZSA9ICcuc3B5JywgaW5WaWV3Q2xhc3MgPSAnaW4tdmlldycpIHtcbiAgY29uc3Qgc2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlY3Rpb25IYW5kbGUpO1xuXG4gIC8vIEV2ZW50IGhhbmRsZXIgZnVuY3Rpb25zXG4gIGZ1bmN0aW9uIGhhbmRsZVNjcm9sbChlbnRyaWVzLCBvYnNlcnZlcikge1xuICAgIGlmIChlbnRyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH1cblxuICAgIEFycmF5LmZyb20oZW50cmllcylcbiAgICAgIC5maWx0ZXIoZW50cnkgPT4gKFxuICAgICAgICBlbnRyeS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKGluVmlld0NsYXNzKVxuICAgICAgICB8fCBlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA+IChlbnRyeS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXRocmVzaG9sZCcpIHx8IDAuNSlcbiAgICAgICkpXG4gICAgICAuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgIGVudHJ5LnRhcmdldC5jbGFzc0xpc3QuYWRkKGluVmlld0NsYXNzKTtcbiAgICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKGVudHJ5LnRhcmdldCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8vIEluaXRpYWxpemVcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlU2Nyb2xsLCB7XG4gICAgLy8gQ2FsbCBhdCBtdWx0aXBsZSB0aHJlc2hvbGRzIHRvIGFsbG93IGZvciBjdXN0b21pemF0aW9uIHZpYSBkYXRhIGF0dHJpYnV0ZVxuICAgIHRocmVzaG9sZDogWzAsIDAuMjUsIDAuNSwgMC43NSwgMV0sXG4gIH0pO1xuICBBcnJheS5mcm9tKHNlY3Rpb25zKS5mb3JFYWNoKHNlY3Rpb24gPT4geyBvYnNlcnZlci5vYnNlcnZlKHNlY3Rpb24pOyB9KTtcbn1cblxuLyoqXG4gKiBTcHkgc2VjdGlvbiBhbmQgc2V0IGNvcnJlc3BvbmQgbGluayB0byBhY3RpdmVcbiAqIEBwYXJhbSB7b2JqZWN0fVxuICogfF9AcGFyYW0ge25vZGVMaXN0fSBsaW5rc1xuICogfF9AcGFyYW0ge25vZGVMaXN0fSBsaW5rc1xuICogfF9AcGFyYW0ge3N0cmluZ30gYWN0aXZlQ2xhc3NcbiAqIHxfQHBhcmFtIHtmbG9hdH0gdGhyZXNob2xkXG4gKiB8X0BwYXJhbSB7ZnVuY3Rpb259IGNiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcHlBbmNob3JzKHtcbiAgbGlua3MgPSBbXSxcbiAgc2VjdGlvbnMgPSBbXSxcbiAgYWN0aXZlQ2xhc3MgPSAnaXMtYWN0aXZlJyxcbiAgdGhyZXNob2xkID0gd2luZG93LmlubmVySGVpZ2h0IC8gMixcbiAgc2Nyb2xsQ29udGFpbmVyID0gd2luZG93LFxuICBjYiA9IG51bGwsXG59KSB7XG4gIGlmICghc2VjdGlvbnMpIHJldHVybjtcblxuICBmdW5jdGlvbiBoYW5kbGVTY3JvbGwoKSB7XG4gICAgQXJyYXkuZnJvbShzZWN0aW9ucykuZm9yRWFjaCgoc2VjdGlvbiwgaSkgPT4ge1xuICAgICAgY29uc3QgcmVjdCA9IHNlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgIGlmIChyZWN0LnRvcCA+IHRocmVzaG9sZCB8fCByZWN0LmJvdHRvbSA8IHRocmVzaG9sZCkgcmV0dXJuO1xuXG4gICAgICBjb25zdCBhY3RpdmVBbmNob3JzID0gQXJyYXkuZnJvbShsaW5rcylcbiAgICAgICAgLmZpbHRlcigobGluaywgaWkpID0+IGxpbmsuY2xhc3NMaXN0LnRvZ2dsZShhY3RpdmVDbGFzcywgaSA9PT0gaWkpKTtcblxuICAgICAgaWYgKCFjYikgcmV0dXJuO1xuXG4gICAgICBjYihhY3RpdmVBbmNob3JzWzBdKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNjcm9sbENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVTY3JvbGwpO1xufVxuXG4vKipcbiAqIFNweSBzZWN0aW9uIGFuZCBzZXQgY29ycmVzcG9uZCBsaW5rIHRvIGFjdGl2ZVxuICogQHBhcmFtIHtvYmplY3R9XG4gKiB8X0BwYXJhbSB7bm9kZX0gZWwgLSB0aGUgRE9NIGVsZW1lbnQgdG8gd2F0Y2hcbiAqIHxfQHBhcmFtIHtzdHJpbmd9IGZpeGVkQ2xhc3NcbiAqIHxfQHBhcmFtIHtmbG9hdH0gdGhyZXNob2xkXG4gKiB8X0BwYXJhbSB7ZnVuY3Rpb259IGNiXG4gKiAgIHxfQHBhcmFtIHtib29sfSBmaXhlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3B5TmF2KHtcbiAgZWwsXG4gIG5hdiA9IGVsLFxuICBmaXhlZENsYXNzID0gJ2lzLWZpeGVkJyxcbiAgdGhyZXNob2xkID0gMSxcbiAgY2IsXG59KSB7XG4gIGNvbnN0IGRlbHRhID0gNTtcblxuICAvLyBTdGF0ZSB2YXJpYWJsZXNcbiAgbGV0IGVuYWJsZWQgPSBmYWxzZTtcbiAgbGV0IGxhc3RZID0gMDtcblxuICAvLyBFdmVudCBoYW5kbGVyIGZ1bmN0aW9uc1xuICBjb25zdCBoYW5kbGVTY3JvbGwgPSBkZWJvdW5jZSgoKSA9PiB7XG4gICAgLy8gT25seSBwZWVrIGhlYWRlciBpZiBuYXYgdG8gc3B5IGlzIGZpeGVkL2VuYWJsZWRcbiAgICBpZiAoIWVuYWJsZWQpIHtcbiAgICAgIGxhc3RZID0gMDtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRoaXNZID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuXG4gICAgLy8gQWRkIGRlbHRhIGZvciBzZW5zaXRpdml0eSB0aHJlc2hvbGRcbiAgICBpZiAoTWF0aC5hYnModGhpc1kgLSBsYXN0WSkgPCBkZWx0YSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNiKHRoaXNZID4gbGFzdFkpO1xuXG4gICAgbGFzdFkgPSB0aGlzWTtcbiAgfSwgMjUwKTtcbiAgZnVuY3Rpb24gaGFuZGxlRml4T2JzZXJ2ZXIoZW50cmllcykge1xuICAgIC8vIFRvZ2dsZSBlbmFibGVkIHN0YXRlIHZhcmlhYmxlIHRvIGNvbmRpdGlvbmFsbHkgcHJvY2VzcyBoZWFkZXIgcGVlayBvbiBzY3JvbGwgdXBcbiAgICBlbmFibGVkID0gZWwuY2xhc3NMaXN0LnRvZ2dsZShmaXhlZENsYXNzLCBlbnRyaWVzWzBdLmJvdW5kaW5nQ2xpZW50UmVjdC50b3AgPCAwKTtcblxuICAgIGNiKGVuYWJsZWQpO1xuICB9XG5cbiAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyc1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsKTtcbiAgY29uc3QgZml4T2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlRml4T2JzZXJ2ZXIsIHsgdGhyZXNob2xkIH0pO1xuICBmaXhPYnNlcnZlci5vYnNlcnZlKG5hdik7XG59XG5cbi8qKlxuICogUG9seWZpbGwgYW5kIHBvc2l0aW9uIHN0aWNreSBlbGVtZW50cyBiYXNlZCBvbiBkYXRhIGF0dHJpYnV0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RpY2soKSB7XG4gIGNvbnN0IHN0aWNraWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc3RpY2t5PVwidHJ1ZVwiXScpO1xuXG4gIEFycmF5LmZyb20oc3RpY2tpZXMpXG4gICAgLy8gT25seSBzdGljayBlbGVtZW50cyB0aGF0IGhhdmUgbm90IGJlZW4gc3R1Y2tcbiAgICAuZmlsdGVyKHN0aWNreSA9PiAhc3RpY2t5LmdldEF0dHJpYnV0ZSgnZGF0YS1zdHVjaycpKVxuICAgIC8vIEFwcGx5IHBvbHlmaWxsIHNjcmlwdCBmb3IgSUUgYW5kIGFkZCBzdHVjayBkYXRhIGF0dHJpYnV0ZVxuICAgIC5mb3JFYWNoKHN0aWNreSA9PiB7XG4gICAgICBTdGlja3lGaWxsLmFkZE9uZShzdGlja3kpO1xuXG4gICAgICBzdGlja3kuc2V0QXR0cmlidXRlKCdkYXRhLXN0dWNrJywgdHJ1ZSk7XG4gICAgfSk7XG59XG4iXX0=
