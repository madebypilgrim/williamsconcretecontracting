!function r(s,a,c){function l(e,t){if(!a[e]){if(!s[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(u)return u(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var o=a[e]={exports:{}};s[e][0].call(o.exports,function(t){return l(s[e][1][t]||t)},o,o.exports,r,s,a,c)}return a[e].exports}for(var u="function"==typeof require&&require,t=0;t<c.length;t++)l(c[t]);return l}({1:[function(t,e,n){"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(t){"use strict";if("Element"in t){var e="classList",n="prototype",i=t.Element[n],o=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},c=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},l=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,o=n.length;i<o;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=l[n]=[],d=function(){return new l(this)};if(a[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return-1!==c(this,t+="")},u.add=function(){for(var t,e=arguments,n=0,i=e.length,o=!1;t=e[n]+"",-1===c(this,t)&&(this.push(t),o=!0),++n<i;);o&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,o=n.length,r=!1;do{for(t=n[i]+"",e=c(this,t);-1!==e;)this.splice(e,1),r=!0,e=c(this,t)}while(++i<o);r&&this._updateClassName()},u.toggle=function(t,e){t+="";var n=this.contains(t),i=n?!0!==e&&"remove":!1!==e&&"add";return i&&this[i](t),!0===e||!1===e?e:!n},u.toString=function(){return this.join(" ")},o.defineProperty){var f={get:d,enumerable:!0,configurable:!0};try{o.defineProperty(i,e,f)}catch(t){void 0!==t.number&&-2146823252!==t.number||(f.enumerable=!1,o.defineProperty(i,e,f))}}else o[n].__defineGetter__&&i.__defineGetter__(e,d)}}(window.self),function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var i=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var e,n=arguments.length;for(e=0;e<n;e++)t=arguments[e],i.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}t=null}())},{}],2:[function(t,e,n){!function(m,v){"use strict";if("IntersectionObserver"in m&&"IntersectionObserverEntry"in m&&"intersectionRatio"in m.IntersectionObserverEntry.prototype)"isIntersecting"in m.IntersectionObserverEntry.prototype||Object.defineProperty(m.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});else{var e=[];t.prototype.THROTTLE_TIMEOUT=100,t.prototype.POLL_INTERVAL=null,t.prototype.USE_MUTATION_OBSERVER=!0,t.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},t.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},t.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},t.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},t.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},t.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},t.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(n(m,"resize",this._checkForIntersections,!0),n(v,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in m&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(v,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},t.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,i(m,"resize",this._checkForIntersections,!0),i(v,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},t.prototype._checkForIntersections=function(){var a=this._rootIsInDom(),c=a?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(t){var e=t.element,n=g(e),i=this._rootContainsTarget(e),o=t.entry,r=a&&i&&this._computeTargetAndRootIntersection(e,c),s=t.entry=new l({time:m.performance&&performance.now&&performance.now(),target:e,boundingClientRect:n,rootBounds:c,intersectionRect:r});o?a&&i?this._hasCrossedThreshold(o,s)&&this._queuedEntries.push(s):o&&o.isIntersecting&&this._queuedEntries.push(s):this._queuedEntries.push(s)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},t.prototype._computeTargetAndRootIntersection=function(t,e){if("none"!=m.getComputedStyle(t).display){for(var n,i,o,r,s,a,c,l,u=g(t),d=w(t),f=!1;!f;){var h=null,p=1==d.nodeType?m.getComputedStyle(d):{};if("none"==p.display)return;if(d==this.root||d==v?(f=!0,h=e):d!=v.body&&d!=v.documentElement&&"visible"!=p.overflow&&(h=g(d)),h&&(n=h,i=u,void 0,o=Math.max(n.top,i.top),r=Math.min(n.bottom,i.bottom),s=Math.max(n.left,i.left),a=Math.min(n.right,i.right),l=r-o,!(u=0<=(c=a-s)&&0<=l&&{top:o,bottom:r,left:s,right:a,width:c,height:l})))break;d=w(d)}return u}},t.prototype._getRootRect=function(){var t;if(this.root)t=g(this.root);else{var e=v.documentElement,n=v.body;t={top:0,left:0,right:e.clientWidth||n.clientWidth,width:e.clientWidth||n.clientWidth,bottom:e.clientHeight||n.clientHeight,height:e.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(t)},t.prototype._expandRectByRootMargin=function(n){var t=this._rootMarginValues.map(function(t,e){return"px"==t.unit?t.value:t.value*(e%2?n.width:n.height)/100}),e={top:n.top-t[0],right:n.right+t[1],bottom:n.bottom+t[2],left:n.left-t[3]};return e.width=e.right-e.left,e.height=e.bottom-e.top,e},t.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,i=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==i)for(var o=0;o<this.thresholds.length;o++){var r=this.thresholds[o];if(r==n||r==i||r<n!=r<i)return!0}},t.prototype._rootIsInDom=function(){return!this.root||o(v,this.root)},t.prototype._rootContainsTarget=function(t){return o(this.root||v,t)},t.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},t.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},m.IntersectionObserver=t,m.IntersectionObserverEntry=l}function l(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,i=this.intersectionRect,o=i.width*i.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function t(t,e){var n,i,o,r=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout(function(){n(),o=null},i))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function n(t,e,n,i){"function"==typeof t.addEventListener?t.addEventListener(e,n,i||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function i(t,e,n,i){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,i||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function g(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function o(t,e){for(var n=e;n;){if(n==t)return!0;n=w(n)}return!1}function w(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e}}(window,document)},{}],3:[function(t,l,e){!function(f,h){"use strict";var e=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();var n,p=!1,t=void 0!==f;t&&f.getComputedStyle?(n=h.createElement("div"),["","-webkit-","-moz-","-ms-"].some(function(t){try{n.style.position=t+"sticky"}catch(t){}return""!=n.style.position})&&(p=!0)):p=!0;var r=!1,m="undefined"!=typeof ShadowRoot,s={top:null,left:null},a=[];function v(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function g(t){return parseFloat(t)||0}function w(t){for(var e=0;t;)e+=t.offsetTop,t=t.offsetParent;return e}var o=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!(e instanceof HTMLElement))throw new Error("First argument must be HTMLElement");if(a.some(function(t){return t._node===e}))throw new Error("Stickyfill is already applied to this node");this._node=e,this._stickyMode=null,this._active=!1,a.push(this),this.refresh()}return e(t,[{key:"refresh",value:function(){if(!p&&!this._removed){this._active&&this._deactivate();var t=this._node,e=getComputedStyle(t),n={position:e.position,top:e.top,display:e.display,marginTop:e.marginTop,marginBottom:e.marginBottom,marginLeft:e.marginLeft,marginRight:e.marginRight,cssFloat:e.cssFloat};if(!isNaN(parseFloat(n.top))&&"table-cell"!=n.display&&"none"!=n.display){this._active=!0;var i=t.style.position;"sticky"!=e.position&&"-webkit-sticky"!=e.position||(t.style.position="static");var o=t.parentNode,r=m&&o instanceof ShadowRoot?o.host:o,s=t.getBoundingClientRect(),a=r.getBoundingClientRect(),c=getComputedStyle(r);this._parent={node:r,styles:{position:r.style.position},offsetHeight:r.offsetHeight},this._offsetToWindow={left:s.left,right:h.documentElement.clientWidth-s.right},this._offsetToParent={top:s.top-a.top-g(c.borderTopWidth),left:s.left-a.left-g(c.borderLeftWidth),right:-s.right+a.right-g(c.borderRightWidth)},this._styles={position:i,top:t.style.top,bottom:t.style.bottom,left:t.style.left,right:t.style.right,width:t.style.width,marginTop:t.style.marginTop,marginLeft:t.style.marginLeft,marginRight:t.style.marginRight};var l=g(n.top);this._limits={start:s.top+f.pageYOffset-l,end:a.top+f.pageYOffset+r.offsetHeight-g(c.borderBottomWidth)-t.offsetHeight-l-g(n.marginBottom)};var u=c.position;"absolute"!=u&&"relative"!=u&&(r.style.position="relative"),this._recalcPosition();var d=this._clone={};d.node=h.createElement("div"),v(d.node.style,{width:s.right-s.left+"px",height:s.bottom-s.top+"px",marginTop:n.marginTop,marginBottom:n.marginBottom,marginLeft:n.marginLeft,marginRight:n.marginRight,cssFloat:n.cssFloat,padding:0,border:0,borderSpacing:0,fontSize:"1em",position:"static"}),o.insertBefore(d.node,t),d.docOffsetTop=w(d.node)}}}},{key:"_recalcPosition",value:function(){if(this._active&&!this._removed){var t=s.top<=this._limits.start?"start":s.top>=this._limits.end?"end":"middle";if(this._stickyMode!=t){switch(t){case"start":v(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:this._offsetToParent.top+"px",bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"middle":v(this._node.style,{position:"fixed",left:this._offsetToWindow.left+"px",right:this._offsetToWindow.right+"px",top:this._styles.top,bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"end":v(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:"auto",bottom:0,width:"auto",marginLeft:0,marginRight:0})}this._stickyMode=t}}}},{key:"_fastCheck",value:function(){this._active&&!this._removed&&(1<Math.abs(w(this._clone.node)-this._clone.docOffsetTop)||1<Math.abs(this._parent.node.offsetHeight-this._parent.offsetHeight))&&this.refresh()}},{key:"_deactivate",value:function(){var e=this;this._active&&!this._removed&&(this._clone.node.parentNode.removeChild(this._clone.node),delete this._clone,v(this._node.style,this._styles),delete this._styles,a.some(function(t){return t!==e&&t._parent&&t._parent.node===e._parent.node})||v(this._parent.node.style,this._parent.styles),delete this._parent,this._stickyMode=null,this._active=!1,delete this._offsetToWindow,delete this._offsetToParent,delete this._limits)}},{key:"remove",value:function(){var n=this;this._deactivate(),a.some(function(t,e){if(t._node===n._node)return a.splice(e,1),!0}),this._removed=!0}}]),t}(),c={stickies:a,Sticky:o,forceSticky:function(){p=!1,i(),this.refreshAll()},addOne:function(t){if(!(t instanceof HTMLElement)){if(!t.length||!t[0])return;t=t[0]}for(var e=0;e<a.length;e++)if(a[e]._node===t)return a[e];return new o(t)},add:function(n){if(n instanceof HTMLElement&&(n=[n]),n.length){for(var i=[],t=function(t){var e=n[t];return e instanceof HTMLElement?a.some(function(t){if(t._node===e)return i.push(t),!0})?"continue":void i.push(new o(e)):(i.push(void 0),"continue")},e=0;e<n.length;e++)t(e);return i}},refreshAll:function(){a.forEach(function(t){return t.refresh()})},removeOne:function(e){if(!(e instanceof HTMLElement)){if(!e.length||!e[0])return;e=e[0]}a.some(function(t){if(t._node===e)return t.remove(),!0})},remove:function(n){if(n instanceof HTMLElement&&(n=[n]),n.length)for(var t=function(t){var e=n[t];a.some(function(t){if(t._node===e)return t.remove(),!0})},e=0;e<n.length;e++)t(e)},removeAll:function(){for(;a.length;)a[0].remove()}};function i(){if(!r){r=!0,i(),f.addEventListener("scroll",i),f.addEventListener("resize",c.refreshAll),f.addEventListener("orientationchange",c.refreshAll);var t=void 0,e=void 0,n=void 0;"hidden"in h?(e="hidden",n="visibilitychange"):"webkitHidden"in h&&(e="webkitHidden",n="webkitvisibilitychange"),n?(h[e]||o(),h.addEventListener(n,function(){h[e]?clearInterval(t):o()})):o()}function i(){f.pageXOffset!=s.left?(s.top=f.pageYOffset,s.left=f.pageXOffset,c.refreshAll()):f.pageYOffset!=s.top&&(s.top=f.pageYOffset,s.left=f.pageXOffset,a.forEach(function(t){return t._recalcPosition()}))}function o(){t=setInterval(function(){a.forEach(function(t){return t._fastCheck()})},500)}}p||i(),void 0!==l&&l.exports?l.exports=c:t&&(f.Stickyfill=c)}(window,document)},{}],4:[function(t,e,n){!function(){"use strict";if("undefined"!=typeof window&&window.addEventListener){var t,e,n,m=Object.create(null),v=function(){clearTimeout(e),e=setTimeout(t,100)},g=function(){},w=function(t){function e(t){var e;return void 0!==t.protocol?e=t:(e=document.createElement("a")).href=t,e.protocol.replace(/:/g,"")+e.host}var n,i,o;return window.XMLHttpRequest&&(n=new XMLHttpRequest,i=e(location),o=e(t),n=void 0===n.withCredentials&&""!==o&&o!==i?XDomainRequest||void 0:XMLHttpRequest),n},y="http://www.w3.org/1999/xlink";t=function(){var t,e,n,i,o,r,s,a,c,l,u=0;function d(){var t;0===(u-=1)&&(g(),window.addEventListener("resize",v,!1),window.addEventListener("orientationchange",v,!1),g=window.MutationObserver?((t=new MutationObserver(v)).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),function(){try{t.disconnect(),window.removeEventListener("resize",v,!1),window.removeEventListener("orientationchange",v,!1)}catch(t){}}):(document.documentElement.addEventListener("DOMSubtreeModified",v,!1),function(){document.documentElement.removeEventListener("DOMSubtreeModified",v,!1),window.removeEventListener("resize",v,!1),window.removeEventListener("orientationchange",v,!1)}))}function f(t){return function(){!0!==m[t.base]&&(t.useEl.setAttributeNS(y,"xlink:href","#"+t.hash),t.useEl.hasAttribute("href")&&t.useEl.setAttribute("href","#"+t.hash))}}function h(i){return function(){var t,e=document.body,n=document.createElement("x");i.onload=null,n.innerHTML=i.responseText,(t=n.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",e.insertBefore(t,e.firstChild)),d()}}function p(t){return function(){t.onerror=null,t.ontimeout=null,d()}}for(g(),c=document.getElementsByTagName("use"),o=0;o<c.length;o+=1){try{e=c[o].getBoundingClientRect()}catch(t){e=!1}t=(a=(i=c[o].getAttribute("href")||c[o].getAttributeNS(y,"href")||c[o].getAttribute("xlink:href"))&&i.split?i.split("#"):["",""])[0],n=a[1],r=e&&0===e.left&&0===e.right&&0===e.top&&0===e.bottom,e&&0===e.width&&0===e.height&&!r?(c[o].hasAttribute("href")&&c[o].setAttributeNS(y,"xlink:href",i),t.length&&(!0!==(l=m[t])&&setTimeout(f({useEl:c[o],base:t,hash:n}),0),void 0===l&&void 0!==(s=w(t))&&(l=new s,(m[t]=l).onload=h(l),l.onerror=p(l),l.ontimeout=p(l),l.open("GET",t),l.send(),u+=1))):r?t.length&&m[t]&&setTimeout(f({useEl:c[o],base:t,hash:n}),0):void 0===m[t]?m[t]=!0:m[t].onload&&(m[t].abort(),delete m[t].onload,m[t]=!0)}c="",u+=1,d()},n=function(){window.removeEventListener("load",n,!1),e=setTimeout(t,0)},"complete"!==document.readyState?window.addEventListener("load",n,!1):n()}}()},{}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=t("../utilities/custom-events");n.default=function t(e){var n=e.id,i=e.loadingClass;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=document.getElementById(n),r=!1;window.addEventListener(s.events.startLoader,function(){r=!0,setTimeout(function(){r=!1},1e3),o.classList.add(i)}),window.addEventListener(s.events.stopLoader,function t(){r?setTimeout(t,1e3/60):o.classList.remove(i)})}},{"../utilities/custom-events":21}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},h=t("../utilities/custom-events"),p=t("../utilities/components"),m=t("../utilities/scroll");n.default=function t(e){var n=e.id,i=e.contentHandle,o=e.lockedClass,r=e.activeClass,s=e.unloadingClass;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var a=document.getElementById(n),c=a.querySelector(i),l=!1,u=!1;if(window.addEventListener(h.events.lockScroll,function(t){t.detail.cont,document.body.classList.add(o)}),window.addEventListener(h.events.unlockScroll,function(){document.body.classList.remove(o)}),window.addEventListener(h.events.loadRoute,function t(e){if(l||u)setTimeout(t.bind(this,e),500/60);else{var n=e.detail.markup;a.classList.remove(s),(0,p.injectMarkup)(c,n)}}),window.addEventListener(h.events.unloadRoute,function(){a.classList.add(s),l=!0,setTimeout(function(){u=!(l=!1),(0,m.scrollTop)(document.body,0,function(){u=!1})},500)}),window.addEventListener(h.events.showOverlay,function(){c.style.zIndex="initial"}),window.addEventListener(h.events.hideOverlay,function(){c.style.zIndex=""}),window.history&&window.history.replaceState){var d=f({},window.history.state,{url:window.location.href});window.history.replaceState(d,null)}a.classList.add(r)}},{"../utilities/components":20,"../utilities/custom-events":21,"../utilities/scroll":23}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var p=t("../utilities/custom-events"),m=t("../utilities/components");n.default=function t(e){var n=e.id,i=e.overlayHandle,o=e.closeHandle,r=e.contentHandle,s=e.activeClass;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var l=document.getElementById(n),a=l.querySelector(i),u=l.querySelector(r),c=l.querySelector(o);function d(t){27===t.keyCode&&(0,p.emitEvent)(p.events.closeModal)}function f(){(0,p.emitEvent)(p.events.lockScroll),l.classList.add(s),document.addEventListener("keyup",d)}function h(t){t.preventDefault(),(0,p.emitEvent)(p.events.closeModal)}window.addEventListener(p.events.openModal,f),window.addEventListener(p.events.closeModal,function(){(0,p.emitEvent)(p.events.unlockScroll),l.classList.remove(s),document.removeEventListener("keyup",d)}),window.addEventListener(p.events.loadModal,function(t){var e=t.detail,n=e.markup,i=e.full,o=void 0===i?"false":i,r=e.position,s=void 0===r?"center":r,a=e.size,c=void 0===a?"lg":a;l.setAttribute("data-full",o),l.setAttribute("data-position",s),l.setAttribute("data-size",c),(0,m.injectMarkup)(u,n),f()}),c.addEventListener("click",h),a.addEventListener("click",h)}},{"../utilities/components":20,"../utilities/custom-events":21}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.siteHandle="williamsconcretecontracting"},{}],9:[function(t,e,n){"use strict";t("./polyfills");var i=a(t("./components/loader")),o=a(t("./components/main")),r=a(t("./components/modal")),s=t("./utilities/components");function a(t){return t&&t.__esModule?t:{default:t}}var c={loader:i.default,main:o.default,modal:r.default};document.addEventListener("DOMContentLoaded",function(){(0,s.instantiate)(c)})},{"./components/loader":5,"./components/main":6,"./components/modal":7,"./polyfills":15,"./utilities/components":20}],10:[function(t,e,n){"use strict";Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),i=n.length>>>0,o=arguments[1],r=0;r<i;r++)if(e=n[r],t.call(o,e,r,n))return e}})},{}],11:[function(t,e,n){"use strict";Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),i=n.length>>>0,o=arguments[1],r=0;r<i;r++)if(e=n[r],t.call(o,e,r,n))return r;return-1},enumerable:!1,configurable:!1,writable:!1})},{}],12:[function(t,e,n){"use strict";[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})},{}],13:[function(t,e,n){"use strict";var i,c,o,l;Array.from||(Array.from=(i=Object.prototype.toString,c=function(t){return"function"==typeof t||"[object Function]"===i.call(t)},o=Math.pow(2,53)-1,l=function(t){var e,n=(e=Number(t),isNaN(e)?0:0!==e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e);return Math.min(Math.max(n,0),o)},function(t){var e=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,i=1<arguments.length?arguments[1]:void 0;if(void 0!==i){if(!c(i))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(n=arguments[2])}for(var o,r=l(e.length),s=c(this)?Object(new this(r)):new Array(r),a=0;a<r;)o=e[a],s[a]=i?void 0===n?i(o,a):i.call(n,o,a):o,a+=1;return s.length=r,s}))},{}],14:[function(t,e,n){"use strict";var i;(i=window.Node||window.Element)&&i.prototype&&null==i.prototype.children&&Object.defineProperty(i.prototype,"children",{get:function(){for(var t,e=0,n=this.childNodes,i=[];t=n[e++];)1===t.nodeType&&i.push(t);return i}})},{}],15:[function(t,e,n){"use strict";t("classlist-polyfill"),t("intersection-observer"),t("svgxuse"),t("./array-find"),t("./array-findindex"),t("./array-foreach"),t("./array-from"),t("./element-children"),t("./object-assign"),t("./string-includes"),t("./window-customevent"),t("./window-requestanimationframe")},{"./array-find":10,"./array-findindex":11,"./array-foreach":12,"./array-from":13,"./element-children":14,"./object-assign":16,"./string-includes":17,"./window-customevent":18,"./window-requestanimationframe":19,"classlist-polyfill":1,"intersection-observer":2,svgxuse:4}],16:[function(t,e,n){"use strict";"function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])}return n})},{}],17:[function(t,e,n){"use strict";String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)})},{}],18:[function(t,e,n){"use strict";!function(){if("function"==typeof window.CustomEvent)return;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}t.prototype=window.Event.prototype,window.CustomEvent=t}()},{}],19:[function(t,e,n){"use strict";!function(){for(var r=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var n=(new Date).getTime(),i=Math.max(0,16-(n-r)),o=window.setTimeout(function(){t(n+i)},i);return r=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},{}],20:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};exports.instantiate=instantiate,exports.injectMarkup=injectMarkup;var _config=require("../config"),_spy=require("./spy"),_classMap=null;function instantiate(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(null!==t&&(_classMap=t),null!==_classMap){for(;0<window[_config.siteHandle].components.length;){var e=window[_config.siteHandle],n=e.components,i=e.state,o=n.shift(),r=_classMap[o.handle];"function"==typeof r&&new r(_extends({},o,{state:i}))}(0,_spy.spySections)(),(0,_spy.stick)()}}function injectMarkup(){var container=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,markup=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",append=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(container){append?container.insertAdjacentHTML("beforeend",markup):container.innerHTML=markup;var scripts=container.querySelectorAll("script");Array.from(scripts).filter(function(t){return t.textContent.includes(""+_config.siteHandle)}).forEach(function(script){eval(script.textContent)}),instantiate()}}},{"../config":8,"./spy":24}],21:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.emitEvent=function(t,e){var n=new CustomEvent(t,{detail:e});window.dispatchEvent(n)};n.events={lockScroll:"lock-scroll",unlockScroll:"unlock-scroll",loadRoute:"load-route",unloadRoute:"unload-route",showHeader:"show-header",hideHeader:"hide-header",openModal:"open-modal",closeModal:"close-modal",loadModal:"load-modal",startLoader:"start-loader",stopLoader:"stop-loader",showFormErrors:"show-form-errors"}},{}],22:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(i){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=arguments[2],s=void 0;return function(){var t=this,e=arguments,n=r&&!s;clearTimeout(s),s=setTimeout(function(){s=null,r||i.apply(t,e)},o),n&&i.apply(t,e)}}},{}],23:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scrollTo=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=document.getElementById(t).getBoundingClientRect().top+window.pageYOffset-e;clearTimeout(r),s(),window.requestAnimationFrame(function(){return f(i,n)}),window.history&&window.history.pushState?window.history.pushState(window.history.state,null,"#"+t):window.location.hash="#"+t},n.scrollTop=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=t.getBoundingClientRect().top+window.pageYOffset-e;clearTimeout(r),s(),window.requestAnimationFrame(function(){return f(o,n,i)})},n.scrollBottom=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=t.getBoundingClientRect().top+t.offsetHeight+window.pageYOffset-e;clearTimeout(r),s(),window.requestAnimationFrame(function(){return f(i,n)})};var l=.1,u=.5,d=0,r=null;function f(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2]?u:l,i=window.pageYOffset,o=i<t,r=Math.abs(i-t)*n+1,s=o?i+r:i-r,a=o?t<=s:s<=t,c=!!o&&window.innerHeight+window.pageYOffset+5>=document.body.offsetHeight;window.scrollTo(0,s),a||c||!d?e&&e():window.requestAnimationFrame(function(){return f(t,e)})}function s(){d=1,r=setTimeout(function(){d=0},2500)}},{}],24:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.spySections=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".spy",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"in-view",e=document.querySelectorAll(t);var i=new IntersectionObserver(function(t,e){0===t.length&&e.disconnect();Array.from(t).filter(function(t){return t.target.classList.contains(n)||t.intersectionRatio>(t.target.getAttribute("data-threshold")||.5)}).forEach(function(t){t.target.classList.add(n),e.unobserve(t.target)})},{threshold:[0,.25,.5,.75,1]});Array.from(e).forEach(function(t){i.observe(t)})},n.spyAnchors=function(t){var e=t.links,o=void 0===e?[]:e,n=t.sections,i=void 0===n?[]:n,r=t.activeClass,s=void 0===r?"is-active":r,a=t.threshold,c=void 0===a?window.innerHeight/2:a,l=t.scrollContainer,u=void 0===l?window:l,d=t.cb,f=void 0===d?null:d;if(!i)return;u.addEventListener("scroll",function(){Array.from(i).forEach(function(t,n){var e=t.getBoundingClientRect();if(!(e.top>c||e.bottom<c)){var i=Array.from(o).filter(function(t,e){return t.classList.toggle(s,n===e)});f&&f(i[0])}})})},n.spyNav=function(t){var e=t.el,n=t.nav,i=void 0===n?e:n,o=t.fixedClass,r=void 0===o?"is-fixed":o,s=t.threshold,a=void 0===s?1:s,c=t.cb,l=!1,u=0,d=(0,f.default)(function(){if(l){var t=window.pageYOffset;Math.abs(t-u)<5||(c(u<t),u=t)}else u=0},250);window.addEventListener("scroll",d),new IntersectionObserver(function(t){l=e.classList.toggle(r,t[0].boundingClientRect.top<0),c(l)},{threshold:a}).observe(i)},n.stick=function(){var t=document.querySelectorAll('[data-sticky="true"]');Array.from(t).filter(function(t){return!t.getAttribute("data-stuck")}).forEach(function(t){i.default.addOne(t),t.setAttribute("data-stuck",!0)})};var i=o(t("stickyfilljs")),f=o(t("../utilities/debouncer"));function o(t){return t&&t.__esModule?t:{default:t}}},{"../utilities/debouncer":22,stickyfilljs:3}]},{},[9]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvY2xhc3NsaXN0LXBvbHlmaWxsL3NyYy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9pbnRlcnNlY3Rpb24tb2JzZXJ2ZXIvaW50ZXJzZWN0aW9uLW9ic2VydmVyLmpzIiwibm9kZV9tb2R1bGVzL3N0aWNreWZpbGxqcy9kaXN0L3N0aWNreWZpbGwuanMiLCJub2RlX21vZHVsZXMvc3ZneHVzZS9zdmd4dXNlLmpzIiwic3JjL3NjcmlwdHMvY29tcG9uZW50cy9sb2FkZXIuanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL21haW4uanMiLCJzcmMvc2NyaXB0cy9jb21wb25lbnRzL21vZGFsLmpzIiwic3JjL3NjcmlwdHMvY29uZmlnLmpzIiwic3JjL3NjcmlwdHMvaW5kZXguanMiLCJzcmMvc2NyaXB0cy9wb2x5ZmlsbHMvYXJyYXktZmluZC5qcyIsInNyYy9zY3JpcHRzL3BvbHlmaWxscy9hcnJheS1maW5kaW5kZXguanMiLCJzcmMvc2NyaXB0cy9wb2x5ZmlsbHMvYXJyYXktZm9yZWFjaC5qcyIsInNyYy9zY3JpcHRzL3BvbHlmaWxscy9hcnJheS1mcm9tLmpzIiwic3JjL3NjcmlwdHMvcG9seWZpbGxzL2VsZW1lbnQtY2hpbGRyZW4uanMiLCJzcmMvc2NyaXB0cy9wb2x5ZmlsbHMvaW5kZXguanMiLCJzcmMvc2NyaXB0cy9wb2x5ZmlsbHMvb2JqZWN0LWFzc2lnbi5qcyIsInNyYy9zY3JpcHRzL3BvbHlmaWxscy9zdHJpbmctaW5jbHVkZXMuanMiLCJzcmMvc2NyaXB0cy9wb2x5ZmlsbHMvd2luZG93LWN1c3RvbWV2ZW50LmpzIiwic3JjL3NjcmlwdHMvcG9seWZpbGxzL3dpbmRvdy1yZXF1ZXN0YW5pbWF0aW9uZnJhbWUuanMiLCJzcmMvc2NyaXB0cy91dGlsaXRpZXMvY29tcG9uZW50cy5qcyIsInNyYy9zY3JpcHRzL3V0aWxpdGllcy9jdXN0b20tZXZlbnRzLmpzIiwic3JjL3NjcmlwdHMvdXRpbGl0aWVzL2RlYm91bmNlci5qcyIsInNyYy9zY3JpcHRzL3V0aWxpdGllcy9zY3JvbGwuanMiLCJzcmMvc2NyaXB0cy91dGlsaXRpZXMvc3B5LmpzIl0sIm5hbWVzIjpbInIiLCJlIiwibiIsInQiLCJvIiwiaSIsImYiLCJjIiwicmVxdWlyZSIsInUiLCJhIiwiRXJyb3IiLCJjb2RlIiwicCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsIndpbmRvdyIsInNlbGYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJ2aWV3IiwiY2xhc3NMaXN0UHJvcCIsInByb3RvUHJvcCIsImVsZW1DdHJQcm90byIsIkVsZW1lbnQiLCJvYmpDdHIiLCJPYmplY3QiLCJzdHJUcmltIiwiU3RyaW5nIiwidHJpbSIsInRoaXMiLCJyZXBsYWNlIiwiYXJySW5kZXhPZiIsIkFycmF5IiwiaW5kZXhPZiIsIml0ZW0iLCJsZW4iLCJET01FeCIsInR5cGUiLCJtZXNzYWdlIiwibmFtZSIsIkRPTUV4Y2VwdGlvbiIsImNoZWNrVG9rZW5BbmRHZXRJbmRleCIsImNsYXNzTGlzdCIsInRva2VuIiwidGVzdCIsIkNsYXNzTGlzdCIsImVsZW0iLCJ0cmltbWVkQ2xhc3NlcyIsImdldEF0dHJpYnV0ZSIsImNsYXNzZXMiLCJzcGxpdCIsInB1c2giLCJfdXBkYXRlQ2xhc3NOYW1lIiwic2V0QXR0cmlidXRlIiwidG9TdHJpbmciLCJjbGFzc0xpc3RQcm90byIsImNsYXNzTGlzdEdldHRlciIsImNvbnRhaW5zIiwiYWRkIiwidG9rZW5zIiwiYXJndW1lbnRzIiwibCIsInVwZGF0ZWQiLCJyZW1vdmUiLCJpbmRleCIsInNwbGljZSIsInRvZ2dsZSIsImZvcmNlIiwicmVzdWx0IiwibWV0aG9kIiwiam9pbiIsImRlZmluZVByb3BlcnR5IiwiY2xhc3NMaXN0UHJvcERlc2MiLCJnZXQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiZXgiLCJ1bmRlZmluZWQiLCJudW1iZXIiLCJfX2RlZmluZUdldHRlcl9fIiwidGVzdEVsZW1lbnQiLCJjcmVhdGVNZXRob2QiLCJvcmlnaW5hbCIsIkRPTVRva2VuTGlzdCIsInByb3RvdHlwZSIsIl90b2dnbGUiLCJJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5IiwiaW50ZXJzZWN0aW9uUmF0aW8iLCJyZWdpc3RyeSIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiVEhST1RUTEVfVElNRU9VVCIsIlBPTExfSU5URVJWQUwiLCJVU0VfTVVUQVRJT05fT0JTRVJWRVIiLCJvYnNlcnZlIiwidGFyZ2V0IiwiX29ic2VydmF0aW9uVGFyZ2V0cyIsInNvbWUiLCJlbGVtZW50Iiwibm9kZVR5cGUiLCJfcmVnaXN0ZXJJbnN0YW5jZSIsImVudHJ5IiwiX21vbml0b3JJbnRlcnNlY3Rpb25zIiwiX2NoZWNrRm9ySW50ZXJzZWN0aW9ucyIsInVub2JzZXJ2ZSIsImZpbHRlciIsIl91bm1vbml0b3JJbnRlcnNlY3Rpb25zIiwiX3VucmVnaXN0ZXJJbnN0YW5jZSIsImRpc2Nvbm5lY3QiLCJ0YWtlUmVjb3JkcyIsInJlY29yZHMiLCJfcXVldWVkRW50cmllcyIsInNsaWNlIiwiX2luaXRUaHJlc2hvbGRzIiwib3B0X3RocmVzaG9sZCIsInRocmVzaG9sZCIsImlzQXJyYXkiLCJzb3J0IiwiaXNOYU4iLCJfcGFyc2VSb290TWFyZ2luIiwib3B0X3Jvb3RNYXJnaW4iLCJtYXJnaW5zIiwibWFwIiwibWFyZ2luIiwicGFydHMiLCJleGVjIiwidmFsdWUiLCJwYXJzZUZsb2F0IiwidW5pdCIsIl9tb25pdG9yaW5nSW50ZXJzZWN0aW9ucyIsIl9tb25pdG9yaW5nSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImFkZEV2ZW50IiwiX2RvbU9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsImF0dHJpYnV0ZXMiLCJjaGlsZExpc3QiLCJjaGFyYWN0ZXJEYXRhIiwic3VidHJlZSIsImNsZWFySW50ZXJ2YWwiLCJyZW1vdmVFdmVudCIsInJvb3RJc0luRG9tIiwiX3Jvb3RJc0luRG9tIiwicm9vdFJlY3QiLCJfZ2V0Um9vdFJlY3QiLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJ3aWR0aCIsImhlaWdodCIsImZvckVhY2giLCJ0YXJnZXRSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwicm9vdENvbnRhaW5zVGFyZ2V0IiwiX3Jvb3RDb250YWluc1RhcmdldCIsIm9sZEVudHJ5IiwiaW50ZXJzZWN0aW9uUmVjdCIsIl9jb21wdXRlVGFyZ2V0QW5kUm9vdEludGVyc2VjdGlvbiIsIm5ld0VudHJ5IiwidGltZSIsInBlcmZvcm1hbmNlIiwibm93IiwiYm91bmRpbmdDbGllbnRSZWN0Iiwicm9vdEJvdW5kcyIsIl9oYXNDcm9zc2VkVGhyZXNob2xkIiwiaXNJbnRlcnNlY3RpbmciLCJfY2FsbGJhY2siLCJnZXRDb21wdXRlZFN0eWxlIiwiZGlzcGxheSIsInJlY3QxIiwicmVjdDIiLCJwYXJlbnQiLCJnZXRQYXJlbnROb2RlIiwiYXRSb290IiwicGFyZW50UmVjdCIsInBhcmVudENvbXB1dGVkU3R5bGUiLCJyb290IiwiYm9keSIsImRvY3VtZW50RWxlbWVudCIsIm92ZXJmbG93IiwiTWF0aCIsIm1heCIsIm1pbiIsImh0bWwiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsIl9leHBhbmRSZWN0QnlSb290TWFyZ2luIiwicmVjdCIsIl9yb290TWFyZ2luVmFsdWVzIiwibmV3UmVjdCIsIm9sZFJhdGlvIiwibmV3UmF0aW8iLCJ0aHJlc2hvbGRzIiwiY29udGFpbnNEZWVwIiwidGFyZ2V0QXJlYSIsImludGVyc2VjdGlvbkFyZWEiLCJOdW1iZXIiLCJ0b0ZpeGVkIiwiY2FsbGJhY2siLCJvcHRfb3B0aW9ucyIsImZuIiwidGltZW91dCIsInRpbWVyIiwib3B0aW9ucyIsImJpbmQiLCJzZXRUaW1lb3V0Iiwicm9vdE1hcmdpbiIsIm5vZGUiLCJldmVudCIsIm9wdF91c2VDYXB0dXJlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGF0Y2hFdmVudCIsImVsIiwiZXJyIiwiY2hpbGQiLCJwYXJlbnROb2RlIiwiaG9zdCIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJ3cml0YWJsZSIsImtleSIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwidGVzdE5vZGUiLCJzZXBwdWt1IiwiaXNXaW5kb3dEZWZpbmVkIiwicHJlZml4Iiwic3R5bGUiLCJwb3NpdGlvbiIsImlzSW5pdGlhbGl6ZWQiLCJzaGFkb3dSb290RXhpc3RzIiwiU2hhZG93Um9vdCIsInNjcm9sbCIsInN0aWNraWVzIiwiZXh0ZW5kIiwidGFyZ2V0T2JqIiwic291cmNlT2JqZWN0IiwiaGFzT3duUHJvcGVydHkiLCJwYXJzZU51bWVyaWMiLCJ2YWwiLCJnZXREb2NPZmZzZXRUb3AiLCJkb2NPZmZzZXRUb3AiLCJvZmZzZXRUb3AiLCJvZmZzZXRQYXJlbnQiLCJTdGlja3kiLCJpbnN0YW5jZSIsIlR5cGVFcnJvciIsIl9jbGFzc0NhbGxDaGVjayIsIkhUTUxFbGVtZW50Iiwic3RpY2t5IiwiX25vZGUiLCJfc3RpY2t5TW9kZSIsIl9hY3RpdmUiLCJyZWZyZXNoIiwiX3JlbW92ZWQiLCJfZGVhY3RpdmF0ZSIsIm5vZGVDb21wdXRlZFN0eWxlIiwibm9kZUNvbXB1dGVkUHJvcHMiLCJtYXJnaW5Ub3AiLCJtYXJnaW5Cb3R0b20iLCJtYXJnaW5MZWZ0IiwibWFyZ2luUmlnaHQiLCJjc3NGbG9hdCIsIm9yaWdpbmFsUG9zaXRpb24iLCJyZWZlcmVuY2VOb2RlIiwibm9kZVdpbk9mZnNldCIsInBhcmVudFdpbk9mZnNldCIsIl9wYXJlbnQiLCJzdHlsZXMiLCJvZmZzZXRIZWlnaHQiLCJfb2Zmc2V0VG9XaW5kb3ciLCJfb2Zmc2V0VG9QYXJlbnQiLCJib3JkZXJUb3BXaWR0aCIsImJvcmRlckxlZnRXaWR0aCIsImJvcmRlclJpZ2h0V2lkdGgiLCJfc3R5bGVzIiwibm9kZVRvcFZhbHVlIiwiX2xpbWl0cyIsInN0YXJ0IiwicGFnZVlPZmZzZXQiLCJlbmQiLCJib3JkZXJCb3R0b21XaWR0aCIsInBhcmVudFBvc2l0aW9uIiwiX3JlY2FsY1Bvc2l0aW9uIiwiY2xvbmUiLCJfY2xvbmUiLCJwYWRkaW5nIiwiYm9yZGVyIiwiYm9yZGVyU3BhY2luZyIsImZvbnRTaXplIiwiaW5zZXJ0QmVmb3JlIiwic3RpY2t5TW9kZSIsImFicyIsIl90aGlzIiwicmVtb3ZlQ2hpbGQiLCJfdGhpczIiLCJTdGlja3lmaWxsIiwiZm9yY2VTdGlja3kiLCJpbml0IiwicmVmcmVzaEFsbCIsImFkZE9uZSIsIm5vZGVMaXN0IiwiYWRkZWRTdGlja2llcyIsIl9sb29wIiwicmVtb3ZlT25lIiwiX2xvb3AyIiwicmVtb3ZlQWxsIiwiY2hlY2tTY3JvbGwiLCJmYXN0Q2hlY2tUaW1lciIsImRvY0hpZGRlbktleSIsInZpc2liaWxpdHlDaGFuZ2VFdmVudE5hbWUiLCJzdGFydEZhc3RDaGVja1RpbWVyIiwicGFnZVhPZmZzZXQiLCJfZmFzdENoZWNrIiwiY2hlY2tVc2VFbGVtcyIsInRpZCIsIndpbkxvYWQiLCJjYWNoZSIsImNyZWF0ZSIsImRlYm91bmNlZENoZWNrIiwiY2xlYXJUaW1lb3V0IiwidW5vYnNlcnZlQ2hhbmdlcyIsImNyZWF0ZVJlcXVlc3QiLCJ1cmwiLCJnZXRPcmlnaW4iLCJsb2MiLCJwcm90b2NvbCIsImhyZWYiLCJSZXF1ZXN0Iiwib3JpZ2luIiwib3JpZ2luMiIsIlhNTEh0dHBSZXF1ZXN0IiwibG9jYXRpb24iLCJ3aXRoQ3JlZGVudGlhbHMiLCJYRG9tYWluUmVxdWVzdCIsInhsaW5rTlMiLCJiYXNlIiwiYmNyIiwiaGFzaCIsImlzSGlkZGVuIiwidXNlcyIsInhociIsImluUHJvZ3Jlc3NDb3VudCIsIm9ic2VydmVJZkRvbmUiLCJvYnNlcnZlciIsImlnbm9yZSIsImF0dHJVcGRhdGVGdW5jIiwic3BlYyIsInVzZUVsIiwic2V0QXR0cmlidXRlTlMiLCJoYXNBdHRyaWJ1dGUiLCJvbmxvYWRGdW5jIiwic3ZnIiwieCIsIm9ubG9hZCIsImlubmVySFRNTCIsInJlc3BvbnNlVGV4dCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZmlyc3RDaGlsZCIsIm9uRXJyb3JUaW1lb3V0Iiwib25lcnJvciIsIm9udGltZW91dCIsImdldEF0dHJpYnV0ZU5TIiwib3BlbiIsInNlbmQiLCJhYm9ydCIsInJlYWR5U3RhdGUiLCJfY3VzdG9tRXZlbnRzIiwiX2NsYXNzIiwiX3JlZiIsImlkIiwibG9hZGluZ0NsYXNzIiwiZ2V0RWxlbWVudEJ5SWQiLCJhbmltYXRpbmciLCJldmVudHMiLCJzdGFydExvYWRlciIsInN0b3BMb2FkZXIiLCJoYW5kbGVTdG9wTG9hZGVyIiwiX2NvbXBvbmVudHMiLCJfc2Nyb2xsIiwiY29udGVudEhhbmRsZSIsImxvY2tlZENsYXNzIiwiYWN0aXZlQ2xhc3MiLCJ1bmxvYWRpbmdDbGFzcyIsImNvbnRlbnQiLCJxdWVyeVNlbGVjdG9yIiwic2Nyb2xsaW5nIiwibG9ja1Njcm9sbCIsImRldGFpbCIsImNvbnQiLCJ1bmxvY2tTY3JvbGwiLCJsb2FkUm91dGUiLCJoYW5kbGVMb2FkUm91dGUiLCJtYXJrdXAiLCJpbmplY3RNYXJrdXAiLCJ1bmxvYWRSb3V0ZSIsInNjcm9sbFRvcCIsInNob3dPdmVybGF5IiwiekluZGV4IiwiaGlkZU92ZXJsYXkiLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwiX2V4dGVuZHMiLCJzdGF0ZSIsIm92ZXJsYXlIYW5kbGUiLCJjbG9zZUhhbmRsZSIsIm92ZXJsYXkiLCJjbG9zZSIsImhhbmRsZUtleXVwIiwia2V5Q29kZSIsImVtaXRFdmVudCIsImNsb3NlTW9kYWwiLCJoYW5kbGVPcGVuTW9kYWwiLCJoYW5kbGVDbGljayIsInByZXZlbnREZWZhdWx0Iiwib3Blbk1vZGFsIiwibG9hZE1vZGFsIiwiX2UkZGV0YWlsIiwiX2UkZGV0YWlsJGZ1bGwiLCJmdWxsIiwiX2UkZGV0YWlsJHBvc2l0aW9uIiwiX2UkZGV0YWlsJHNpemUiLCJzaXplIiwic2l0ZUhhbmRsZSIsImNsYXNzTWFwIiwibG9hZGVyIiwiX2xvYWRlcjIiLCJkZWZhdWx0IiwibWFpbiIsIl9tYWluMiIsIm1vZGFsIiwiX21vZGFsMiIsImluc3RhbnRpYXRlIiwiZmluZCIsInByZWRpY2F0ZSIsImxpc3QiLCJ0aGlzQXJnIiwiZmluZEluZGV4IiwiQ2hhcmFjdGVyRGF0YSIsIkRvY3VtZW50VHlwZSIsInRvU3RyIiwiaXNDYWxsYWJsZSIsIm1heFNhZmVJbnRlZ2VyIiwidG9MZW5ndGgiLCJmcm9tIiwicG93IiwiaXNGaW5pdGUiLCJmbG9vciIsImFycmF5TGlrZSIsIml0ZW1zIiwiVCIsIm1hcEZuIiwia1ZhbHVlIiwiQSIsImsiLCJjb25zdHJ1Y3RvciIsIk5vZGUiLCJjaGlsZHJlbiIsIm5vZGVzIiwiY2hpbGROb2RlcyIsImFzc2lnbiIsInZhckFyZ3MiLCJ0byIsIm5leHRTb3VyY2UiLCJuZXh0S2V5IiwiaW5jbHVkZXMiLCJzZWFyY2giLCJDdXN0b21FdmVudCIsInBhcmFtcyIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiZXZ0IiwiY3JlYXRlRXZlbnQiLCJpbml0Q3VzdG9tRXZlbnQiLCJFdmVudCIsImxhc3RUaW1lIiwidmVuZG9ycyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY3VyclRpbWUiLCJEYXRlIiwiZ2V0VGltZSIsInRpbWVUb0NhbGwiLCJfY29uZmlnIiwiX3NweSIsIl9jbGFzc01hcCIsImNvbXBvbmVudHMiLCJfd2luZG93JHNpdGVIYW5kbGUiLCJjb25maWciLCJzaGlmdCIsIkNsYXNzIiwiaGFuZGxlIiwic3B5U2VjdGlvbnMiLCJzdGljayIsImNvbnRhaW5lciIsImFwcGVuZCIsImluc2VydEFkamFjZW50SFRNTCIsInNjcmlwdHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2NyaXB0IiwidGV4dENvbnRlbnQiLCJldmFsIiwiZXZlbnRIYW5kbGUiLCJldmVudERldGFpbHMiLCJkaXNwYXRjaEV2ZW50Iiwic2hvd0hlYWRlciIsImhpZGVIZWFkZXIiLCJzaG93Rm9ybUVycm9ycyIsImZ1bmMiLCJ3YWl0IiwiaW1tZWRpYXRlIiwiY29udGV4dCIsImFyZ3MiLCJjYWxsTm93IiwiYXBwbHkiLCJzY3JvbGxUbyIsImFuY2hvciIsIm9mZnNldCIsImNiIiwidGltZXJGdW5jdGlvbiIsInNldFRpbWVyIiwicHVzaFN0YXRlIiwiZmFzdCIsInNjcm9sbEJvdHRvbSIsIlNDUk9MTF9SQVRFIiwiRkFTVF9TQ1JPTExfUkFURSIsInNjcm9sbFJhdGUiLCJjdXJyZW50IiwiZG93biIsInN0ZXAiLCJuZXh0IiwiaXNQYXN0IiwiYXRCb3R0b20iLCJpbm5lckhlaWdodCIsInNlY3Rpb25IYW5kbGUiLCJpblZpZXdDbGFzcyIsInNlY3Rpb25zIiwiZW50cmllcyIsInNlY3Rpb24iLCJzcHlBbmNob3JzIiwiX3JlZiRsaW5rcyIsImxpbmtzIiwiX3JlZiRzZWN0aW9ucyIsIl9yZWYkYWN0aXZlQ2xhc3MiLCJfcmVmJHRocmVzaG9sZCIsIl9yZWYkc2Nyb2xsQ29udGFpbmVyIiwic2Nyb2xsQ29udGFpbmVyIiwiX3JlZiRjYiIsImFjdGl2ZUFuY2hvcnMiLCJsaW5rIiwiaWkiLCJzcHlOYXYiLCJfcmVmMiIsIl9yZWYyJG5hdiIsIm5hdiIsIl9yZWYyJGZpeGVkQ2xhc3MiLCJmaXhlZENsYXNzIiwiX3JlZjIkdGhyZXNob2xkIiwiZW5hYmxlZCIsImxhc3RZIiwiaGFuZGxlU2Nyb2xsIiwiX2RlYm91bmNlcjIiLCJ0aGlzWSIsIl9zdGlja3lmaWxsanMyIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQUEsSUFBQUosRUFBQUcsR0FBQSxDQUFBLElBQUFKLEVBQUFJLEdBQUEsQ0FBQSxJQUFBRSxFQUFBLG1CQUFBQyxTQUFBQSxRQUFBLElBQUFGLEdBQUFDLEVBQUEsT0FBQUEsRUFBQUYsR0FBQSxHQUFBLEdB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SCxFQUhESSxXQUFBQSxPQUdDcGUsSUFBQW1lLEVBSFksV0FHWkEsRUFBQUUsRUFBQUwsRUFGRDNiLFVBQUFBLE9BRUNyQyxJQUFBcWUsRUFGVyxFQUVYQSxFQUREdkMsRUFDQ2tDLEVBRERsQyxHQUtJd0MsR0FBVSxFQUNWQyxFQUFRLEVBR05DLEdBQWUsRUFBQUMsRUFBQXRJLFNBQVMsV0FFNUIsR0FBS21JLEVBQUwsQ0FNQSxJQUFNSSxFQUFRemlCLE9BQU84USxZQUdqQnhHLEtBQUtxSCxJQUFJOFEsRUFBUUgsR0FsQlQsSUFzQlp6QyxFQUFXeUMsRUFBUkcsR0FFSEgsRUFBUUcsUUFkTkgsRUFBUSxHQWVULEtBU0h0aUIsT0FBT29NLGlCQUFpQixTQUFVbVcsR0FDZCxJQUFJNWQscUJBVHhCLFNBQTJCcWMsR0FFekJxQixFQUFVN1YsRUFBRzVLLFVBQVV3QixPQUFPK2UsRUFBWW5CLEVBQVEsR0FBRzVYLG1CQUFtQmxCLElBQU0sR0FFOUUyWCxFQUFHd0MsSUFLMkQsQ0FBRWpjLFVBQUFBLElBQ3REckIsUUFBUWtkLE1BTU43RCxNQUFULFdBQ0wsSUFBTXBRLEVBQVc5TixTQUFTdWUsaUJBQWlCLHdCQUUzQ3ZkLE1BQU1pYSxLQUFLbk4sR0FFUnRJLE9BQU8sU0FBQXNKLEdBQUEsT0FBV0EsRUFBTzlNLGFBQWEsZ0JBRXRDc0csUUFBUSxTQUFBd0csR0FDUDBULEVBQUF4SSxRQUFXL0gsT0FBT25ELEdBRWxCQSxFQUFPek0sYUFBYSxjQUFjLE1BN0l4QyxRQUFBbEQsRUFBQSxxQkFDQUEsRUFBQSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKlxuICogY2xhc3NMaXN0LmpzOiBDcm9zcy1icm93c2VyIGZ1bGwgZWxlbWVudC5jbGFzc0xpc3QgaW1wbGVtZW50YXRpb24uXG4gKiAxLjEuMjAxNzA0MjdcbiAqXG4gKiBCeSBFbGkgR3JleSwgaHR0cDovL2VsaWdyZXkuY29tXG4gKiBMaWNlbnNlOiBEZWRpY2F0ZWQgdG8gdGhlIHB1YmxpYyBkb21haW4uXG4gKiAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9jbGFzc0xpc3QuanMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxuICovXG5cbi8qZ2xvYmFsIHNlbGYsIGRvY3VtZW50LCBET01FeGNlcHRpb24gKi9cblxuLyohIEBzb3VyY2UgaHR0cDovL3B1cmwuZWxpZ3JleS5jb20vZ2l0aHViL2NsYXNzTGlzdC5qcy9ibG9iL21hc3Rlci9jbGFzc0xpc3QuanMgKi9cblxuaWYgKFwiZG9jdW1lbnRcIiBpbiB3aW5kb3cuc2VsZikge1xuXG4vLyBGdWxsIHBvbHlmaWxsIGZvciBicm93c2VycyB3aXRoIG5vIGNsYXNzTGlzdCBzdXBwb3J0XG4vLyBJbmNsdWRpbmcgSUUgPCBFZGdlIG1pc3NpbmcgU1ZHRWxlbWVudC5jbGFzc0xpc3RcbmlmICghKFwiY2xhc3NMaXN0XCIgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIl9cIikpIFxuXHR8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgJiYgIShcImNsYXNzTGlzdFwiIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXCJnXCIpKSkge1xuXG4oZnVuY3Rpb24gKHZpZXcpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmlmICghKCdFbGVtZW50JyBpbiB2aWV3KSkgcmV0dXJuO1xuXG52YXJcblx0ICBjbGFzc0xpc3RQcm9wID0gXCJjbGFzc0xpc3RcIlxuXHQsIHByb3RvUHJvcCA9IFwicHJvdG90eXBlXCJcblx0LCBlbGVtQ3RyUHJvdG8gPSB2aWV3LkVsZW1lbnRbcHJvdG9Qcm9wXVxuXHQsIG9iakN0ciA9IE9iamVjdFxuXHQsIHN0clRyaW0gPSBTdHJpbmdbcHJvdG9Qcm9wXS50cmltIHx8IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCBcIlwiKTtcblx0fVxuXHQsIGFyckluZGV4T2YgPSBBcnJheVtwcm90b1Byb3BdLmluZGV4T2YgfHwgZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHR2YXJcblx0XHRcdCAgaSA9IDBcblx0XHRcdCwgbGVuID0gdGhpcy5sZW5ndGhcblx0XHQ7XG5cdFx0Zm9yICg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKGkgaW4gdGhpcyAmJiB0aGlzW2ldID09PSBpdGVtKSB7XG5cdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gLTE7XG5cdH1cblx0Ly8gVmVuZG9yczogcGxlYXNlIGFsbG93IGNvbnRlbnQgY29kZSB0byBpbnN0YW50aWF0ZSBET01FeGNlcHRpb25zXG5cdCwgRE9NRXggPSBmdW5jdGlvbiAodHlwZSwgbWVzc2FnZSkge1xuXHRcdHRoaXMubmFtZSA9IHR5cGU7XG5cdFx0dGhpcy5jb2RlID0gRE9NRXhjZXB0aW9uW3R5cGVdO1xuXHRcdHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG5cdH1cblx0LCBjaGVja1Rva2VuQW5kR2V0SW5kZXggPSBmdW5jdGlvbiAoY2xhc3NMaXN0LCB0b2tlbikge1xuXHRcdGlmICh0b2tlbiA9PT0gXCJcIikge1xuXHRcdFx0dGhyb3cgbmV3IERPTUV4KFxuXHRcdFx0XHQgIFwiU1lOVEFYX0VSUlwiXG5cdFx0XHRcdCwgXCJBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWRcIlxuXHRcdFx0KTtcblx0XHR9XG5cdFx0aWYgKC9cXHMvLnRlc3QodG9rZW4pKSB7XG5cdFx0XHR0aHJvdyBuZXcgRE9NRXgoXG5cdFx0XHRcdCAgXCJJTlZBTElEX0NIQVJBQ1RFUl9FUlJcIlxuXHRcdFx0XHQsIFwiU3RyaW5nIGNvbnRhaW5zIGFuIGludmFsaWQgY2hhcmFjdGVyXCJcblx0XHRcdCk7XG5cdFx0fVxuXHRcdHJldHVybiBhcnJJbmRleE9mLmNhbGwoY2xhc3NMaXN0LCB0b2tlbik7XG5cdH1cblx0LCBDbGFzc0xpc3QgPSBmdW5jdGlvbiAoZWxlbSkge1xuXHRcdHZhclxuXHRcdFx0ICB0cmltbWVkQ2xhc3NlcyA9IHN0clRyaW0uY2FsbChlbGVtLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCIpXG5cdFx0XHQsIGNsYXNzZXMgPSB0cmltbWVkQ2xhc3NlcyA/IHRyaW1tZWRDbGFzc2VzLnNwbGl0KC9cXHMrLykgOiBbXVxuXHRcdFx0LCBpID0gMFxuXHRcdFx0LCBsZW4gPSBjbGFzc2VzLmxlbmd0aFxuXHRcdDtcblx0XHRmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHR0aGlzLnB1c2goY2xhc3Nlc1tpXSk7XG5cdFx0fVxuXHRcdHRoaXMuX3VwZGF0ZUNsYXNzTmFtZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgdGhpcy50b1N0cmluZygpKTtcblx0XHR9O1xuXHR9XG5cdCwgY2xhc3NMaXN0UHJvdG8gPSBDbGFzc0xpc3RbcHJvdG9Qcm9wXSA9IFtdXG5cdCwgY2xhc3NMaXN0R2V0dGVyID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBuZXcgQ2xhc3NMaXN0KHRoaXMpO1xuXHR9XG47XG4vLyBNb3N0IERPTUV4Y2VwdGlvbiBpbXBsZW1lbnRhdGlvbnMgZG9uJ3QgYWxsb3cgY2FsbGluZyBET01FeGNlcHRpb24ncyB0b1N0cmluZygpXG4vLyBvbiBub24tRE9NRXhjZXB0aW9ucy4gRXJyb3IncyB0b1N0cmluZygpIGlzIHN1ZmZpY2llbnQgaGVyZS5cbkRPTUV4W3Byb3RvUHJvcF0gPSBFcnJvcltwcm90b1Byb3BdO1xuY2xhc3NMaXN0UHJvdG8uaXRlbSA9IGZ1bmN0aW9uIChpKSB7XG5cdHJldHVybiB0aGlzW2ldIHx8IG51bGw7XG59O1xuY2xhc3NMaXN0UHJvdG8uY29udGFpbnMgPSBmdW5jdGlvbiAodG9rZW4pIHtcblx0dG9rZW4gKz0gXCJcIjtcblx0cmV0dXJuIGNoZWNrVG9rZW5BbmRHZXRJbmRleCh0aGlzLCB0b2tlbikgIT09IC0xO1xufTtcbmNsYXNzTGlzdFByb3RvLmFkZCA9IGZ1bmN0aW9uICgpIHtcblx0dmFyXG5cdFx0ICB0b2tlbnMgPSBhcmd1bWVudHNcblx0XHQsIGkgPSAwXG5cdFx0LCBsID0gdG9rZW5zLmxlbmd0aFxuXHRcdCwgdG9rZW5cblx0XHQsIHVwZGF0ZWQgPSBmYWxzZVxuXHQ7XG5cdGRvIHtcblx0XHR0b2tlbiA9IHRva2Vuc1tpXSArIFwiXCI7XG5cdFx0aWYgKGNoZWNrVG9rZW5BbmRHZXRJbmRleCh0aGlzLCB0b2tlbikgPT09IC0xKSB7XG5cdFx0XHR0aGlzLnB1c2godG9rZW4pO1xuXHRcdFx0dXBkYXRlZCA9IHRydWU7XG5cdFx0fVxuXHR9XG5cdHdoaWxlICgrK2kgPCBsKTtcblxuXHRpZiAodXBkYXRlZCkge1xuXHRcdHRoaXMuX3VwZGF0ZUNsYXNzTmFtZSgpO1xuXHR9XG59O1xuY2xhc3NMaXN0UHJvdG8ucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHR2YXJcblx0XHQgIHRva2VucyA9IGFyZ3VtZW50c1xuXHRcdCwgaSA9IDBcblx0XHQsIGwgPSB0b2tlbnMubGVuZ3RoXG5cdFx0LCB0b2tlblxuXHRcdCwgdXBkYXRlZCA9IGZhbHNlXG5cdFx0LCBpbmRleFxuXHQ7XG5cdGRvIHtcblx0XHR0b2tlbiA9IHRva2Vuc1tpXSArIFwiXCI7XG5cdFx0aW5kZXggPSBjaGVja1Rva2VuQW5kR2V0SW5kZXgodGhpcywgdG9rZW4pO1xuXHRcdHdoaWxlIChpbmRleCAhPT0gLTEpIHtcblx0XHRcdHRoaXMuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdHVwZGF0ZWQgPSB0cnVlO1xuXHRcdFx0aW5kZXggPSBjaGVja1Rva2VuQW5kR2V0SW5kZXgodGhpcywgdG9rZW4pO1xuXHRcdH1cblx0fVxuXHR3aGlsZSAoKytpIDwgbCk7XG5cblx0aWYgKHVwZGF0ZWQpIHtcblx0XHR0aGlzLl91cGRhdGVDbGFzc05hbWUoKTtcblx0fVxufTtcbmNsYXNzTGlzdFByb3RvLnRvZ2dsZSA9IGZ1bmN0aW9uICh0b2tlbiwgZm9yY2UpIHtcblx0dG9rZW4gKz0gXCJcIjtcblxuXHR2YXJcblx0XHQgIHJlc3VsdCA9IHRoaXMuY29udGFpbnModG9rZW4pXG5cdFx0LCBtZXRob2QgPSByZXN1bHQgP1xuXHRcdFx0Zm9yY2UgIT09IHRydWUgJiYgXCJyZW1vdmVcIlxuXHRcdDpcblx0XHRcdGZvcmNlICE9PSBmYWxzZSAmJiBcImFkZFwiXG5cdDtcblxuXHRpZiAobWV0aG9kKSB7XG5cdFx0dGhpc1ttZXRob2RdKHRva2VuKTtcblx0fVxuXG5cdGlmIChmb3JjZSA9PT0gdHJ1ZSB8fCBmb3JjZSA9PT0gZmFsc2UpIHtcblx0XHRyZXR1cm4gZm9yY2U7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuICFyZXN1bHQ7XG5cdH1cbn07XG5jbGFzc0xpc3RQcm90by50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0cmV0dXJuIHRoaXMuam9pbihcIiBcIik7XG59O1xuXG5pZiAob2JqQ3RyLmRlZmluZVByb3BlcnR5KSB7XG5cdHZhciBjbGFzc0xpc3RQcm9wRGVzYyA9IHtcblx0XHQgIGdldDogY2xhc3NMaXN0R2V0dGVyXG5cdFx0LCBlbnVtZXJhYmxlOiB0cnVlXG5cdFx0LCBjb25maWd1cmFibGU6IHRydWVcblx0fTtcblx0dHJ5IHtcblx0XHRvYmpDdHIuZGVmaW5lUHJvcGVydHkoZWxlbUN0clByb3RvLCBjbGFzc0xpc3RQcm9wLCBjbGFzc0xpc3RQcm9wRGVzYyk7XG5cdH0gY2F0Y2ggKGV4KSB7IC8vIElFIDggZG9lc24ndCBzdXBwb3J0IGVudW1lcmFibGU6dHJ1ZVxuXHRcdC8vIGFkZGluZyB1bmRlZmluZWQgdG8gZmlnaHQgdGhpcyBpc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9jbGFzc0xpc3QuanMvaXNzdWVzLzM2XG5cdFx0Ly8gbW9kZXJuaWUgSUU4LU1TVzcgbWFjaGluZSBoYXMgSUU4IDguMC42MDAxLjE4NzAyIGFuZCBpcyBhZmZlY3RlZFxuXHRcdGlmIChleC5udW1iZXIgPT09IHVuZGVmaW5lZCB8fCBleC5udW1iZXIgPT09IC0weDdGRjVFQzU0KSB7XG5cdFx0XHRjbGFzc0xpc3RQcm9wRGVzYy5lbnVtZXJhYmxlID0gZmFsc2U7XG5cdFx0XHRvYmpDdHIuZGVmaW5lUHJvcGVydHkoZWxlbUN0clByb3RvLCBjbGFzc0xpc3RQcm9wLCBjbGFzc0xpc3RQcm9wRGVzYyk7XG5cdFx0fVxuXHR9XG59IGVsc2UgaWYgKG9iakN0cltwcm90b1Byb3BdLl9fZGVmaW5lR2V0dGVyX18pIHtcblx0ZWxlbUN0clByb3RvLl9fZGVmaW5lR2V0dGVyX18oY2xhc3NMaXN0UHJvcCwgY2xhc3NMaXN0R2V0dGVyKTtcbn1cblxufSh3aW5kb3cuc2VsZikpO1xuXG59XG5cbi8vIFRoZXJlIGlzIGZ1bGwgb3IgcGFydGlhbCBuYXRpdmUgY2xhc3NMaXN0IHN1cHBvcnQsIHNvIGp1c3QgY2hlY2sgaWYgd2UgbmVlZFxuLy8gdG8gbm9ybWFsaXplIHRoZSBhZGQvcmVtb3ZlIGFuZCB0b2dnbGUgQVBJcy5cblxuKGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIHRlc3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIl9cIik7XG5cblx0dGVzdEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImMxXCIsIFwiYzJcIik7XG5cblx0Ly8gUG9seWZpbGwgZm9yIElFIDEwLzExIGFuZCBGaXJlZm94IDwyNiwgd2hlcmUgY2xhc3NMaXN0LmFkZCBhbmRcblx0Ly8gY2xhc3NMaXN0LnJlbW92ZSBleGlzdCBidXQgc3VwcG9ydCBvbmx5IG9uZSBhcmd1bWVudCBhdCBhIHRpbWUuXG5cdGlmICghdGVzdEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYzJcIikpIHtcblx0XHR2YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24obWV0aG9kKSB7XG5cdFx0XHR2YXIgb3JpZ2luYWwgPSBET01Ub2tlbkxpc3QucHJvdG90eXBlW21ldGhvZF07XG5cblx0XHRcdERPTVRva2VuTGlzdC5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHRva2VuKSB7XG5cdFx0XHRcdHZhciBpLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuXG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0XHRcdHRva2VuID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0XHRcdG9yaWdpbmFsLmNhbGwodGhpcywgdG9rZW4pO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH07XG5cdFx0Y3JlYXRlTWV0aG9kKCdhZGQnKTtcblx0XHRjcmVhdGVNZXRob2QoJ3JlbW92ZScpO1xuXHR9XG5cblx0dGVzdEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShcImMzXCIsIGZhbHNlKTtcblxuXHQvLyBQb2x5ZmlsbCBmb3IgSUUgMTAgYW5kIEZpcmVmb3ggPDI0LCB3aGVyZSBjbGFzc0xpc3QudG9nZ2xlIGRvZXMgbm90XG5cdC8vIHN1cHBvcnQgdGhlIHNlY29uZCBhcmd1bWVudC5cblx0aWYgKHRlc3RFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImMzXCIpKSB7XG5cdFx0dmFyIF90b2dnbGUgPSBET01Ub2tlbkxpc3QucHJvdG90eXBlLnRvZ2dsZTtcblxuXHRcdERPTVRva2VuTGlzdC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24odG9rZW4sIGZvcmNlKSB7XG5cdFx0XHRpZiAoMSBpbiBhcmd1bWVudHMgJiYgIXRoaXMuY29udGFpbnModG9rZW4pID09PSAhZm9yY2UpIHtcblx0XHRcdFx0cmV0dXJuIGZvcmNlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIF90b2dnbGUuY2FsbCh0aGlzLCB0b2tlbik7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHR9XG5cblx0dGVzdEVsZW1lbnQgPSBudWxsO1xufSgpKTtcblxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBXM0MgU09GVFdBUkUgQU5EIERPQ1VNRU5UIE5PVElDRSBBTkQgTElDRU5TRS5cbiAqXG4gKiAgaHR0cHM6Ly93d3cudzMub3JnL0NvbnNvcnRpdW0vTGVnYWwvMjAxNS9jb3B5cmlnaHQtc29mdHdhcmUtYW5kLWRvY3VtZW50XG4gKlxuICovXG5cbihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50KSB7XG4ndXNlIHN0cmljdCc7XG5cblxuLy8gRXhpdHMgZWFybHkgaWYgYWxsIEludGVyc2VjdGlvbk9ic2VydmVyIGFuZCBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5XG4vLyBmZWF0dXJlcyBhcmUgbmF0aXZlbHkgc3VwcG9ydGVkLlxuaWYgKCdJbnRlcnNlY3Rpb25PYnNlcnZlcicgaW4gd2luZG93ICYmXG4gICAgJ0ludGVyc2VjdGlvbk9ic2VydmVyRW50cnknIGluIHdpbmRvdyAmJlxuICAgICdpbnRlcnNlY3Rpb25SYXRpbycgaW4gd2luZG93LkludGVyc2VjdGlvbk9ic2VydmVyRW50cnkucHJvdG90eXBlKSB7XG5cbiAgLy8gTWluaW1hbCBwb2x5ZmlsbCBmb3IgRWRnZSAxNSdzIGxhY2sgb2YgYGlzSW50ZXJzZWN0aW5nYFxuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS93M2MvSW50ZXJzZWN0aW9uT2JzZXJ2ZXIvaXNzdWVzLzIxMVxuICBpZiAoISgnaXNJbnRlcnNlY3RpbmcnIGluIHdpbmRvdy5JbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5LnByb3RvdHlwZSkpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LkludGVyc2VjdGlvbk9ic2VydmVyRW50cnkucHJvdG90eXBlLFxuICAgICAgJ2lzSW50ZXJzZWN0aW5nJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVyc2VjdGlvblJhdGlvID4gMDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm47XG59XG5cblxuLyoqXG4gKiBBbiBJbnRlcnNlY3Rpb25PYnNlcnZlciByZWdpc3RyeS4gVGhpcyByZWdpc3RyeSBleGlzdHMgdG8gaG9sZCBhIHN0cm9uZ1xuICogcmVmZXJlbmNlIHRvIEludGVyc2VjdGlvbk9ic2VydmVyIGluc3RhbmNlcyBjdXJyZW50bHkgb2JzZXJ2aW5nIGEgdGFyZ2V0XG4gKiBlbGVtZW50LiBXaXRob3V0IHRoaXMgcmVnaXN0cnksIGluc3RhbmNlcyB3aXRob3V0IGFub3RoZXIgcmVmZXJlbmNlIG1heSBiZVxuICogZ2FyYmFnZSBjb2xsZWN0ZWQuXG4gKi9cbnZhciByZWdpc3RyeSA9IFtdO1xuXG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgZ2xvYmFsIEludGVyc2VjdGlvbk9ic2VydmVyRW50cnkgY29uc3RydWN0b3IuXG4gKiBodHRwczovL3czYy5naXRodWIuaW8vSW50ZXJzZWN0aW9uT2JzZXJ2ZXIvI2ludGVyc2VjdGlvbi1vYnNlcnZlci1lbnRyeVxuICogQHBhcmFtIHtPYmplY3R9IGVudHJ5IEEgZGljdGlvbmFyeSBvZiBpbnN0YW5jZSBwcm9wZXJ0aWVzLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEludGVyc2VjdGlvbk9ic2VydmVyRW50cnkoZW50cnkpIHtcbiAgdGhpcy50aW1lID0gZW50cnkudGltZTtcbiAgdGhpcy50YXJnZXQgPSBlbnRyeS50YXJnZXQ7XG4gIHRoaXMucm9vdEJvdW5kcyA9IGVudHJ5LnJvb3RCb3VuZHM7XG4gIHRoaXMuYm91bmRpbmdDbGllbnRSZWN0ID0gZW50cnkuYm91bmRpbmdDbGllbnRSZWN0O1xuICB0aGlzLmludGVyc2VjdGlvblJlY3QgPSBlbnRyeS5pbnRlcnNlY3Rpb25SZWN0IHx8IGdldEVtcHR5UmVjdCgpO1xuICB0aGlzLmlzSW50ZXJzZWN0aW5nID0gISFlbnRyeS5pbnRlcnNlY3Rpb25SZWN0O1xuXG4gIC8vIENhbGN1bGF0ZXMgdGhlIGludGVyc2VjdGlvbiByYXRpby5cbiAgdmFyIHRhcmdldFJlY3QgPSB0aGlzLmJvdW5kaW5nQ2xpZW50UmVjdDtcbiAgdmFyIHRhcmdldEFyZWEgPSB0YXJnZXRSZWN0LndpZHRoICogdGFyZ2V0UmVjdC5oZWlnaHQ7XG4gIHZhciBpbnRlcnNlY3Rpb25SZWN0ID0gdGhpcy5pbnRlcnNlY3Rpb25SZWN0O1xuICB2YXIgaW50ZXJzZWN0aW9uQXJlYSA9IGludGVyc2VjdGlvblJlY3Qud2lkdGggKiBpbnRlcnNlY3Rpb25SZWN0LmhlaWdodDtcblxuICAvLyBTZXRzIGludGVyc2VjdGlvbiByYXRpby5cbiAgaWYgKHRhcmdldEFyZWEpIHtcbiAgICAvLyBSb3VuZCB0aGUgaW50ZXJzZWN0aW9uIHJhdGlvIHRvIGF2b2lkIGZsb2F0aW5nIHBvaW50IG1hdGggaXNzdWVzOlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93M2MvSW50ZXJzZWN0aW9uT2JzZXJ2ZXIvaXNzdWVzLzMyNFxuICAgIHRoaXMuaW50ZXJzZWN0aW9uUmF0aW8gPSBOdW1iZXIoKGludGVyc2VjdGlvbkFyZWEgLyB0YXJnZXRBcmVhKS50b0ZpeGVkKDQpKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBJZiBhcmVhIGlzIHplcm8gYW5kIGlzIGludGVyc2VjdGluZywgc2V0cyB0byAxLCBvdGhlcndpc2UgdG8gMFxuICAgIHRoaXMuaW50ZXJzZWN0aW9uUmF0aW8gPSB0aGlzLmlzSW50ZXJzZWN0aW5nID8gMSA6IDA7XG4gIH1cbn1cblxuXG4vKipcbiAqIENyZWF0ZXMgdGhlIGdsb2JhbCBJbnRlcnNlY3Rpb25PYnNlcnZlciBjb25zdHJ1Y3Rvci5cbiAqIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9JbnRlcnNlY3Rpb25PYnNlcnZlci8jaW50ZXJzZWN0aW9uLW9ic2VydmVyLWludGVyZmFjZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgYWZ0ZXIgaW50ZXJzZWN0aW9uXG4gKiAgICAgY2hhbmdlcyBoYXZlIHF1ZXVlZC4gVGhlIGZ1bmN0aW9uIGlzIG5vdCBpbnZva2VkIGlmIHRoZSBxdWV1ZSBoYXNcbiAqICAgICBiZWVuIGVtcHRpZWQgYnkgY2FsbGluZyB0aGUgYHRha2VSZWNvcmRzYCBtZXRob2QuXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdF9vcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBJbnRlcnNlY3Rpb25PYnNlcnZlcihjYWxsYmFjaywgb3B0X29wdGlvbnMpIHtcblxuICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5yb290ICYmIG9wdGlvbnMucm9vdC5ub2RlVHlwZSAhPSAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdyb290IG11c3QgYmUgYW4gRWxlbWVudCcpO1xuICB9XG5cbiAgLy8gQmluZHMgYW5kIHRocm90dGxlcyBgdGhpcy5fY2hlY2tGb3JJbnRlcnNlY3Rpb25zYC5cbiAgdGhpcy5fY2hlY2tGb3JJbnRlcnNlY3Rpb25zID0gdGhyb3R0bGUoXG4gICAgICB0aGlzLl9jaGVja0ZvckludGVyc2VjdGlvbnMuYmluZCh0aGlzKSwgdGhpcy5USFJPVFRMRV9USU1FT1VUKTtcblxuICAvLyBQcml2YXRlIHByb3BlcnRpZXMuXG4gIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG4gIHRoaXMuX29ic2VydmF0aW9uVGFyZ2V0cyA9IFtdO1xuICB0aGlzLl9xdWV1ZWRFbnRyaWVzID0gW107XG4gIHRoaXMuX3Jvb3RNYXJnaW5WYWx1ZXMgPSB0aGlzLl9wYXJzZVJvb3RNYXJnaW4ob3B0aW9ucy5yb290TWFyZ2luKTtcblxuICAvLyBQdWJsaWMgcHJvcGVydGllcy5cbiAgdGhpcy50aHJlc2hvbGRzID0gdGhpcy5faW5pdFRocmVzaG9sZHMob3B0aW9ucy50aHJlc2hvbGQpO1xuICB0aGlzLnJvb3QgPSBvcHRpb25zLnJvb3QgfHwgbnVsbDtcbiAgdGhpcy5yb290TWFyZ2luID0gdGhpcy5fcm9vdE1hcmdpblZhbHVlcy5tYXAoZnVuY3Rpb24obWFyZ2luKSB7XG4gICAgcmV0dXJuIG1hcmdpbi52YWx1ZSArIG1hcmdpbi51bml0O1xuICB9KS5qb2luKCcgJyk7XG59XG5cblxuLyoqXG4gKiBUaGUgbWluaW11bSBpbnRlcnZhbCB3aXRoaW4gd2hpY2ggdGhlIGRvY3VtZW50IHdpbGwgYmUgY2hlY2tlZCBmb3JcbiAqIGludGVyc2VjdGlvbiBjaGFuZ2VzLlxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuVEhST1RUTEVfVElNRU9VVCA9IDEwMDtcblxuXG4vKipcbiAqIFRoZSBmcmVxdWVuY3kgaW4gd2hpY2ggdGhlIHBvbHlmaWxsIHBvbGxzIGZvciBpbnRlcnNlY3Rpb24gY2hhbmdlcy5cbiAqIHRoaXMgY2FuIGJlIHVwZGF0ZWQgb24gYSBwZXIgaW5zdGFuY2UgYmFzaXMgYW5kIG11c3QgYmUgc2V0IHByaW9yIHRvXG4gKiBjYWxsaW5nIGBvYnNlcnZlYCBvbiB0aGUgZmlyc3QgdGFyZ2V0LlxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuUE9MTF9JTlRFUlZBTCA9IG51bGw7XG5cbi8qKlxuICogVXNlIGEgbXV0YXRpb24gb2JzZXJ2ZXIgb24gdGhlIHJvb3QgZWxlbWVudFxuICogdG8gZGV0ZWN0IGludGVyc2VjdGlvbiBjaGFuZ2VzLlxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuVVNFX01VVEFUSU9OX09CU0VSVkVSID0gdHJ1ZTtcblxuXG4vKipcbiAqIFN0YXJ0cyBvYnNlcnZpbmcgYSB0YXJnZXQgZWxlbWVudCBmb3IgaW50ZXJzZWN0aW9uIGNoYW5nZXMgYmFzZWQgb25cbiAqIHRoZSB0aHJlc2hvbGRzIHZhbHVlcy5cbiAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IFRoZSBET00gZWxlbWVudCB0byBvYnNlcnZlLlxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICB2YXIgaXNUYXJnZXRBbHJlYWR5T2JzZXJ2ZWQgPSB0aGlzLl9vYnNlcnZhdGlvblRhcmdldHMuc29tZShmdW5jdGlvbihpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0uZWxlbWVudCA9PSB0YXJnZXQ7XG4gIH0pO1xuXG4gIGlmIChpc1RhcmdldEFscmVhZHlPYnNlcnZlZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3RhcmdldCBtdXN0IGJlIGFuIEVsZW1lbnQnKTtcbiAgfVxuXG4gIHRoaXMuX3JlZ2lzdGVySW5zdGFuY2UoKTtcbiAgdGhpcy5fb2JzZXJ2YXRpb25UYXJnZXRzLnB1c2goe2VsZW1lbnQ6IHRhcmdldCwgZW50cnk6IG51bGx9KTtcbiAgdGhpcy5fbW9uaXRvckludGVyc2VjdGlvbnMoKTtcbiAgdGhpcy5fY2hlY2tGb3JJbnRlcnNlY3Rpb25zKCk7XG59O1xuXG5cbi8qKlxuICogU3RvcHMgb2JzZXJ2aW5nIGEgdGFyZ2V0IGVsZW1lbnQgZm9yIGludGVyc2VjdGlvbiBjaGFuZ2VzLlxuICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgVGhlIERPTSBlbGVtZW50IHRvIG9ic2VydmUuXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS51bm9ic2VydmUgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgdGhpcy5fb2JzZXJ2YXRpb25UYXJnZXRzID1cbiAgICAgIHRoaXMuX29ic2VydmF0aW9uVGFyZ2V0cy5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuXG4gICAgcmV0dXJuIGl0ZW0uZWxlbWVudCAhPSB0YXJnZXQ7XG4gIH0pO1xuICBpZiAoIXRoaXMuX29ic2VydmF0aW9uVGFyZ2V0cy5sZW5ndGgpIHtcbiAgICB0aGlzLl91bm1vbml0b3JJbnRlcnNlY3Rpb25zKCk7XG4gICAgdGhpcy5fdW5yZWdpc3Rlckluc3RhbmNlKCk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBTdG9wcyBvYnNlcnZpbmcgYWxsIHRhcmdldCBlbGVtZW50cyBmb3IgaW50ZXJzZWN0aW9uIGNoYW5nZXMuXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX29ic2VydmF0aW9uVGFyZ2V0cyA9IFtdO1xuICB0aGlzLl91bm1vbml0b3JJbnRlcnNlY3Rpb25zKCk7XG4gIHRoaXMuX3VucmVnaXN0ZXJJbnN0YW5jZSgpO1xufTtcblxuXG4vKipcbiAqIFJldHVybnMgYW55IHF1ZXVlIGVudHJpZXMgdGhhdCBoYXZlIG5vdCB5ZXQgYmVlbiByZXBvcnRlZCB0byB0aGVcbiAqIGNhbGxiYWNrIGFuZCBjbGVhcnMgdGhlIHF1ZXVlLiBUaGlzIGNhbiBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggdGhlXG4gKiBjYWxsYmFjayB0byBvYnRhaW4gdGhlIGFic29sdXRlIG1vc3QgdXAtdG8tZGF0ZSBpbnRlcnNlY3Rpb24gaW5mb3JtYXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheX0gVGhlIGN1cnJlbnRseSBxdWV1ZWQgZW50cmllcy5cbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLnRha2VSZWNvcmRzID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZWNvcmRzID0gdGhpcy5fcXVldWVkRW50cmllcy5zbGljZSgpO1xuICB0aGlzLl9xdWV1ZWRFbnRyaWVzID0gW107XG4gIHJldHVybiByZWNvcmRzO1xufTtcblxuXG4vKipcbiAqIEFjY2VwdHMgdGhlIHRocmVzaG9sZCB2YWx1ZSBmcm9tIHRoZSB1c2VyIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGFuZFxuICogcmV0dXJucyBhIHNvcnRlZCBhcnJheSBvZiB1bmlxdWUgdGhyZXNob2xkIHZhbHVlcy4gSWYgYSB2YWx1ZSBpcyBub3RcbiAqIGJldHdlZW4gMCBhbmQgMSBhbmQgZXJyb3IgaXMgdGhyb3duLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl8bnVtYmVyPX0gb3B0X3RocmVzaG9sZCBBbiBvcHRpb25hbCB0aHJlc2hvbGQgdmFsdWUgb3JcbiAqICAgICBhIGxpc3Qgb2YgdGhyZXNob2xkIHZhbHVlcywgZGVmYXVsdGluZyB0byBbMF0uXG4gKiBAcmV0dXJuIHtBcnJheX0gQSBzb3J0ZWQgbGlzdCBvZiB1bmlxdWUgYW5kIHZhbGlkIHRocmVzaG9sZCB2YWx1ZXMuXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5faW5pdFRocmVzaG9sZHMgPSBmdW5jdGlvbihvcHRfdGhyZXNob2xkKSB7XG4gIHZhciB0aHJlc2hvbGQgPSBvcHRfdGhyZXNob2xkIHx8IFswXTtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHRocmVzaG9sZCkpIHRocmVzaG9sZCA9IFt0aHJlc2hvbGRdO1xuXG4gIHJldHVybiB0aHJlc2hvbGQuc29ydCgpLmZpbHRlcihmdW5jdGlvbih0LCBpLCBhKSB7XG4gICAgaWYgKHR5cGVvZiB0ICE9ICdudW1iZXInIHx8IGlzTmFOKHQpIHx8IHQgPCAwIHx8IHQgPiAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3RocmVzaG9sZCBtdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMSBpbmNsdXNpdmVseScpO1xuICAgIH1cbiAgICByZXR1cm4gdCAhPT0gYVtpIC0gMV07XG4gIH0pO1xufTtcblxuXG4vKipcbiAqIEFjY2VwdHMgdGhlIHJvb3RNYXJnaW4gdmFsdWUgZnJvbSB0aGUgdXNlciBjb25maWd1cmF0aW9uIG9iamVjdFxuICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlIGZvdXIgbWFyZ2luIHZhbHVlcyBhcyBhbiBvYmplY3QgY29udGFpbmluZ1xuICogdGhlIHZhbHVlIGFuZCB1bml0IHByb3BlcnRpZXMuIElmIGFueSBvZiB0aGUgdmFsdWVzIGFyZSBub3QgcHJvcGVybHlcbiAqIGZvcm1hdHRlZCBvciB1c2UgYSB1bml0IG90aGVyIHRoYW4gcHggb3IgJSwgYW5kIGVycm9yIGlzIHRocm93bi5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZz19IG9wdF9yb290TWFyZ2luIEFuIG9wdGlvbmFsIHJvb3RNYXJnaW4gdmFsdWUsXG4gKiAgICAgZGVmYXVsdGluZyB0byAnMHB4Jy5cbiAqIEByZXR1cm4ge0FycmF5PE9iamVjdD59IEFuIGFycmF5IG9mIG1hcmdpbiBvYmplY3RzIHdpdGggdGhlIGtleXNcbiAqICAgICB2YWx1ZSBhbmQgdW5pdC5cbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9wYXJzZVJvb3RNYXJnaW4gPSBmdW5jdGlvbihvcHRfcm9vdE1hcmdpbikge1xuICB2YXIgbWFyZ2luU3RyaW5nID0gb3B0X3Jvb3RNYXJnaW4gfHwgJzBweCc7XG4gIHZhciBtYXJnaW5zID0gbWFyZ2luU3RyaW5nLnNwbGl0KC9cXHMrLykubWFwKGZ1bmN0aW9uKG1hcmdpbikge1xuICAgIHZhciBwYXJ0cyA9IC9eKC0/XFxkKlxcLj9cXGQrKShweHwlKSQvLmV4ZWMobWFyZ2luKTtcbiAgICBpZiAoIXBhcnRzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Jvb3RNYXJnaW4gbXVzdCBiZSBzcGVjaWZpZWQgaW4gcGl4ZWxzIG9yIHBlcmNlbnQnKTtcbiAgICB9XG4gICAgcmV0dXJuIHt2YWx1ZTogcGFyc2VGbG9hdChwYXJ0c1sxXSksIHVuaXQ6IHBhcnRzWzJdfTtcbiAgfSk7XG5cbiAgLy8gSGFuZGxlcyBzaG9ydGhhbmQuXG4gIG1hcmdpbnNbMV0gPSBtYXJnaW5zWzFdIHx8IG1hcmdpbnNbMF07XG4gIG1hcmdpbnNbMl0gPSBtYXJnaW5zWzJdIHx8IG1hcmdpbnNbMF07XG4gIG1hcmdpbnNbM10gPSBtYXJnaW5zWzNdIHx8IG1hcmdpbnNbMV07XG5cbiAgcmV0dXJuIG1hcmdpbnM7XG59O1xuXG5cbi8qKlxuICogU3RhcnRzIHBvbGxpbmcgZm9yIGludGVyc2VjdGlvbiBjaGFuZ2VzIGlmIHRoZSBwb2xsaW5nIGlzIG5vdCBhbHJlYWR5XG4gKiBoYXBwZW5pbmcsIGFuZCBpZiB0aGUgcGFnZSdzIHZpc2liaWxpdHkgc3RhdGUgaXMgdmlzaWJsZS5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5fbW9uaXRvckludGVyc2VjdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLl9tb25pdG9yaW5nSW50ZXJzZWN0aW9ucykge1xuICAgIHRoaXMuX21vbml0b3JpbmdJbnRlcnNlY3Rpb25zID0gdHJ1ZTtcblxuICAgIC8vIElmIGEgcG9sbCBpbnRlcnZhbCBpcyBzZXQsIHVzZSBwb2xsaW5nIGluc3RlYWQgb2YgbGlzdGVuaW5nIHRvXG4gICAgLy8gcmVzaXplIGFuZCBzY3JvbGwgZXZlbnRzIG9yIERPTSBtdXRhdGlvbnMuXG4gICAgaWYgKHRoaXMuUE9MTF9JTlRFUlZBTCkge1xuICAgICAgdGhpcy5fbW9uaXRvcmluZ0ludGVydmFsID0gc2V0SW50ZXJ2YWwoXG4gICAgICAgICAgdGhpcy5fY2hlY2tGb3JJbnRlcnNlY3Rpb25zLCB0aGlzLlBPTExfSU5URVJWQUwpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGFkZEV2ZW50KHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuX2NoZWNrRm9ySW50ZXJzZWN0aW9ucywgdHJ1ZSk7XG4gICAgICBhZGRFdmVudChkb2N1bWVudCwgJ3Njcm9sbCcsIHRoaXMuX2NoZWNrRm9ySW50ZXJzZWN0aW9ucywgdHJ1ZSk7XG5cbiAgICAgIGlmICh0aGlzLlVTRV9NVVRBVElPTl9PQlNFUlZFUiAmJiAnTXV0YXRpb25PYnNlcnZlcicgaW4gd2luZG93KSB7XG4gICAgICAgIHRoaXMuX2RvbU9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5fY2hlY2tGb3JJbnRlcnNlY3Rpb25zKTtcbiAgICAgICAgdGhpcy5fZG9tT2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwge1xuICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gICAgICAgICAgc3VidHJlZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cblxuLyoqXG4gKiBTdG9wcyBwb2xsaW5nIGZvciBpbnRlcnNlY3Rpb24gY2hhbmdlcy5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5fdW5tb25pdG9ySW50ZXJzZWN0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5fbW9uaXRvcmluZ0ludGVyc2VjdGlvbnMpIHtcbiAgICB0aGlzLl9tb25pdG9yaW5nSW50ZXJzZWN0aW9ucyA9IGZhbHNlO1xuXG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9tb25pdG9yaW5nSW50ZXJ2YWwpO1xuICAgIHRoaXMuX21vbml0b3JpbmdJbnRlcnZhbCA9IG51bGw7XG5cbiAgICByZW1vdmVFdmVudCh3aW5kb3csICdyZXNpemUnLCB0aGlzLl9jaGVja0ZvckludGVyc2VjdGlvbnMsIHRydWUpO1xuICAgIHJlbW92ZUV2ZW50KGRvY3VtZW50LCAnc2Nyb2xsJywgdGhpcy5fY2hlY2tGb3JJbnRlcnNlY3Rpb25zLCB0cnVlKTtcblxuICAgIGlmICh0aGlzLl9kb21PYnNlcnZlcikge1xuICAgICAgdGhpcy5fZG9tT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgdGhpcy5fZG9tT2JzZXJ2ZXIgPSBudWxsO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKipcbiAqIFNjYW5zIGVhY2ggb2JzZXJ2YXRpb24gdGFyZ2V0IGZvciBpbnRlcnNlY3Rpb24gY2hhbmdlcyBhbmQgYWRkcyB0aGVtXG4gKiB0byB0aGUgaW50ZXJuYWwgZW50cmllcyBxdWV1ZS4gSWYgbmV3IGVudHJpZXMgYXJlIGZvdW5kLCBpdFxuICogc2NoZWR1bGVzIHRoZSBjYWxsYmFjayB0byBiZSBpbnZva2VkLlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9jaGVja0ZvckludGVyc2VjdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJvb3RJc0luRG9tID0gdGhpcy5fcm9vdElzSW5Eb20oKTtcbiAgdmFyIHJvb3RSZWN0ID0gcm9vdElzSW5Eb20gPyB0aGlzLl9nZXRSb290UmVjdCgpIDogZ2V0RW1wdHlSZWN0KCk7XG5cbiAgdGhpcy5fb2JzZXJ2YXRpb25UYXJnZXRzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgIHZhciB0YXJnZXQgPSBpdGVtLmVsZW1lbnQ7XG4gICAgdmFyIHRhcmdldFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QodGFyZ2V0KTtcbiAgICB2YXIgcm9vdENvbnRhaW5zVGFyZ2V0ID0gdGhpcy5fcm9vdENvbnRhaW5zVGFyZ2V0KHRhcmdldCk7XG4gICAgdmFyIG9sZEVudHJ5ID0gaXRlbS5lbnRyeTtcbiAgICB2YXIgaW50ZXJzZWN0aW9uUmVjdCA9IHJvb3RJc0luRG9tICYmIHJvb3RDb250YWluc1RhcmdldCAmJlxuICAgICAgICB0aGlzLl9jb21wdXRlVGFyZ2V0QW5kUm9vdEludGVyc2VjdGlvbih0YXJnZXQsIHJvb3RSZWN0KTtcblxuICAgIHZhciBuZXdFbnRyeSA9IGl0ZW0uZW50cnkgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSh7XG4gICAgICB0aW1lOiBub3coKSxcbiAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgYm91bmRpbmdDbGllbnRSZWN0OiB0YXJnZXRSZWN0LFxuICAgICAgcm9vdEJvdW5kczogcm9vdFJlY3QsXG4gICAgICBpbnRlcnNlY3Rpb25SZWN0OiBpbnRlcnNlY3Rpb25SZWN0XG4gICAgfSk7XG5cbiAgICBpZiAoIW9sZEVudHJ5KSB7XG4gICAgICB0aGlzLl9xdWV1ZWRFbnRyaWVzLnB1c2gobmV3RW50cnkpO1xuICAgIH0gZWxzZSBpZiAocm9vdElzSW5Eb20gJiYgcm9vdENvbnRhaW5zVGFyZ2V0KSB7XG4gICAgICAvLyBJZiB0aGUgbmV3IGVudHJ5IGludGVyc2VjdGlvbiByYXRpbyBoYXMgY3Jvc3NlZCBhbnkgb2YgdGhlXG4gICAgICAvLyB0aHJlc2hvbGRzLCBhZGQgYSBuZXcgZW50cnkuXG4gICAgICBpZiAodGhpcy5faGFzQ3Jvc3NlZFRocmVzaG9sZChvbGRFbnRyeSwgbmV3RW50cnkpKSB7XG4gICAgICAgIHRoaXMuX3F1ZXVlZEVudHJpZXMucHVzaChuZXdFbnRyeSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHRoZSByb290IGlzIG5vdCBpbiB0aGUgRE9NIG9yIHRhcmdldCBpcyBub3QgY29udGFpbmVkIHdpdGhpblxuICAgICAgLy8gcm9vdCBidXQgdGhlIHByZXZpb3VzIGVudHJ5IGZvciB0aGlzIHRhcmdldCBoYWQgYW4gaW50ZXJzZWN0aW9uLFxuICAgICAgLy8gYWRkIGEgbmV3IHJlY29yZCBpbmRpY2F0aW5nIHJlbW92YWwuXG4gICAgICBpZiAob2xkRW50cnkgJiYgb2xkRW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgdGhpcy5fcXVldWVkRW50cmllcy5wdXNoKG5ld0VudHJ5KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHRoaXMpO1xuXG4gIGlmICh0aGlzLl9xdWV1ZWRFbnRyaWVzLmxlbmd0aCkge1xuICAgIHRoaXMuX2NhbGxiYWNrKHRoaXMudGFrZVJlY29yZHMoKSwgdGhpcyk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBBY2NlcHRzIGEgdGFyZ2V0IGFuZCByb290IHJlY3QgY29tcHV0ZXMgdGhlIGludGVyc2VjdGlvbiBiZXR3ZWVuIHRoZW5cbiAqIGZvbGxvd2luZyB0aGUgYWxnb3JpdGhtIGluIHRoZSBzcGVjLlxuICogVE9ETyhwaGlsaXB3YWx0b24pOiBhdCB0aGlzIHRpbWUgY2xpcC1wYXRoIGlzIG5vdCBjb25zaWRlcmVkLlxuICogaHR0cHM6Ly93M2MuZ2l0aHViLmlvL0ludGVyc2VjdGlvbk9ic2VydmVyLyNjYWxjdWxhdGUtaW50ZXJzZWN0aW9uLXJlY3QtYWxnb1xuICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgVGhlIHRhcmdldCBET00gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IHJvb3RSZWN0IFRoZSBib3VuZGluZyByZWN0IG9mIHRoZSByb290IGFmdGVyIGJlaW5nXG4gKiAgICAgZXhwYW5kZWQgYnkgdGhlIHJvb3RNYXJnaW4gdmFsdWUuXG4gKiBAcmV0dXJuIHs/T2JqZWN0fSBUaGUgZmluYWwgaW50ZXJzZWN0aW9uIHJlY3Qgb2JqZWN0IG9yIHVuZGVmaW5lZCBpZiBub1xuICogICAgIGludGVyc2VjdGlvbiBpcyBmb3VuZC5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5fY29tcHV0ZVRhcmdldEFuZFJvb3RJbnRlcnNlY3Rpb24gPVxuICAgIGZ1bmN0aW9uKHRhcmdldCwgcm9vdFJlY3QpIHtcblxuICAvLyBJZiB0aGUgZWxlbWVudCBpc24ndCBkaXNwbGF5ZWQsIGFuIGludGVyc2VjdGlvbiBjYW4ndCBoYXBwZW4uXG4gIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLmRpc3BsYXkgPT0gJ25vbmUnKSByZXR1cm47XG5cbiAgdmFyIHRhcmdldFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QodGFyZ2V0KTtcbiAgdmFyIGludGVyc2VjdGlvblJlY3QgPSB0YXJnZXRSZWN0O1xuICB2YXIgcGFyZW50ID0gZ2V0UGFyZW50Tm9kZSh0YXJnZXQpO1xuICB2YXIgYXRSb290ID0gZmFsc2U7XG5cbiAgd2hpbGUgKCFhdFJvb3QpIHtcbiAgICB2YXIgcGFyZW50UmVjdCA9IG51bGw7XG4gICAgdmFyIHBhcmVudENvbXB1dGVkU3R5bGUgPSBwYXJlbnQubm9kZVR5cGUgPT0gMSA/XG4gICAgICAgIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHBhcmVudCkgOiB7fTtcblxuICAgIC8vIElmIHRoZSBwYXJlbnQgaXNuJ3QgZGlzcGxheWVkLCBhbiBpbnRlcnNlY3Rpb24gY2FuJ3QgaGFwcGVuLlxuICAgIGlmIChwYXJlbnRDb21wdXRlZFN0eWxlLmRpc3BsYXkgPT0gJ25vbmUnKSByZXR1cm47XG5cbiAgICBpZiAocGFyZW50ID09IHRoaXMucm9vdCB8fCBwYXJlbnQgPT0gZG9jdW1lbnQpIHtcbiAgICAgIGF0Um9vdCA9IHRydWU7XG4gICAgICBwYXJlbnRSZWN0ID0gcm9vdFJlY3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHRoZSBlbGVtZW50IGhhcyBhIG5vbi12aXNpYmxlIG92ZXJmbG93LCBhbmQgaXQncyBub3QgdGhlIDxib2R5PlxuICAgICAgLy8gb3IgPGh0bWw+IGVsZW1lbnQsIHVwZGF0ZSB0aGUgaW50ZXJzZWN0aW9uIHJlY3QuXG4gICAgICAvLyBOb3RlOiA8Ym9keT4gYW5kIDxodG1sPiBjYW5ub3QgYmUgY2xpcHBlZCB0byBhIHJlY3QgdGhhdCdzIG5vdCBhbHNvXG4gICAgICAvLyB0aGUgZG9jdW1lbnQgcmVjdCwgc28gbm8gbmVlZCB0byBjb21wdXRlIGEgbmV3IGludGVyc2VjdGlvbi5cbiAgICAgIGlmIChwYXJlbnQgIT0gZG9jdW1lbnQuYm9keSAmJlxuICAgICAgICAgIHBhcmVudCAhPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiZcbiAgICAgICAgICBwYXJlbnRDb21wdXRlZFN0eWxlLm92ZXJmbG93ICE9ICd2aXNpYmxlJykge1xuICAgICAgICBwYXJlbnRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHBhcmVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgZWl0aGVyIG9mIHRoZSBhYm92ZSBjb25kaXRpb25hbHMgc2V0IGEgbmV3IHBhcmVudFJlY3QsXG4gICAgLy8gY2FsY3VsYXRlIG5ldyBpbnRlcnNlY3Rpb24gZGF0YS5cbiAgICBpZiAocGFyZW50UmVjdCkge1xuICAgICAgaW50ZXJzZWN0aW9uUmVjdCA9IGNvbXB1dGVSZWN0SW50ZXJzZWN0aW9uKHBhcmVudFJlY3QsIGludGVyc2VjdGlvblJlY3QpO1xuXG4gICAgICBpZiAoIWludGVyc2VjdGlvblJlY3QpIGJyZWFrO1xuICAgIH1cbiAgICBwYXJlbnQgPSBnZXRQYXJlbnROb2RlKHBhcmVudCk7XG4gIH1cbiAgcmV0dXJuIGludGVyc2VjdGlvblJlY3Q7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgcm9vdCByZWN0IGFmdGVyIGJlaW5nIGV4cGFuZGVkIGJ5IHRoZSByb290TWFyZ2luIHZhbHVlLlxuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZXhwYW5kZWQgcm9vdCByZWN0LlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9nZXRSb290UmVjdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcm9vdFJlY3Q7XG4gIGlmICh0aGlzLnJvb3QpIHtcbiAgICByb290UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdCh0aGlzLnJvb3QpO1xuICB9IGVsc2Uge1xuICAgIC8vIFVzZSA8aHRtbD4vPGJvZHk+IGluc3RlYWQgb2Ygd2luZG93IHNpbmNlIHNjcm9sbCBiYXJzIGFmZmVjdCBzaXplLlxuICAgIHZhciBodG1sID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICByb290UmVjdCA9IHtcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICByaWdodDogaHRtbC5jbGllbnRXaWR0aCB8fCBib2R5LmNsaWVudFdpZHRoLFxuICAgICAgd2lkdGg6IGh0bWwuY2xpZW50V2lkdGggfHwgYm9keS5jbGllbnRXaWR0aCxcbiAgICAgIGJvdHRvbTogaHRtbC5jbGllbnRIZWlnaHQgfHwgYm9keS5jbGllbnRIZWlnaHQsXG4gICAgICBoZWlnaHQ6IGh0bWwuY2xpZW50SGVpZ2h0IHx8IGJvZHkuY2xpZW50SGVpZ2h0XG4gICAgfTtcbiAgfVxuICByZXR1cm4gdGhpcy5fZXhwYW5kUmVjdEJ5Um9vdE1hcmdpbihyb290UmVjdCk7XG59O1xuXG5cbi8qKlxuICogQWNjZXB0cyBhIHJlY3QgYW5kIGV4cGFuZHMgaXQgYnkgdGhlIHJvb3RNYXJnaW4gdmFsdWUuXG4gKiBAcGFyYW0ge09iamVjdH0gcmVjdCBUaGUgcmVjdCBvYmplY3QgdG8gZXhwYW5kLlxuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZXhwYW5kZWQgcmVjdC5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5fZXhwYW5kUmVjdEJ5Um9vdE1hcmdpbiA9IGZ1bmN0aW9uKHJlY3QpIHtcbiAgdmFyIG1hcmdpbnMgPSB0aGlzLl9yb290TWFyZ2luVmFsdWVzLm1hcChmdW5jdGlvbihtYXJnaW4sIGkpIHtcbiAgICByZXR1cm4gbWFyZ2luLnVuaXQgPT0gJ3B4JyA/IG1hcmdpbi52YWx1ZSA6XG4gICAgICAgIG1hcmdpbi52YWx1ZSAqIChpICUgMiA/IHJlY3Qud2lkdGggOiByZWN0LmhlaWdodCkgLyAxMDA7XG4gIH0pO1xuICB2YXIgbmV3UmVjdCA9IHtcbiAgICB0b3A6IHJlY3QudG9wIC0gbWFyZ2luc1swXSxcbiAgICByaWdodDogcmVjdC5yaWdodCArIG1hcmdpbnNbMV0sXG4gICAgYm90dG9tOiByZWN0LmJvdHRvbSArIG1hcmdpbnNbMl0sXG4gICAgbGVmdDogcmVjdC5sZWZ0IC0gbWFyZ2luc1szXVxuICB9O1xuICBuZXdSZWN0LndpZHRoID0gbmV3UmVjdC5yaWdodCAtIG5ld1JlY3QubGVmdDtcbiAgbmV3UmVjdC5oZWlnaHQgPSBuZXdSZWN0LmJvdHRvbSAtIG5ld1JlY3QudG9wO1xuXG4gIHJldHVybiBuZXdSZWN0O1xufTtcblxuXG4vKipcbiAqIEFjY2VwdHMgYW4gb2xkIGFuZCBuZXcgZW50cnkgYW5kIHJldHVybnMgdHJ1ZSBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlXG4gKiB0aHJlc2hvbGQgdmFsdWVzIGhhcyBiZWVuIGNyb3NzZWQuXG4gKiBAcGFyYW0gez9JbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5fSBvbGRFbnRyeSBUaGUgcHJldmlvdXMgZW50cnkgZm9yIGFcbiAqICAgIHBhcnRpY3VsYXIgdGFyZ2V0IGVsZW1lbnQgb3IgbnVsbCBpZiBubyBwcmV2aW91cyBlbnRyeSBleGlzdHMuXG4gKiBAcGFyYW0ge0ludGVyc2VjdGlvbk9ic2VydmVyRW50cnl9IG5ld0VudHJ5IFRoZSBjdXJyZW50IGVudHJ5IGZvciBhXG4gKiAgICBwYXJ0aWN1bGFyIHRhcmdldCBlbGVtZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIGEgYW55IHRocmVzaG9sZCBoYXMgYmVlbiBjcm9zc2VkLlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9oYXNDcm9zc2VkVGhyZXNob2xkID1cbiAgICBmdW5jdGlvbihvbGRFbnRyeSwgbmV3RW50cnkpIHtcblxuICAvLyBUbyBtYWtlIGNvbXBhcmluZyBlYXNpZXIsIGFuIGVudHJ5IHRoYXQgaGFzIGEgcmF0aW8gb2YgMFxuICAvLyBidXQgZG9lcyBub3QgYWN0dWFsbHkgaW50ZXJzZWN0IGlzIGdpdmVuIGEgdmFsdWUgb2YgLTFcbiAgdmFyIG9sZFJhdGlvID0gb2xkRW50cnkgJiYgb2xkRW50cnkuaXNJbnRlcnNlY3RpbmcgP1xuICAgICAgb2xkRW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gfHwgMCA6IC0xO1xuICB2YXIgbmV3UmF0aW8gPSBuZXdFbnRyeS5pc0ludGVyc2VjdGluZyA/XG4gICAgICBuZXdFbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyB8fCAwIDogLTE7XG5cbiAgLy8gSWdub3JlIHVuY2hhbmdlZCByYXRpb3NcbiAgaWYgKG9sZFJhdGlvID09PSBuZXdSYXRpbykgcmV0dXJuO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50aHJlc2hvbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRocmVzaG9sZCA9IHRoaXMudGhyZXNob2xkc1tpXTtcblxuICAgIC8vIFJldHVybiB0cnVlIGlmIGFuIGVudHJ5IG1hdGNoZXMgYSB0aHJlc2hvbGQgb3IgaWYgdGhlIG5ldyByYXRpb1xuICAgIC8vIGFuZCB0aGUgb2xkIHJhdGlvIGFyZSBvbiB0aGUgb3Bwb3NpdGUgc2lkZXMgb2YgYSB0aHJlc2hvbGQuXG4gICAgaWYgKHRocmVzaG9sZCA9PSBvbGRSYXRpbyB8fCB0aHJlc2hvbGQgPT0gbmV3UmF0aW8gfHxcbiAgICAgICAgdGhyZXNob2xkIDwgb2xkUmF0aW8gIT09IHRocmVzaG9sZCA8IG5ld1JhdGlvKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSByb290IGVsZW1lbnQgaXMgYW4gZWxlbWVudCBhbmQgaXMgaW4gdGhlIERPTS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHJvb3QgZWxlbWVudCBpcyBhbiBlbGVtZW50IGFuZCBpcyBpbiB0aGUgRE9NLlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9yb290SXNJbkRvbSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gIXRoaXMucm9vdCB8fCBjb250YWluc0RlZXAoZG9jdW1lbnQsIHRoaXMucm9vdCk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdGFyZ2V0IGVsZW1lbnQgaXMgYSBjaGlsZCBvZiByb290LlxuICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgVGhlIHRhcmdldCBlbGVtZW50IHRvIGNoZWNrLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdGFyZ2V0IGVsZW1lbnQgaXMgYSBjaGlsZCBvZiByb290LlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9yb290Q29udGFpbnNUYXJnZXQgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgcmV0dXJuIGNvbnRhaW5zRGVlcCh0aGlzLnJvb3QgfHwgZG9jdW1lbnQsIHRhcmdldCk7XG59O1xuXG5cbi8qKlxuICogQWRkcyB0aGUgaW5zdGFuY2UgdG8gdGhlIGdsb2JhbCBJbnRlcnNlY3Rpb25PYnNlcnZlciByZWdpc3RyeSBpZiBpdCBpc24ndFxuICogYWxyZWFkeSBwcmVzZW50LlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9yZWdpc3Rlckluc3RhbmNlID0gZnVuY3Rpb24oKSB7XG4gIGlmIChyZWdpc3RyeS5pbmRleE9mKHRoaXMpIDwgMCkge1xuICAgIHJlZ2lzdHJ5LnB1c2godGhpcyk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBSZW1vdmVzIHRoZSBpbnN0YW5jZSBmcm9tIHRoZSBnbG9iYWwgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgcmVnaXN0cnkuXG4gKiBAcHJpdmF0ZVxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuX3VucmVnaXN0ZXJJbnN0YW5jZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaW5kZXggPSByZWdpc3RyeS5pbmRleE9mKHRoaXMpO1xuICBpZiAoaW5kZXggIT0gLTEpIHJlZ2lzdHJ5LnNwbGljZShpbmRleCwgMSk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBwZXJmb3JtYW5jZS5ub3coKSBtZXRob2Qgb3IgbnVsbCBpbiBicm93c2Vyc1xuICogdGhhdCBkb24ndCBzdXBwb3J0IHRoZSBBUEkuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBlbGFwc2VkIHRpbWUgc2luY2UgdGhlIHBhZ2Ugd2FzIHJlcXVlc3RlZC5cbiAqL1xuZnVuY3Rpb24gbm93KCkge1xuICByZXR1cm4gd2luZG93LnBlcmZvcm1hbmNlICYmIHBlcmZvcm1hbmNlLm5vdyAmJiBwZXJmb3JtYW5jZS5ub3coKTtcbn1cblxuXG4vKipcbiAqIFRocm90dGxlcyBhIGZ1bmN0aW9uIGFuZCBkZWxheXMgaXRzIGV4ZWN1dGlvbiwgc28gaXQncyBvbmx5IGNhbGxlZCBhdCBtb3N0XG4gKiBvbmNlIHdpdGhpbiBhIGdpdmVuIHRpbWUgcGVyaW9kLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICogQHBhcmFtIHtudW1iZXJ9IHRpbWVvdXQgVGhlIGFtb3VudCBvZiB0aW1lIHRoYXQgbXVzdCBwYXNzIGJlZm9yZSB0aGVcbiAqICAgICBmdW5jdGlvbiBjYW4gYmUgY2FsbGVkIGFnYWluLlxuICogQHJldHVybiB7RnVuY3Rpb259IFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIHRocm90dGxlKGZuLCB0aW1lb3V0KSB7XG4gIHZhciB0aW1lciA9IG51bGw7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aW1lcikge1xuICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBmbigpO1xuICAgICAgICB0aW1lciA9IG51bGw7XG4gICAgICB9LCB0aW1lb3V0KTtcbiAgICB9XG4gIH07XG59XG5cblxuLyoqXG4gKiBBZGRzIGFuIGV2ZW50IGhhbmRsZXIgdG8gYSBET00gbm9kZSBlbnN1cmluZyBjcm9zcy1icm93c2VyIGNvbXBhdGliaWxpdHkuXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGhlIERPTSBub2RlIHRvIGFkZCB0aGUgZXZlbnQgaGFuZGxlciB0by5cbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBldmVudCBoYW5kbGVyIHRvIGFkZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0X3VzZUNhcHR1cmUgT3B0aW9uYWxseSBhZGRzIHRoZSBldmVuIHRvIHRoZSBjYXB0dXJlXG4gKiAgICAgcGhhc2UuIE5vdGU6IHRoaXMgb25seSB3b3JrcyBpbiBtb2Rlcm4gYnJvd3NlcnMuXG4gKi9cbmZ1bmN0aW9uIGFkZEV2ZW50KG5vZGUsIGV2ZW50LCBmbiwgb3B0X3VzZUNhcHR1cmUpIHtcbiAgaWYgKHR5cGVvZiBub2RlLmFkZEV2ZW50TGlzdGVuZXIgPT0gJ2Z1bmN0aW9uJykge1xuICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZm4sIG9wdF91c2VDYXB0dXJlIHx8IGZhbHNlKTtcbiAgfVxuICBlbHNlIGlmICh0eXBlb2Ygbm9kZS5hdHRhY2hFdmVudCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgbm9kZS5hdHRhY2hFdmVudCgnb24nICsgZXZlbnQsIGZuKTtcbiAgfVxufVxuXG5cbi8qKlxuICogUmVtb3ZlcyBhIHByZXZpb3VzbHkgYWRkZWQgZXZlbnQgaGFuZGxlciBmcm9tIGEgRE9NIG5vZGUuXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGhlIERPTSBub2RlIHRvIHJlbW92ZSB0aGUgZXZlbnQgaGFuZGxlciBmcm9tLlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGV2ZW50IGhhbmRsZXIgdG8gcmVtb3ZlLlxuICogQHBhcmFtIHtib29sZWFufSBvcHRfdXNlQ2FwdHVyZSBJZiB0aGUgZXZlbnQgaGFuZGxlciB3YXMgYWRkZWQgd2l0aCB0aGlzXG4gKiAgICAgZmxhZyBzZXQgdG8gdHJ1ZSwgaXQgc2hvdWxkIGJlIHNldCB0byB0cnVlIGhlcmUgaW4gb3JkZXIgdG8gcmVtb3ZlIGl0LlxuICovXG5mdW5jdGlvbiByZW1vdmVFdmVudChub2RlLCBldmVudCwgZm4sIG9wdF91c2VDYXB0dXJlKSB7XG4gIGlmICh0eXBlb2Ygbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyID09ICdmdW5jdGlvbicpIHtcbiAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGZuLCBvcHRfdXNlQ2FwdHVyZSB8fCBmYWxzZSk7XG4gIH1cbiAgZWxzZSBpZiAodHlwZW9mIG5vZGUuZGV0YXRjaEV2ZW50ID09ICdmdW5jdGlvbicpIHtcbiAgICBub2RlLmRldGF0Y2hFdmVudCgnb24nICsgZXZlbnQsIGZuKTtcbiAgfVxufVxuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgaW50ZXJzZWN0aW9uIGJldHdlZW4gdHdvIHJlY3Qgb2JqZWN0cy5cbiAqIEBwYXJhbSB7T2JqZWN0fSByZWN0MSBUaGUgZmlyc3QgcmVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSByZWN0MiBUaGUgc2Vjb25kIHJlY3QuXG4gKiBAcmV0dXJuIHs/T2JqZWN0fSBUaGUgaW50ZXJzZWN0aW9uIHJlY3Qgb3IgdW5kZWZpbmVkIGlmIG5vIGludGVyc2VjdGlvblxuICogICAgIGlzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBjb21wdXRlUmVjdEludGVyc2VjdGlvbihyZWN0MSwgcmVjdDIpIHtcbiAgdmFyIHRvcCA9IE1hdGgubWF4KHJlY3QxLnRvcCwgcmVjdDIudG9wKTtcbiAgdmFyIGJvdHRvbSA9IE1hdGgubWluKHJlY3QxLmJvdHRvbSwgcmVjdDIuYm90dG9tKTtcbiAgdmFyIGxlZnQgPSBNYXRoLm1heChyZWN0MS5sZWZ0LCByZWN0Mi5sZWZ0KTtcbiAgdmFyIHJpZ2h0ID0gTWF0aC5taW4ocmVjdDEucmlnaHQsIHJlY3QyLnJpZ2h0KTtcbiAgdmFyIHdpZHRoID0gcmlnaHQgLSBsZWZ0O1xuICB2YXIgaGVpZ2h0ID0gYm90dG9tIC0gdG9wO1xuXG4gIHJldHVybiAod2lkdGggPj0gMCAmJiBoZWlnaHQgPj0gMCkgJiYge1xuICAgIHRvcDogdG9wLFxuICAgIGJvdHRvbTogYm90dG9tLFxuICAgIGxlZnQ6IGxlZnQsXG4gICAgcmlnaHQ6IHJpZ2h0LFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodFxuICB9O1xufVxuXG5cbi8qKlxuICogU2hpbXMgdGhlIG5hdGl2ZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBvbGRlciBJRS5cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWwgVGhlIGVsZW1lbnQgd2hvc2UgYm91bmRpbmcgcmVjdCB0byBnZXQuXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSAocG9zc2libHkgc2hpbW1lZCkgcmVjdCBvZiB0aGUgZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsKSB7XG4gIHZhciByZWN0O1xuXG4gIHRyeSB7XG4gICAgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBJZ25vcmUgV2luZG93cyA3IElFMTEgXCJVbnNwZWNpZmllZCBlcnJvclwiXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3czYy9JbnRlcnNlY3Rpb25PYnNlcnZlci9wdWxsLzIwNVxuICB9XG5cbiAgaWYgKCFyZWN0KSByZXR1cm4gZ2V0RW1wdHlSZWN0KCk7XG5cbiAgLy8gT2xkZXIgSUVcbiAgaWYgKCEocmVjdC53aWR0aCAmJiByZWN0LmhlaWdodCkpIHtcbiAgICByZWN0ID0ge1xuICAgICAgdG9wOiByZWN0LnRvcCxcbiAgICAgIHJpZ2h0OiByZWN0LnJpZ2h0LFxuICAgICAgYm90dG9tOiByZWN0LmJvdHRvbSxcbiAgICAgIGxlZnQ6IHJlY3QubGVmdCxcbiAgICAgIHdpZHRoOiByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0LFxuICAgICAgaGVpZ2h0OiByZWN0LmJvdHRvbSAtIHJlY3QudG9wXG4gICAgfTtcbiAgfVxuICByZXR1cm4gcmVjdDtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgYW4gZW1wdHkgcmVjdCBvYmplY3QuIEFuIGVtcHR5IHJlY3QgaXMgcmV0dXJuZWQgd2hlbiBhbiBlbGVtZW50XG4gKiBpcyBub3QgaW4gdGhlIERPTS5cbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGVtcHR5IHJlY3QuXG4gKi9cbmZ1bmN0aW9uIGdldEVtcHR5UmVjdCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IDAsXG4gICAgYm90dG9tOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgcmlnaHQ6IDAsXG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwXG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIHRvIHNlZSBpZiBhIHBhcmVudCBlbGVtZW50IGNvbnRhaW5zIGEgY2hpbGQgZWxlbWVudCAoaW5jbHVkaW5nIGluc2lkZVxuICogc2hhZG93IERPTSkuXG4gKiBAcGFyYW0ge05vZGV9IHBhcmVudCBUaGUgcGFyZW50IGVsZW1lbnQuXG4gKiBAcGFyYW0ge05vZGV9IGNoaWxkIFRoZSBjaGlsZCBlbGVtZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcGFyZW50IG5vZGUgY29udGFpbnMgdGhlIGNoaWxkIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGNvbnRhaW5zRGVlcChwYXJlbnQsIGNoaWxkKSB7XG4gIHZhciBub2RlID0gY2hpbGQ7XG4gIHdoaWxlIChub2RlKSB7XG4gICAgaWYgKG5vZGUgPT0gcGFyZW50KSByZXR1cm4gdHJ1ZTtcblxuICAgIG5vZGUgPSBnZXRQYXJlbnROb2RlKG5vZGUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuXG4vKipcbiAqIEdldHMgdGhlIHBhcmVudCBub2RlIG9mIGFuIGVsZW1lbnQgb3IgaXRzIGhvc3QgZWxlbWVudCBpZiB0aGUgcGFyZW50IG5vZGVcbiAqIGlzIGEgc2hhZG93IHJvb3QuXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGhlIG5vZGUgd2hvc2UgcGFyZW50IHRvIGdldC5cbiAqIEByZXR1cm4ge05vZGV8bnVsbH0gVGhlIHBhcmVudCBub2RlIG9yIG51bGwgaWYgbm8gcGFyZW50IGV4aXN0cy5cbiAqL1xuZnVuY3Rpb24gZ2V0UGFyZW50Tm9kZShub2RlKSB7XG4gIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG5cbiAgaWYgKHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgPT0gMTEgJiYgcGFyZW50Lmhvc3QpIHtcbiAgICAvLyBJZiB0aGUgcGFyZW50IGlzIGEgc2hhZG93IHJvb3QsIHJldHVybiB0aGUgaG9zdCBlbGVtZW50LlxuICAgIHJldHVybiBwYXJlbnQuaG9zdDtcbiAgfVxuICByZXR1cm4gcGFyZW50O1xufVxuXG5cbi8vIEV4cG9zZXMgdGhlIGNvbnN0cnVjdG9ycyBnbG9iYWxseS5cbndpbmRvdy5JbnRlcnNlY3Rpb25PYnNlcnZlciA9IEludGVyc2VjdGlvbk9ic2VydmVyO1xud2luZG93LkludGVyc2VjdGlvbk9ic2VydmVyRW50cnkgPSBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5O1xuXG59KHdpbmRvdywgZG9jdW1lbnQpKTtcbiIsIi8qIVxyXG4gICogU3RpY2t5ZmlsbCDigJMgYHBvc2l0aW9uOiBzdGlja3lgIHBvbHlmaWxsXHJcbiAgKiB2LiAyLjEuMCB8IGh0dHBzOi8vZ2l0aHViLmNvbS93aWxkZGVlci9zdGlja3lmaWxsXHJcbiAgKiBNSVQgTGljZW5zZVxyXG4gICovXHJcblxyXG47KGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIFxyXG4gICAgLypcclxuICAgICAqIDEuIENoZWNrIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIGBwb3NpdGlvbjogc3RpY2t5YCBuYXRpdmVseSBvciBpcyB0b28gb2xkIHRvIHJ1biB0aGUgcG9seWZpbGwuXHJcbiAgICAgKiAgICBJZiBlaXRoZXIgb2YgdGhlc2UgaXMgdGhlIGNhc2Ugc2V0IGBzZXBwdWt1YCBmbGFnLiBJdCB3aWxsIGJlIGNoZWNrZWQgbGF0ZXIgdG8gZGlzYWJsZSBrZXkgZmVhdHVyZXNcclxuICAgICAqICAgIG9mIHRoZSBwb2x5ZmlsbCwgYnV0IHRoZSBBUEkgd2lsbCByZW1haW4gZnVuY3Rpb25hbCB0byBhdm9pZCBicmVha2luZyB0aGluZ3MuXHJcbiAgICAgKi9cclxuICAgIFxyXG4gICAgdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cclxuICAgIFxyXG4gICAgdmFyIHNlcHB1a3UgPSBmYWxzZTtcclxuICAgIFxyXG4gICAgdmFyIGlzV2luZG93RGVmaW5lZCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xyXG4gICAgXHJcbiAgICAvLyBUaGUgcG9seWZpbGwgY2Fu4oCZdCBmdW5jdGlvbiBwcm9wZXJseSB3aXRob3V0IGB3aW5kb3dgIG9yIGB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZWAuXHJcbiAgICBpZiAoIWlzV2luZG93RGVmaW5lZCB8fCAhd2luZG93LmdldENvbXB1dGVkU3R5bGUpIHNlcHB1a3UgPSB0cnVlO1xyXG4gICAgLy8gRG9udOKAmXQgZ2V0IGluIGEgd2F5IGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIGBwb3NpdGlvbjogc3RpY2t5YCBuYXRpdmVseS5cclxuICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlc3ROb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmIChbJycsICctd2Via2l0LScsICctbW96LScsICctbXMtJ10uc29tZShmdW5jdGlvbiAocHJlZml4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVzdE5vZGUuc3R5bGUucG9zaXRpb24gPSBwcmVmaXggKyAnc3RpY2t5JztcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlc3ROb2RlLnN0eWxlLnBvc2l0aW9uICE9ICcnO1xyXG4gICAgICAgICAgICAgICAgfSkpIHNlcHB1a3UgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KSgpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgLypcclxuICAgICAqIDIuIOKAnEdsb2JhbOKAnSB2YXJzIHVzZWQgYWNyb3NzIHRoZSBwb2x5ZmlsbFxyXG4gICAgICovXHJcbiAgICB2YXIgaXNJbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgXHJcbiAgICAvLyBDaGVjayBpZiBTaGFkb3cgUm9vdCBjb25zdHJ1Y3RvciBleGlzdHMgdG8gbWFrZSBmdXJ0aGVyIGNoZWNrcyBzaW1wbGVyXHJcbiAgICB2YXIgc2hhZG93Um9vdEV4aXN0cyA9IHR5cGVvZiBTaGFkb3dSb290ICE9PSAndW5kZWZpbmVkJztcclxuICAgIFxyXG4gICAgLy8gTGFzdCBzYXZlZCBzY3JvbGwgcG9zaXRpb25cclxuICAgIHZhciBzY3JvbGwgPSB7XHJcbiAgICAgICAgdG9wOiBudWxsLFxyXG4gICAgICAgIGxlZnQ6IG51bGxcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIEFycmF5IG9mIGNyZWF0ZWQgU3RpY2t5IGluc3RhbmNlc1xyXG4gICAgdmFyIHN0aWNraWVzID0gW107XHJcbiAgICBcclxuICAgIC8qXHJcbiAgICAgKiAzLiBVdGlsaXR5IGZ1bmN0aW9uc1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBleHRlbmQodGFyZ2V0T2JqLCBzb3VyY2VPYmplY3QpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlT2JqZWN0KSB7XHJcbiAgICAgICAgICAgIGlmIChzb3VyY2VPYmplY3QuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0T2JqW2tleV0gPSBzb3VyY2VPYmplY3Rba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gcGFyc2VOdW1lcmljKHZhbCkge1xyXG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbCkgfHwgMDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gZ2V0RG9jT2Zmc2V0VG9wKG5vZGUpIHtcclxuICAgICAgICB2YXIgZG9jT2Zmc2V0VG9wID0gMDtcclxuICAgIFxyXG4gICAgICAgIHdoaWxlIChub2RlKSB7XHJcbiAgICAgICAgICAgIGRvY09mZnNldFRvcCArPSBub2RlLm9mZnNldFRvcDtcclxuICAgICAgICAgICAgbm9kZSA9IG5vZGUub2Zmc2V0UGFyZW50O1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHJldHVybiBkb2NPZmZzZXRUb3A7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qXHJcbiAgICAgKiA0LiBTdGlja3kgY2xhc3NcclxuICAgICAqL1xyXG4gICAgXHJcbiAgICB2YXIgU3RpY2t5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFN0aWNreShub2RlKSB7XHJcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdGlja3kpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHRocm93IG5ldyBFcnJvcignRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBIVE1MRWxlbWVudCcpO1xyXG4gICAgICAgICAgICBpZiAoc3RpY2tpZXMuc29tZShmdW5jdGlvbiAoc3RpY2t5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RpY2t5Ll9ub2RlID09PSBub2RlO1xyXG4gICAgICAgICAgICB9KSkgdGhyb3cgbmV3IEVycm9yKCdTdGlja3lmaWxsIGlzIGFscmVhZHkgYXBwbGllZCB0byB0aGlzIG5vZGUnKTtcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLl9ub2RlID0gbm9kZTtcclxuICAgICAgICAgICAgdGhpcy5fc3RpY2t5TW9kZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHN0aWNraWVzLnB1c2godGhpcyk7XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgX2NyZWF0ZUNsYXNzKFN0aWNreSwgW3tcclxuICAgICAgICAgICAga2V5OiAncmVmcmVzaCcsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZWZyZXNoKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlcHB1a3UgfHwgdGhpcy5fcmVtb3ZlZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZSkgdGhpcy5fZGVhY3RpdmF0ZSgpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IHRoaXMuX25vZGU7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgKiAxLiBTYXZlIG5vZGUgY29tcHV0ZWQgcHJvcHNcclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vZGVDb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcclxuICAgICAgICAgICAgICAgIHZhciBub2RlQ29tcHV0ZWRQcm9wcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogbm9kZUNvbXB1dGVkU3R5bGUucG9zaXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBub2RlQ29tcHV0ZWRTdHlsZS50b3AsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogbm9kZUNvbXB1dGVkU3R5bGUuZGlzcGxheSxcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IG5vZGVDb21wdXRlZFN0eWxlLm1hcmdpblRvcCxcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IG5vZGVDb21wdXRlZFN0eWxlLm1hcmdpbkJvdHRvbSxcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiBub2RlQ29tcHV0ZWRTdHlsZS5tYXJnaW5MZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBub2RlQ29tcHV0ZWRTdHlsZS5tYXJnaW5SaWdodCxcclxuICAgICAgICAgICAgICAgICAgICBjc3NGbG9hdDogbm9kZUNvbXB1dGVkU3R5bGUuY3NzRmxvYXRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgKiAyLiBDaGVjayBpZiB0aGUgbm9kZSBjYW4gYmUgYWN0aXZhdGVkXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIGlmIChpc05hTihwYXJzZUZsb2F0KG5vZGVDb21wdXRlZFByb3BzLnRvcCkpIHx8IG5vZGVDb21wdXRlZFByb3BzLmRpc3BsYXkgPT0gJ3RhYmxlLWNlbGwnIHx8IG5vZGVDb21wdXRlZFByb3BzLmRpc3BsYXkgPT0gJ25vbmUnKSByZXR1cm47XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgKiAzLiBDaGVjayBpZiB0aGUgY3VycmVudCBub2RlIHBvc2l0aW9uIGlzIGBzdGlja3lgLiBJZiBpdCBpcywgaXQgbWVhbnMgdGhhdCB0aGUgYnJvd3NlciBzdXBwb3J0cyBzdGlja3kgcG9zaXRpb25pbmcsXHJcbiAgICAgICAgICAgICAgICAgKiAgICBidXQgdGhlIHBvbHlmaWxsIHdhcyBmb3JjZS1lbmFibGVkLiBXZSBzZXQgdGhlIG5vZGXigJlzIHBvc2l0aW9uIHRvIGBzdGF0aWNgIGJlZm9yZSBjb250aW51aW5nLCBzbyB0aGF0IHRoZSBub2RlXHJcbiAgICAgICAgICAgICAgICAgKiAgICBpcyBpbiBpdOKAmXMgaW5pdGlhbCBwb3NpdGlvbiB3aGVuIHdlIGdhdGhlciBpdHMgcGFyYW1zLlxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxQb3NpdGlvbiA9IG5vZGUuc3R5bGUucG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZUNvbXB1dGVkU3R5bGUucG9zaXRpb24gPT0gJ3N0aWNreScgfHwgbm9kZUNvbXB1dGVkU3R5bGUucG9zaXRpb24gPT0gJy13ZWJraXQtc3RpY2t5Jykgbm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdzdGF0aWMnO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICogNC4gR2V0IG5lY2Vzc2FyeSBub2RlIHBhcmFtZXRlcnNcclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlZmVyZW5jZU5vZGUgPSBub2RlLnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IHNoYWRvd1Jvb3RFeGlzdHMgJiYgcmVmZXJlbmNlTm9kZSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QgPyByZWZlcmVuY2VOb2RlLmhvc3QgOiByZWZlcmVuY2VOb2RlO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vZGVXaW5PZmZzZXQgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudFdpbk9mZnNldCA9IHBhcmVudE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50Q29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUocGFyZW50Tm9kZSk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuX3BhcmVudCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBub2RlOiBwYXJlbnROb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcGFyZW50Tm9kZS5zdHlsZS5wb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0SGVpZ2h0OiBwYXJlbnROb2RlLm9mZnNldEhlaWdodFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29mZnNldFRvV2luZG93ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IG5vZGVXaW5PZmZzZXQubGVmdCxcclxuICAgICAgICAgICAgICAgICAgICByaWdodDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIC0gbm9kZVdpbk9mZnNldC5yaWdodFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29mZnNldFRvUGFyZW50ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogbm9kZVdpbk9mZnNldC50b3AgLSBwYXJlbnRXaW5PZmZzZXQudG9wIC0gcGFyc2VOdW1lcmljKHBhcmVudENvbXB1dGVkU3R5bGUuYm9yZGVyVG9wV2lkdGgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IG5vZGVXaW5PZmZzZXQubGVmdCAtIHBhcmVudFdpbk9mZnNldC5sZWZ0IC0gcGFyc2VOdW1lcmljKHBhcmVudENvbXB1dGVkU3R5bGUuYm9yZGVyTGVmdFdpZHRoKSxcclxuICAgICAgICAgICAgICAgICAgICByaWdodDogLW5vZGVXaW5PZmZzZXQucmlnaHQgKyBwYXJlbnRXaW5PZmZzZXQucmlnaHQgLSBwYXJzZU51bWVyaWMocGFyZW50Q29tcHV0ZWRTdHlsZS5ib3JkZXJSaWdodFdpZHRoKVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogb3JpZ2luYWxQb3NpdGlvbixcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IG5vZGUuc3R5bGUudG9wLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogbm9kZS5zdHlsZS5ib3R0b20sXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogbm9kZS5zdHlsZS5sZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBub2RlLnN0eWxlLnJpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBub2RlLnN0eWxlLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogbm9kZS5zdHlsZS5tYXJnaW5Ub3AsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogbm9kZS5zdHlsZS5tYXJnaW5MZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBub2RlLnN0eWxlLm1hcmdpblJpZ2h0XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICB2YXIgbm9kZVRvcFZhbHVlID0gcGFyc2VOdW1lcmljKG5vZGVDb21wdXRlZFByb3BzLnRvcCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9saW1pdHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IG5vZGVXaW5PZmZzZXQudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0IC0gbm9kZVRvcFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGVuZDogcGFyZW50V2luT2Zmc2V0LnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCArIHBhcmVudE5vZGUub2Zmc2V0SGVpZ2h0IC0gcGFyc2VOdW1lcmljKHBhcmVudENvbXB1dGVkU3R5bGUuYm9yZGVyQm90dG9tV2lkdGgpIC0gbm9kZS5vZmZzZXRIZWlnaHQgLSBub2RlVG9wVmFsdWUgLSBwYXJzZU51bWVyaWMobm9kZUNvbXB1dGVkUHJvcHMubWFyZ2luQm90dG9tKVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAqIDUuIEVuc3VyZSB0aGF0IHRoZSBub2RlIHdpbGwgYmUgcG9zaXRpb25lZCByZWxhdGl2ZWx5IHRvIHRoZSBwYXJlbnQgbm9kZVxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50UG9zaXRpb24gPSBwYXJlbnRDb21wdXRlZFN0eWxlLnBvc2l0aW9uO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50UG9zaXRpb24gIT0gJ2Fic29sdXRlJyAmJiBwYXJlbnRQb3NpdGlvbiAhPSAncmVsYXRpdmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgKiA2LiBSZWNhbGMgbm9kZSBwb3NpdGlvbi5cclxuICAgICAgICAgICAgICAgICAqICAgIEl04oCZcyBpbXBvcnRhbnQgdG8gZG8gdGhpcyBiZWZvcmUgY2xvbmUgaW5qZWN0aW9uIHRvIGF2b2lkIHNjcm9sbGluZyBidWcgaW4gQ2hyb21lLlxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWNhbGNQb3NpdGlvbigpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICogNy4gQ3JlYXRlIGEgY2xvbmVcclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgdmFyIGNsb25lID0gdGhpcy5fY2xvbmUgPSB7fTtcclxuICAgICAgICAgICAgICAgIGNsb25lLm5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgc3R5bGVzIHRvIHRoZSBjbG9uZVxyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKGNsb25lLm5vZGUuc3R5bGUsIHtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogbm9kZVdpbk9mZnNldC5yaWdodCAtIG5vZGVXaW5PZmZzZXQubGVmdCArICdweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBub2RlV2luT2Zmc2V0LmJvdHRvbSAtIG5vZGVXaW5PZmZzZXQudG9wICsgJ3B4JyxcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IG5vZGVDb21wdXRlZFByb3BzLm1hcmdpblRvcCxcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IG5vZGVDb21wdXRlZFByb3BzLm1hcmdpbkJvdHRvbSxcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiBub2RlQ29tcHV0ZWRQcm9wcy5tYXJnaW5MZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBub2RlQ29tcHV0ZWRQcm9wcy5tYXJnaW5SaWdodCxcclxuICAgICAgICAgICAgICAgICAgICBjc3NGbG9hdDogbm9kZUNvbXB1dGVkUHJvcHMuY3NzRmxvYXQsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCxcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyU3BhY2luZzogMCxcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzFlbScsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdzdGF0aWMnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlTm9kZS5pbnNlcnRCZWZvcmUoY2xvbmUubm9kZSwgbm9kZSk7XHJcbiAgICAgICAgICAgICAgICBjbG9uZS5kb2NPZmZzZXRUb3AgPSBnZXREb2NPZmZzZXRUb3AoY2xvbmUubm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGtleTogJ19yZWNhbGNQb3NpdGlvbicsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVjYWxjUG9zaXRpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2FjdGl2ZSB8fCB0aGlzLl9yZW1vdmVkKSByZXR1cm47XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIHZhciBzdGlja3lNb2RlID0gc2Nyb2xsLnRvcCA8PSB0aGlzLl9saW1pdHMuc3RhcnQgPyAnc3RhcnQnIDogc2Nyb2xsLnRvcCA+PSB0aGlzLl9saW1pdHMuZW5kID8gJ2VuZCcgOiAnbWlkZGxlJztcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3N0aWNreU1vZGUgPT0gc3RpY2t5TW9kZSkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHN0aWNreU1vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdzdGFydCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuZCh0aGlzLl9ub2RlLnN0eWxlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHRoaXMuX29mZnNldFRvUGFyZW50LmxlZnQgKyAncHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHRoaXMuX29mZnNldFRvUGFyZW50LnJpZ2h0ICsgJ3B4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy5fb2Zmc2V0VG9QYXJlbnQudG9wICsgJ3B4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICdhdXRvJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdtaWRkbGUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRlbmQodGhpcy5fbm9kZS5zdHlsZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB0aGlzLl9vZmZzZXRUb1dpbmRvdy5sZWZ0ICsgJ3B4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiB0aGlzLl9vZmZzZXRUb1dpbmRvdy5yaWdodCArICdweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuX3N0eWxlcy50b3AsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3R0b206ICdhdXRvJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnYXV0bycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZW5kJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMuX25vZGUuc3R5bGUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogdGhpcy5fb2Zmc2V0VG9QYXJlbnQubGVmdCArICdweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogdGhpcy5fb2Zmc2V0VG9QYXJlbnQucmlnaHQgKyAncHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAnYXV0bycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3R0b206IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RpY2t5TW9kZSA9IHN0aWNreU1vZGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGtleTogJ19mYXN0Q2hlY2snLFxyXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2Zhc3RDaGVjaygpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fYWN0aXZlIHx8IHRoaXMuX3JlbW92ZWQpIHJldHVybjtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGdldERvY09mZnNldFRvcCh0aGlzLl9jbG9uZS5ub2RlKSAtIHRoaXMuX2Nsb25lLmRvY09mZnNldFRvcCkgPiAxIHx8IE1hdGguYWJzKHRoaXMuX3BhcmVudC5ub2RlLm9mZnNldEhlaWdodCAtIHRoaXMuX3BhcmVudC5vZmZzZXRIZWlnaHQpID4gMSkgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGtleTogJ19kZWFjdGl2YXRlJyxcclxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWFjdGl2YXRlKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9hY3RpdmUgfHwgdGhpcy5fcmVtb3ZlZCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jbG9uZS5ub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fY2xvbmUubm9kZSk7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fY2xvbmU7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGV4dGVuZCh0aGlzLl9ub2RlLnN0eWxlLCB0aGlzLl9zdHlsZXMpO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3N0eWxlcztcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciBlbGVtZW504oCZcyBwYXJlbnQgbm9kZSBpcyB1c2VkIGJ5IG90aGVyIHN0aWNraWVzLlxyXG4gICAgICAgICAgICAgICAgLy8gSWYgbm90LCByZXN0b3JlIHBhcmVudCBub2Rl4oCZcyBzdHlsZXMuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXN0aWNraWVzLnNvbWUoZnVuY3Rpb24gKHN0aWNreSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGlja3kgIT09IF90aGlzICYmIHN0aWNreS5fcGFyZW50ICYmIHN0aWNreS5fcGFyZW50Lm5vZGUgPT09IF90aGlzLl9wYXJlbnQubm9kZTtcclxuICAgICAgICAgICAgICAgIH0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMuX3BhcmVudC5ub2RlLnN0eWxlLCB0aGlzLl9wYXJlbnQuc3R5bGVzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9wYXJlbnQ7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0aWNreU1vZGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9vZmZzZXRUb1dpbmRvdztcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9vZmZzZXRUb1BhcmVudDtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9saW1pdHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGtleTogJ3JlbW92ZScsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVhY3RpdmF0ZSgpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBzdGlja2llcy5zb21lKGZ1bmN0aW9uIChzdGlja3ksIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0aWNreS5fbm9kZSA9PT0gX3RoaXMyLl9ub2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0aWNraWVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dKTtcclxuICAgIFxyXG4gICAgICAgIHJldHVybiBTdGlja3k7XHJcbiAgICB9KCk7XHJcbiAgICBcclxuICAgIC8qXHJcbiAgICAgKiA1LiBTdGlja3lmaWxsIEFQSVxyXG4gICAgICovXHJcbiAgICBcclxuICAgIFxyXG4gICAgdmFyIFN0aWNreWZpbGwgPSB7XHJcbiAgICAgICAgc3RpY2tpZXM6IHN0aWNraWVzLFxyXG4gICAgICAgIFN0aWNreTogU3RpY2t5LFxyXG4gICAgXHJcbiAgICAgICAgZm9yY2VTdGlja3k6IGZ1bmN0aW9uIGZvcmNlU3RpY2t5KCkge1xyXG4gICAgICAgICAgICBzZXBwdWt1ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGluaXQoKTtcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hBbGwoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFkZE9uZTogZnVuY3Rpb24gYWRkT25lKG5vZGUpIHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciBpdOKAmXMgYSBub2RlXHJcbiAgICAgICAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIE1heWJlIGl04oCZcyBhIG5vZGUgbGlzdCBvZiBzb21lIHNvcnQ/XHJcbiAgICAgICAgICAgICAgICAvLyBUYWtlIGZpcnN0IG5vZGUgZnJvbSB0aGUgbGlzdCB0aGVuXHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5sZW5ndGggJiYgbm9kZVswXSkgbm9kZSA9IG5vZGVbMF07ZWxzZSByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBTdGlja3lmaWxsIGlzIGFscmVhZHkgYXBwbGllZCB0byB0aGUgbm9kZVxyXG4gICAgICAgICAgICAvLyBhbmQgcmV0dXJuIGV4aXN0aW5nIHN0aWNreVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0aWNraWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RpY2tpZXNbaV0uX25vZGUgPT09IG5vZGUpIHJldHVybiBzdGlja2llc1tpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhbmQgcmV0dXJuIG5ldyBzdGlja3lcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGlja3kobm9kZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZGQ6IGZ1bmN0aW9uIGFkZChub2RlTGlzdCkge1xyXG4gICAgICAgICAgICAvLyBJZiBpdOKAmXMgYSBub2RlIG1ha2UgYW4gYXJyYXkgb2Ygb25lIG5vZGVcclxuICAgICAgICAgICAgaWYgKG5vZGVMaXN0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIG5vZGVMaXN0ID0gW25vZGVMaXN0XTtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGFyZ3VtZW50IGlzIGFuIGl0ZXJhYmxlIG9mIHNvbWUgc29ydFxyXG4gICAgICAgICAgICBpZiAoIW5vZGVMaXN0Lmxlbmd0aCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIEFkZCBldmVyeSBlbGVtZW50IGFzIGEgc3RpY2t5IGFuZCByZXR1cm4gYW4gYXJyYXkgb2YgY3JlYXRlZCBTdGlja3kgaW5zdGFuY2VzXHJcbiAgICAgICAgICAgIHZhciBhZGRlZFN0aWNraWVzID0gW107XHJcbiAgICBcclxuICAgICAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBub2RlTGlzdFtpXTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gSWYgaXTigJlzIG5vdCBhbiBIVE1MRWxlbWVudCDigJMgY3JlYXRlIGFuIGVtcHR5IGVsZW1lbnQgdG8gcHJlc2VydmUgMS10by0xXHJcbiAgICAgICAgICAgICAgICAvLyBjb3JyZWxhdGlvbiB3aXRoIGlucHV0IGxpc3RcclxuICAgICAgICAgICAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGRlZFN0aWNraWVzLnB1c2godm9pZCAwKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2NvbnRpbnVlJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gSWYgU3RpY2t5ZmlsbCBpcyBhbHJlYWR5IGFwcGxpZWQgdG8gdGhlIG5vZGVcclxuICAgICAgICAgICAgICAgIC8vIGFkZCBleGlzdGluZyBzdGlja3lcclxuICAgICAgICAgICAgICAgIGlmIChzdGlja2llcy5zb21lKGZ1bmN0aW9uIChzdGlja3kpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RpY2t5Ll9ub2RlID09PSBub2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZGVkU3RpY2tpZXMucHVzaChzdGlja3kpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSkgcmV0dXJuICdjb250aW51ZSc7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhbmQgYWRkIG5ldyBzdGlja3lcclxuICAgICAgICAgICAgICAgIGFkZGVkU3RpY2tpZXMucHVzaChuZXcgU3RpY2t5KG5vZGUpKTtcclxuICAgICAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3JldDIgPSBfbG9vcChpKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKF9yZXQyID09PSAnY29udGludWUnKSBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIHJldHVybiBhZGRlZFN0aWNraWVzO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVmcmVzaEFsbDogZnVuY3Rpb24gcmVmcmVzaEFsbCgpIHtcclxuICAgICAgICAgICAgc3RpY2tpZXMuZm9yRWFjaChmdW5jdGlvbiAoc3RpY2t5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RpY2t5LnJlZnJlc2goKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZW1vdmVPbmU6IGZ1bmN0aW9uIHJlbW92ZU9uZShub2RlKSB7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIHdoZXRoZXIgaXTigJlzIGEgbm9kZVxyXG4gICAgICAgICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBNYXliZSBpdOKAmXMgYSBub2RlIGxpc3Qgb2Ygc29tZSBzb3J0P1xyXG4gICAgICAgICAgICAgICAgLy8gVGFrZSBmaXJzdCBub2RlIGZyb20gdGhlIGxpc3QgdGhlblxyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUubGVuZ3RoICYmIG5vZGVbMF0pIG5vZGUgPSBub2RlWzBdO2Vsc2UgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBzdGlja2llcyBib3VuZCB0byB0aGUgbm9kZXMgaW4gdGhlIGxpc3RcclxuICAgICAgICAgICAgc3RpY2tpZXMuc29tZShmdW5jdGlvbiAoc3RpY2t5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RpY2t5Ll9ub2RlID09PSBub2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RpY2t5LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKG5vZGVMaXN0KSB7XHJcbiAgICAgICAgICAgIC8vIElmIGl04oCZcyBhIG5vZGUgbWFrZSBhbiBhcnJheSBvZiBvbmUgbm9kZVxyXG4gICAgICAgICAgICBpZiAobm9kZUxpc3QgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkgbm9kZUxpc3QgPSBbbm9kZUxpc3RdO1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgYXJndW1lbnQgaXMgYW4gaXRlcmFibGUgb2Ygc29tZSBzb3J0XHJcbiAgICAgICAgICAgIGlmICghbm9kZUxpc3QubGVuZ3RoKSByZXR1cm47XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBzdGlja2llcyBib3VuZCB0byB0aGUgbm9kZXMgaW4gdGhlIGxpc3RcclxuICAgIFxyXG4gICAgICAgICAgICB2YXIgX2xvb3AyID0gZnVuY3Rpb24gX2xvb3AyKGkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBub2RlID0gbm9kZUxpc3RbaV07XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIHN0aWNraWVzLnNvbWUoZnVuY3Rpb24gKHN0aWNreSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGlja3kuX25vZGUgPT09IG5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RpY2t5LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBfbG9vcDIoaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlbW92ZUFsbDogZnVuY3Rpb24gcmVtb3ZlQWxsKCkge1xyXG4gICAgICAgICAgICB3aGlsZSAoc3RpY2tpZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBzdGlja2llc1swXS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIC8qXHJcbiAgICAgKiA2LiBTZXR1cCBldmVudHMgKHVubGVzcyB0aGUgcG9seWZpbGwgd2FzIGRpc2FibGVkKVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgIGlmIChpc0luaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpc0luaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgIFxyXG4gICAgICAgIC8vIFdhdGNoIGZvciBzY3JvbGwgcG9zaXRpb24gY2hhbmdlcyBhbmQgdHJpZ2dlciByZWNhbGMvcmVmcmVzaCBpZiBuZWVkZWRcclxuICAgICAgICBmdW5jdGlvbiBjaGVja1Njcm9sbCgpIHtcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5wYWdlWE9mZnNldCAhPSBzY3JvbGwubGVmdCkge1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsLnRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldDtcclxuICAgICAgICAgICAgICAgIHNjcm9sbC5sZWZ0ID0gd2luZG93LnBhZ2VYT2Zmc2V0O1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBTdGlja3lmaWxsLnJlZnJlc2hBbGwoKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cucGFnZVlPZmZzZXQgIT0gc2Nyb2xsLnRvcCkge1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsLnRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldDtcclxuICAgICAgICAgICAgICAgIHNjcm9sbC5sZWZ0ID0gd2luZG93LnBhZ2VYT2Zmc2V0O1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyByZWNhbGMgcG9zaXRpb24gZm9yIGFsbCBzdGlja2llc1xyXG4gICAgICAgICAgICAgICAgc3RpY2tpZXMuZm9yRWFjaChmdW5jdGlvbiAoc3RpY2t5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0aWNreS5fcmVjYWxjUG9zaXRpb24oKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgY2hlY2tTY3JvbGwoKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgY2hlY2tTY3JvbGwpO1xyXG4gICAgXHJcbiAgICAgICAgLy8gV2F0Y2ggZm9yIHdpbmRvdyByZXNpemVzIGFuZCBkZXZpY2Ugb3JpZW50YXRpb24gY2hhbmdlcyBhbmQgdHJpZ2dlciByZWZyZXNoXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIFN0aWNreWZpbGwucmVmcmVzaEFsbCk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgU3RpY2t5ZmlsbC5yZWZyZXNoQWxsKTtcclxuICAgIFxyXG4gICAgICAgIC8vRmFzdCBkaXJ0eSBjaGVjayBmb3IgbGF5b3V0IGNoYW5nZXMgZXZlcnkgNTAwbXNcclxuICAgICAgICB2YXIgZmFzdENoZWNrVGltZXIgPSB2b2lkIDA7XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBzdGFydEZhc3RDaGVja1RpbWVyKCkge1xyXG4gICAgICAgICAgICBmYXN0Q2hlY2tUaW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHN0aWNraWVzLmZvckVhY2goZnVuY3Rpb24gKHN0aWNreSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGlja3kuX2Zhc3RDaGVjaygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gc3RvcEZhc3RDaGVja1RpbWVyKCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKGZhc3RDaGVja1RpbWVyKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICB2YXIgZG9jSGlkZGVuS2V5ID0gdm9pZCAwO1xyXG4gICAgICAgIHZhciB2aXNpYmlsaXR5Q2hhbmdlRXZlbnROYW1lID0gdm9pZCAwO1xyXG4gICAgXHJcbiAgICAgICAgaWYgKCdoaWRkZW4nIGluIGRvY3VtZW50KSB7XHJcbiAgICAgICAgICAgIGRvY0hpZGRlbktleSA9ICdoaWRkZW4nO1xyXG4gICAgICAgICAgICB2aXNpYmlsaXR5Q2hhbmdlRXZlbnROYW1lID0gJ3Zpc2liaWxpdHljaGFuZ2UnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoJ3dlYmtpdEhpZGRlbicgaW4gZG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgZG9jSGlkZGVuS2V5ID0gJ3dlYmtpdEhpZGRlbic7XHJcbiAgICAgICAgICAgIHZpc2liaWxpdHlDaGFuZ2VFdmVudE5hbWUgPSAnd2Via2l0dmlzaWJpbGl0eWNoYW5nZSc7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKHZpc2liaWxpdHlDaGFuZ2VFdmVudE5hbWUpIHtcclxuICAgICAgICAgICAgaWYgKCFkb2N1bWVudFtkb2NIaWRkZW5LZXldKSBzdGFydEZhc3RDaGVja1RpbWVyKCk7XHJcbiAgICBcclxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih2aXNpYmlsaXR5Q2hhbmdlRXZlbnROYW1lLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnRbZG9jSGlkZGVuS2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0b3BGYXN0Q2hlY2tUaW1lcigpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydEZhc3RDaGVja1RpbWVyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSBzdGFydEZhc3RDaGVja1RpbWVyKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICghc2VwcHVrdSkgaW5pdCgpO1xyXG4gICAgXHJcbiAgICAvKlxyXG4gICAgICogNy4gRXhwb3NlIFN0aWNreWZpbGxcclxuICAgICAqL1xyXG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgIT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcclxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IFN0aWNreWZpbGw7XHJcbiAgICB9IGVsc2UgaWYgKGlzV2luZG93RGVmaW5lZCkge1xyXG4gICAgICAgIHdpbmRvdy5TdGlja3lmaWxsID0gU3RpY2t5ZmlsbDtcclxuICAgIH1cclxuICAgIFxyXG59KSh3aW5kb3csIGRvY3VtZW50KTsiLCIvKiFcbiAqIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDE3IEljb01vb24uaW9cbiAqIEBsaWNlbnNlICAgTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2VcbiAqICAgICAgICAgICAgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9LZXlhbW9vbi9zdmd4dXNlXG4gKiBAdmVyc2lvbiAgIDEuMi42XG4gKi9cbi8qanNsaW50IGJyb3dzZXI6IHRydWUgKi9cbi8qZ2xvYmFsIFhEb21haW5SZXF1ZXN0LCBNdXRhdGlvbk9ic2VydmVyLCB3aW5kb3cgKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTsgLy8gaG9sZHMgeGhyIG9iamVjdHMgdG8gcHJldmVudCBtdWx0aXBsZSByZXF1ZXN0c1xuICAgICAgICB2YXIgY2hlY2tVc2VFbGVtcztcbiAgICAgICAgdmFyIHRpZDsgLy8gdGltZW91dCBpZFxuICAgICAgICB2YXIgZGVib3VuY2VkQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGlkKTtcbiAgICAgICAgICAgIHRpZCA9IHNldFRpbWVvdXQoY2hlY2tVc2VFbGVtcywgMTAwKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHVub2JzZXJ2ZUNoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH07XG4gICAgICAgIHZhciBvYnNlcnZlQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvYnNlcnZlcjtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGRlYm91bmNlZENoZWNrLCBmYWxzZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9yaWVudGF0aW9uY2hhbmdlXCIsIGRlYm91bmNlZENoZWNrLCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAod2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGRlYm91bmNlZENoZWNrKTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB1bm9ic2VydmVDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgZGVib3VuY2VkQ2hlY2ssIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIiwgZGVib3VuY2VkQ2hlY2ssIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoaWdub3JlKSB7fVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NU3VidHJlZU1vZGlmaWVkXCIsIGRlYm91bmNlZENoZWNrLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdW5vYnNlcnZlQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01TdWJ0cmVlTW9kaWZpZWRcIiwgZGVib3VuY2VkQ2hlY2ssIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgZGVib3VuY2VkQ2hlY2ssIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLCBkZWJvdW5jZWRDaGVjaywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBjcmVhdGVSZXF1ZXN0ID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICAgICAgLy8gSW4gSUUgOSwgY3Jvc3Mgb3JpZ2luIHJlcXVlc3RzIGNhbiBvbmx5IGJlIHNlbnQgdXNpbmcgWERvbWFpblJlcXVlc3QuXG4gICAgICAgICAgICAvLyBYRG9tYWluUmVxdWVzdCB3b3VsZCBmYWlsIGlmIENPUlMgaGVhZGVycyBhcmUgbm90IHNldC5cbiAgICAgICAgICAgIC8vIFRoZXJlZm9yZSwgWERvbWFpblJlcXVlc3Qgc2hvdWxkIG9ubHkgYmUgdXNlZCB3aXRoIGNyb3NzIG9yaWdpbiByZXF1ZXN0cy5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldE9yaWdpbihsb2MpIHtcbiAgICAgICAgICAgICAgICB2YXIgYTtcbiAgICAgICAgICAgICAgICBpZiAobG9jLnByb3RvY29sICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYSA9IGxvYztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgICAgICAgICAgICAgIGEuaHJlZiA9IGxvYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEucHJvdG9jb2wucmVwbGFjZSgvOi9nLCBcIlwiKSArIGEuaG9zdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBSZXF1ZXN0O1xuICAgICAgICAgICAgdmFyIG9yaWdpbjtcbiAgICAgICAgICAgIHZhciBvcmlnaW4yO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5YTUxIdHRwUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIFJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgICAgICBvcmlnaW4gPSBnZXRPcmlnaW4obG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIG9yaWdpbjIgPSBnZXRPcmlnaW4odXJsKTtcbiAgICAgICAgICAgICAgICBpZiAoUmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPT09IHVuZGVmaW5lZCAmJiBvcmlnaW4yICE9PSBcIlwiICYmIG9yaWdpbjIgIT09IG9yaWdpbikge1xuICAgICAgICAgICAgICAgICAgICBSZXF1ZXN0ID0gWERvbWFpblJlcXVlc3QgfHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFJlcXVlc3QgPSBYTUxIdHRwUmVxdWVzdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUmVxdWVzdDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHhsaW5rTlMgPSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIjtcbiAgICAgICAgY2hlY2tVc2VFbGVtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlO1xuICAgICAgICAgICAgdmFyIGJjcjtcbiAgICAgICAgICAgIHZhciBmYWxsYmFjayA9IFwiXCI7IC8vIG9wdGlvbmFsIGZhbGxiYWNrIFVSTCBpbiBjYXNlIG5vIGJhc2UgcGF0aCB0byBTVkcgZmlsZSB3YXMgZ2l2ZW4gYW5kIG5vIHN5bWJvbCBkZWZpbml0aW9uIHdhcyBmb3VuZC5cbiAgICAgICAgICAgIHZhciBoYXNoO1xuICAgICAgICAgICAgdmFyIGhyZWY7XG4gICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgIHZhciBpblByb2dyZXNzQ291bnQgPSAwO1xuICAgICAgICAgICAgdmFyIGlzSGlkZGVuO1xuICAgICAgICAgICAgdmFyIFJlcXVlc3Q7XG4gICAgICAgICAgICB2YXIgdXJsO1xuICAgICAgICAgICAgdmFyIHVzZXM7XG4gICAgICAgICAgICB2YXIgeGhyO1xuICAgICAgICAgICAgZnVuY3Rpb24gb2JzZXJ2ZUlmRG9uZSgpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBkb25lIHdpdGggbWFraW5nIGNoYW5nZXMsIHN0YXJ0IHdhdGNoaW5nIGZvciBjaGFnbmVzIGluIERPTSBhZ2FpblxuICAgICAgICAgICAgICAgIGluUHJvZ3Jlc3NDb3VudCAtPSAxO1xuICAgICAgICAgICAgICAgIGlmIChpblByb2dyZXNzQ291bnQgPT09IDApIHsgLy8gaWYgYWxsIHhocnMgd2VyZSByZXNvbHZlZFxuICAgICAgICAgICAgICAgICAgICB1bm9ic2VydmVDaGFuZ2VzKCk7IC8vIG1ha2Ugc3VyZSB0byByZW1vdmUgb2xkIGhhbmRsZXJzXG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVDaGFuZ2VzKCk7IC8vIHdhdGNoIGZvciBjaGFuZ2VzIHRvIERPTVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGF0dHJVcGRhdGVGdW5jKHNwZWMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVbc3BlYy5iYXNlXSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3BlYy51c2VFbC5zZXRBdHRyaWJ1dGVOUyh4bGlua05TLCBcInhsaW5rOmhyZWZcIiwgXCIjXCIgKyBzcGVjLmhhc2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwZWMudXNlRWwuaGFzQXR0cmlidXRlKFwiaHJlZlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWMudXNlRWwuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBcIiNcIiArIHNwZWMuaGFzaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gb25sb2FkRnVuYyh4aHIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInhcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdmc7XG4gICAgICAgICAgICAgICAgICAgIHhoci5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB4LmlubmVySFRNTCA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICAgICAgICAgIHN2ZyA9IHguZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdmdcIilbMF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdmcuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdmcuc3R5bGUud2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ZnLnN0eWxlLmhlaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdmcuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keS5pbnNlcnRCZWZvcmUoc3ZnLCBib2R5LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVJZkRvbmUoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gb25FcnJvclRpbWVvdXQoeGhyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgeGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB4aHIub250aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZUlmRG9uZSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bm9ic2VydmVDaGFuZ2VzKCk7IC8vIHN0b3Agd2F0Y2hpbmcgZm9yIGNoYW5nZXMgdG8gRE9NXG4gICAgICAgICAgICAvLyBmaW5kIGFsbCB1c2UgZWxlbWVudHNcbiAgICAgICAgICAgIHVzZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInVzZVwiKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB1c2VzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYmNyID0gdXNlc1tpXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmFpbGVkIHRvIGdldCBib3VuZGluZyByZWN0YW5nbGUgb2YgdGhlIHVzZSBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIGJjciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBocmVmID0gdXNlc1tpXS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCB1c2VzW2ldLmdldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIFwiaHJlZlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgdXNlc1tpXS5nZXRBdHRyaWJ1dGUoXCJ4bGluazpocmVmXCIpO1xuICAgICAgICAgICAgICAgIGlmIChocmVmICYmIGhyZWYuc3BsaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gaHJlZi5zcGxpdChcIiNcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gW1wiXCIsIFwiXCJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBiYXNlID0gdXJsWzBdO1xuICAgICAgICAgICAgICAgIGhhc2ggPSB1cmxbMV07XG4gICAgICAgICAgICAgICAgaXNIaWRkZW4gPSBiY3IgJiYgYmNyLmxlZnQgPT09IDAgJiYgYmNyLnJpZ2h0ID09PSAwICYmIGJjci50b3AgPT09IDAgJiYgYmNyLmJvdHRvbSA9PT0gMDtcbiAgICAgICAgICAgICAgICBpZiAoYmNyICYmIGJjci53aWR0aCA9PT0gMCAmJiBiY3IuaGVpZ2h0ID09PSAwICYmICFpc0hpZGRlbikge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgdXNlIGVsZW1lbnQgaXMgZW1wdHlcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSByZWZlcmVuY2UgdG8gYW4gZXh0ZXJuYWwgU1ZHLCB0cnkgdG8gZmV0Y2ggaXRcbiAgICAgICAgICAgICAgICAgICAgLy8gdXNlIHRoZSBvcHRpb25hbCBmYWxsYmFjayBVUkwgaWYgdGhlcmUgaXMgbm8gcmVmZXJlbmNlIHRvIGFuIGV4dGVybmFsIFNWR1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmFsbGJhY2sgJiYgIWJhc2UubGVuZ3RoICYmIGhhc2ggJiYgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhhc2gpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlID0gZmFsbGJhY2s7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXNbaV0uaGFzQXR0cmlidXRlKFwiaHJlZlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlc1tpXS5zZXRBdHRyaWJ1dGVOUyh4bGlua05TLCBcInhsaW5rOmhyZWZcIiwgaHJlZik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhc2UubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzY2hlZHVsZSB1cGRhdGluZyB4bGluazpocmVmXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIgPSBjYWNoZVtiYXNlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4aHIgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnVlIHNpZ25pZmllcyB0aGF0IHByZXBlbmRpbmcgdGhlIFNWRyB3YXMgbm90IHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChhdHRyVXBkYXRlRnVuYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUVsOiB1c2VzW2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlOiBiYXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoOiBoYXNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhociA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3QoYmFzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFJlcXVlc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIgPSBuZXcgUmVxdWVzdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZVtiYXNlXSA9IHhocjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLm9ubG9hZCA9IG9ubG9hZEZ1bmMoeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLm9uZXJyb3IgPSBvbkVycm9yVGltZW91dCh4aHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIub250aW1lb3V0ID0gb25FcnJvclRpbWVvdXQoeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLm9wZW4oXCJHRVRcIiwgYmFzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluUHJvZ3Jlc3NDb3VudCArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNIaWRkZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZVtiYXNlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtZW1iZXIgdGhpcyBVUkwgaWYgdGhlIHVzZSBlbGVtZW50IHdhcyBub3QgZW1wdHkgYW5kIG5vIHJlcXVlc3Qgd2FzIHNlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZVtiYXNlXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNhY2hlW2Jhc2VdLm9ubG9hZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0IHR1cm5zIG91dCB0aGF0IHByZXBlbmRpbmcgdGhlIFNWRyBpcyBub3QgbmVjZXNzYXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFib3J0IHRoZSBpbi1wcm9ncmVzcyB4aHIuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVbYmFzZV0uYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY2FjaGVbYmFzZV0ub25sb2FkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlW2Jhc2VdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiYXNlLmxlbmd0aCAmJiBjYWNoZVtiYXNlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChhdHRyVXBkYXRlRnVuYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlRWw6IHVzZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTogYmFzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoOiBoYXNoXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1c2VzID0gXCJcIjtcbiAgICAgICAgICAgIGluUHJvZ3Jlc3NDb3VudCArPSAxO1xuICAgICAgICAgICAgb2JzZXJ2ZUlmRG9uZSgpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgd2luTG9hZDtcbiAgICAgICAgd2luTG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLCB3aW5Mb2FkLCBmYWxzZSk7IC8vIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzXG4gICAgICAgICAgICB0aWQgPSBzZXRUaW1lb3V0KGNoZWNrVXNlRWxlbXMsIDApO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICAgICAgICAvLyBUaGUgbG9hZCBldmVudCBmaXJlcyB3aGVuIGFsbCByZXNvdXJjZXMgaGF2ZSBmaW5pc2hlZCBsb2FkaW5nLCB3aGljaCBhbGxvd3MgZGV0ZWN0aW5nIHdoZXRoZXIgU1ZHIHVzZSBlbGVtZW50cyBhcmUgZW1wdHkuXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgd2luTG9hZCwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTm8gbmVlZCB0byBhZGQgYSBsaXN0ZW5lciBpZiB0aGUgZG9jdW1lbnQgaXMgYWxyZWFkeSBsb2FkZWQsIGluaXRpYWxpemUgaW1tZWRpYXRlbHkuXG4gICAgICAgICAgICB3aW5Mb2FkKCk7XG4gICAgICAgIH1cbiAgICB9XG59KCkpO1xuIiwiaW1wb3J0IHsgZXZlbnRzIH0gZnJvbSAnLi4vdXRpbGl0aWVzL2N1c3RvbS1ldmVudHMnO1xuXG5jb25zdCBBTklNQVRJT05fRFVSQVRJT04gPSAxMDAwOyAvLyBtaWxpc2Vjb25kc1xuY29uc3QgUkVGUkVTSF9SQVRFID0gQU5JTUFUSU9OX0RVUkFUSU9OIC8gNjA7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIGlkLFxuICAgIGxvYWRpbmdDbGFzcyxcbiAgfSkge1xuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuXG4gICAgbGV0IGFuaW1hdGluZyA9IGZhbHNlO1xuXG4gICAgLy8gRXZlbnQgaGFuZGxlciBmdW5jdGlvbnNcbiAgICBmdW5jdGlvbiBoYW5kbGVTdGFydExvYWRlcigpIHtcbiAgICAgIGFuaW1hdGluZyA9IHRydWU7XG5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBhbmltYXRpbmcgPSBmYWxzZTsgfSwgQU5JTUFUSU9OX0RVUkFUSU9OKTtcblxuICAgICAgZWwuY2xhc3NMaXN0LmFkZChsb2FkaW5nQ2xhc3MpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVTdG9wTG9hZGVyKCkge1xuICAgICAgaWYgKGFuaW1hdGluZykge1xuICAgICAgICBzZXRUaW1lb3V0KGhhbmRsZVN0b3BMb2FkZXIsIFJFRlJFU0hfUkFURSk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGxvYWRpbmdDbGFzcyk7XG4gICAgfVxuXG4gICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5zdGFydExvYWRlciwgaGFuZGxlU3RhcnRMb2FkZXIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5zdG9wTG9hZGVyLCBoYW5kbGVTdG9wTG9hZGVyKTtcbiAgfVxufVxuXG4iLCJpbXBvcnQgeyBldmVudHMgfSBmcm9tICcuLi91dGlsaXRpZXMvY3VzdG9tLWV2ZW50cyc7XG5pbXBvcnQgeyBpbmplY3RNYXJrdXAgfSBmcm9tICcuLi91dGlsaXRpZXMvY29tcG9uZW50cyc7XG4vLyBpbXBvcnQgeyBnZXQgfSBmcm9tICcuLi91dGlsaXRpZXMvcm91dGVyJztcbmltcG9ydCB7IHNjcm9sbFRvcCB9IGZyb20gJy4uL3V0aWxpdGllcy9zY3JvbGwnO1xuXG5jb25zdCBBTklNQVRJT05fRFVSQVRJT04gPSA1MDA7IC8vIG1pbGlzZWNvbmRzXG5jb25zdCBSRUZSRVNIX1JBVEUgPSBBTklNQVRJT05fRFVSQVRJT04gLyA2MDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgaWQsXG4gICAgY29udGVudEhhbmRsZSxcbiAgICBsb2NrZWRDbGFzcyxcbiAgICBhY3RpdmVDbGFzcyxcbiAgICB1bmxvYWRpbmdDbGFzcyxcbiAgfSkge1xuICAgIC8vIEVsZW1lbnRzIGFuZCBjbGFzcyB2YXJpYWJsZXNcbiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICBjb25zdCBjb250ZW50ID0gZWwucXVlcnlTZWxlY3Rvcihjb250ZW50SGFuZGxlKTtcblxuICAgIC8vIFN0YXRlIHZhcmlhYmxlc1xuICAgIGxldCBhbmltYXRpbmcgPSBmYWxzZTtcbiAgICBsZXQgc2Nyb2xsaW5nID0gZmFsc2U7XG5cbiAgICAvLyBFdmVudCBoYW5kbGVyIGZ1bmN0aW9uc1xuICAgIGZ1bmN0aW9uIGhhbmRsZUNvbnRUb3VjaFN0YXJ0KGUpIHtcbiAgICAgIGNvbnN0IGNvbnQgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgICBjb25zdCB0b3AgPSBjb250LnNjcm9sbFRvcFxuICAgICAgY29uc3QgdG90YWxTY3JvbGwgPSBjb250LnNjcm9sbEhlaWdodFxuICAgICAgY29uc3QgY3VycmVudFNjcm9sbCA9IHRvcCArIGNvbnQub2Zmc2V0SGVpZ2h0XG5cbiAgICAgIC8vIElmIHdlJ3JlIGF0IHRoZSB0b3Agb3IgdGhlIGJvdHRvbSBvZiB0aGUgY29udGFpbmVyc1xuICAgICAgLy8gc2Nyb2xsLCBwdXNoIHVwIG9yIGRvd24gb25lIHBpeGVsLlxuICAgICAgLy9cbiAgICAgIC8vIFRoaXMgcHJldmVudHMgdGhlIHNjcm9sbCBmcm9tIFwicGFzc2luZyB0aHJvdWdoXCIgdG8gdGhlIGJvZHkuXG4gICAgICBpZiAodG9wID09PSAwKSB7XG4gICAgICAgIGVsLnNjcm9sbFRvcCA9IDFcblxuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnRTY3JvbGwgPT09IHRvdGFsU2Nyb2xsKSB7XG4gICAgICAgIGVsLnNjcm9sbFRvcCA9IHRvcCAtIDFcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlQ29udFRvdWNoTW92ZShlKSB7XG4gICAgICBjb25zdCBjb250ID0gZS5jdXJyZW50VGFyZ2V0O1xuXG4gICAgICAvLyBJZiB0aGUgY29udGVudCBpcyBhY3R1YWxseSBzY3JvbGxhYmxlLCBpLmUuIHRoZSBjb250ZW50IGlzIGxvbmcgZW5vdWdoXG4gICAgICAvLyB0aGF0IHNjcm9sbGluZyBjYW4gb2NjdXJcbiAgICAgIGlmIChjb250Lm9mZnNldEhlaWdodCA8IGNvbnQuc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICAgIGUuX2FsbG93U2Nyb2xsID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVCb2R5VG91Y2hNb3ZlKGUpIHtcbiAgICAgIC8vIEluIHRoaXMgY2FzZSwgdGhlIGRlZmF1bHQgYmVoYXZpb3IgaXMgc2Nyb2xsaW5nIHRoZSBib2R5LCB3aGljaFxuICAgICAgLy8gd291bGQgcmVzdWx0IGluIGFuIG92ZXJmbG93LiAgU2luY2Ugd2UgZG9uJ3Qgd2FudCB0aGF0LCB3ZSBwcmV2ZW50RGVmYXVsdC5cbiAgICAgIC8vXG4gICAgICAvLyBUSlA6IFRoaXMgaXMgcHJldHR5IGJ1Z2d5IGFuZCBwcm9iYWJseSBub3Qgd29ydGggaXRcbiAgICAgIC8vIGlmICghZS5fYWxsb3dTY3JvbGwpIHtcbiAgICAgIC8vICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgLy8gfVxuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVMb2NrU2Nyb2xsKGUpIHtcbiAgICAgIGNvbnN0IHsgY29udCB9ID0gZS5kZXRhaWw7XG5cbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChsb2NrZWRDbGFzcyk7XG5cbiAgICAgIC8vIFByZXZlbnQgc2Nyb2xsIG9uIGlPU1xuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2x1c3Rlci1pby9wcmV2ZW50LW92ZXJzY3JvbGwvYmxvYi9tYXN0ZXIvaW5kZXguanNcbiAgICAgIC8vIGlmIChjb250KSB7XG4gICAgICAvLyAgIGNvbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGhhbmRsZUNvbnRUb3VjaFN0YXJ0KTtcbiAgICAgIC8vICAgY29udC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBoYW5kbGVDb250VG91Y2hNb3ZlKTtcbiAgICAgIC8vIH1cbiAgICAgIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGhhbmRsZUJvZHlUb3VjaE1vdmUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVVbmxvY2tTY3JvbGwoKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUobG9ja2VkQ2xhc3MpO1xuXG4gICAgICAvLyBFbmFibGUgc2Nyb2xsIG9uIGlPU1xuICAgICAgLy8gaWYgKGNvbnQpIHtcbiAgICAgIC8vICAgY29udC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgaGFuZGxlQ29udFRvdWNoU3RhcnQpO1xuICAgICAgLy8gICBjb250LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGhhbmRsZUNvbnRUb3VjaE1vdmUpO1xuICAgICAgLy8gfVxuICAgICAgLy8gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgaGFuZGxlQm9keVRvdWNoTW92ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUxvYWRSb3V0ZShlKSB7XG4gICAgICBpZiAoYW5pbWF0aW5nIHx8IHNjcm9sbGluZykge1xuICAgICAgICBzZXRUaW1lb3V0KGhhbmRsZUxvYWRSb3V0ZS5iaW5kKHRoaXMsIGUpLCBSRUZSRVNIX1JBVEUpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBtYXJrdXAgfSA9IGUuZGV0YWlsO1xuXG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKHVubG9hZGluZ0NsYXNzKTtcbiAgICAgIGluamVjdE1hcmt1cChjb250ZW50LCBtYXJrdXApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVVbmxvYWRSb3V0ZSgpIHtcbiAgICAgIGZ1bmN0aW9uIHNjcm9sbCgpIHtcbiAgICAgICAgc2Nyb2xsaW5nID0gdHJ1ZTtcblxuICAgICAgICBzY3JvbGxUb3AoZG9jdW1lbnQuYm9keSwgMCwgKCkgPT4ge1xuICAgICAgICAgIHNjcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYW5pbWF0ZSgpIHtcbiAgICAgICAgYW5pbWF0aW5nID0gdHJ1ZTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBhbmltYXRpbmcgPSBmYWxzZTtcblxuICAgICAgICAgIHNjcm9sbCgpO1xuICAgICAgICB9LCBBTklNQVRJT05fRFVSQVRJT04pO1xuICAgICAgfVxuXG4gICAgICAvLyBBbmltYXRlIHBhZ2UgdW5sb2FkXG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKHVubG9hZGluZ0NsYXNzKTtcbiAgICAgIGFuaW1hdGUoKTtcbiAgICB9XG4gICAgLy8gZnVuY3Rpb24gaGFuZGxlUG9wU3RhdGUoZSkge1xuICAgIC8vICAgaWYgKCFlLnN0YXRlKSByZXR1cm47XG5cbiAgICAvLyAgIGNvbnN0IHsgdXJsLCBxdWVyeSA9IHt9IH0gPSBlLnN0YXRlO1xuXG4gICAgLy8gICBmdW5jdGlvbiBjYihyZXMpIHtcbiAgICAvLyAgICAgY29uc3QgbWFya3VwID0gcmVzO1xuXG4gICAgLy8gICAgIGVtaXRFdmVudChldmVudHMubG9hZFJvdXRlLCB7IG1hcmt1cCwgLi4uZS5zdGF0ZSB9KTtcbiAgICAvLyAgIH1cblxuICAgIC8vICAgZ2V0KHsgdXJsLCBxdWVyeSwgY2IgfSk7XG4gICAgLy8gfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVNob3dPdmVybGF5KCkge1xuICAgICAgLy8gQWxsb3cgY2hpbGRyZW4gb2YgY29udGVudCB0byBzcGVjaWZ5IHRoZWlyIG93biB6LWluZGV4IHRvIG92ZXJsYXkgaGVhZGVyL2Zvb3RlclxuICAgICAgY29udGVudC5zdHlsZS56SW5kZXggPSAnaW5pdGlhbCc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUhpZGVPdmVybGF5KCkge1xuICAgICAgY29udGVudC5zdHlsZS56SW5kZXggPSAnJztcbiAgICB9XG5cbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLmxvY2tTY3JvbGwsIGhhbmRsZUxvY2tTY3JvbGwpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy51bmxvY2tTY3JvbGwsIGhhbmRsZVVubG9ja1Njcm9sbCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLmxvYWRSb3V0ZSwgaGFuZGxlTG9hZFJvdXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMudW5sb2FkUm91dGUsIGhhbmRsZVVubG9hZFJvdXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuc2hvd092ZXJsYXksIGhhbmRsZVNob3dPdmVybGF5KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuaGlkZU92ZXJsYXksIGhhbmRsZUhpZGVPdmVybGF5KTtcblxuICAgIC8vIFNldCBwb3BzdGF0ZSBldmVudCBsaXN0ZW5lclxuICAgIC8vIGlmICh3aW5kb3cuaGlzdG9yeSkgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgaGFuZGxlUG9wU3RhdGUpO1xuXG4gICAgLy8gU2V0IGluaXRpYWwgc3RhdGVcbiAgICBpZiAod2luZG93Lmhpc3RvcnkgJiYgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKSB7XG4gICAgICBjb25zdCByZXBsYWNlU3RhdGUgPSB7XG4gICAgICAgIC4uLndpbmRvdy5oaXN0b3J5LnN0YXRlLFxuICAgICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAgICAgfTtcblxuICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHJlcGxhY2VTdGF0ZSwgbnVsbCk7XG4gICAgfVxuXG4gICAgLy8gSW5pdGlhbGl6ZVxuICAgIGVsLmNsYXNzTGlzdC5hZGQoYWN0aXZlQ2xhc3MpO1xuICB9XG59XG5cbiIsImltcG9ydCB7IGV2ZW50cywgZW1pdEV2ZW50IH0gZnJvbSAnLi4vdXRpbGl0aWVzL2N1c3RvbS1ldmVudHMnO1xuaW1wb3J0IHsgaW5qZWN0TWFya3VwIH0gZnJvbSAnLi4vdXRpbGl0aWVzL2NvbXBvbmVudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBpZCxcbiAgICBvdmVybGF5SGFuZGxlLFxuICAgIGNsb3NlSGFuZGxlLFxuICAgIGNvbnRlbnRIYW5kbGUsXG4gICAgYWN0aXZlQ2xhc3MsXG4gIH0pIHtcbiAgICAvLyBFbGVtZW50cyBhbmQgY2xhc3MgdmFyaWFibGVzXG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgY29uc3Qgb3ZlcmxheSA9IGVsLnF1ZXJ5U2VsZWN0b3Iob3ZlcmxheUhhbmRsZSk7XG4gICAgY29uc3QgY29udGVudCA9IGVsLnF1ZXJ5U2VsZWN0b3IoY29udGVudEhhbmRsZSk7XG4gICAgY29uc3QgY2xvc2UgPSBlbC5xdWVyeVNlbGVjdG9yKGNsb3NlSGFuZGxlKTtcblxuICAgIC8vIEV2ZW50IGhhbmRsZXIgZnVuY3Rpb25zXG4gICAgZnVuY3Rpb24gaGFuZGxlS2V5dXAoZSkge1xuICAgICAgLy8gT25seSBjYXIgYWJvdXQgZXNjYXBlIGtleVxuICAgICAgaWYgKGUua2V5Q29kZSAhPT0gMjcpIHJldHVybjtcblxuICAgICAgZW1pdEV2ZW50KGV2ZW50cy5jbG9zZU1vZGFsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlT3Blbk1vZGFsKCkge1xuICAgICAgZW1pdEV2ZW50KGV2ZW50cy5sb2NrU2Nyb2xsKTtcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoYWN0aXZlQ2xhc3MpO1xuXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGhhbmRsZUtleXVwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlQ2xvc2VNb2RhbCgpIHtcbiAgICAgIGVtaXRFdmVudChldmVudHMudW5sb2NrU2Nyb2xsKTtcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoYWN0aXZlQ2xhc3MpO1xuXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIGhhbmRsZUtleXVwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlTG9hZE1vZGFsKGUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbWFya3VwLFxuICAgICAgICBmdWxsID0gJ2ZhbHNlJyxcbiAgICAgICAgcG9zaXRpb24gPSAnY2VudGVyJyxcbiAgICAgICAgc2l6ZSA9ICdsZycsXG4gICAgICB9ID0gZS5kZXRhaWw7XG5cbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1mdWxsJywgZnVsbCk7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcG9zaXRpb24nLCBwb3NpdGlvbik7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2l6ZScsIHNpemUpO1xuICAgICAgaW5qZWN0TWFya3VwKGNvbnRlbnQsIG1hcmt1cCk7XG4gICAgICBoYW5kbGVPcGVuTW9kYWwoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlQ2xpY2soZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBlbWl0RXZlbnQoZXZlbnRzLmNsb3NlTW9kYWwpO1xuICAgIH1cblxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnNcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMub3Blbk1vZGFsLCBoYW5kbGVPcGVuTW9kYWwpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5jbG9zZU1vZGFsLCBoYW5kbGVDbG9zZU1vZGFsKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMubG9hZE1vZGFsLCBoYW5kbGVMb2FkTW9kYWwpO1xuICAgIGNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2spO1xuICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDbGljayk7XG4gIH1cbn1cblxuIiwiZXhwb3J0IGNvbnN0IHNpdGVIYW5kbGUgPSAnd2lsbGlhbXNjb25jcmV0ZWNvbnRyYWN0aW5nJztcbiIsImltcG9ydCAnLi9wb2x5ZmlsbHMnO1xuXG4vLyBDb21wb25lbnRzXG5pbXBvcnQgTG9hZGVyIGZyb20gJy4vY29tcG9uZW50cy9sb2FkZXInO1xuaW1wb3J0IE1haW4gZnJvbSAnLi9jb21wb25lbnRzL21haW4nO1xuaW1wb3J0IE1vZGFsIGZyb20gJy4vY29tcG9uZW50cy9tb2RhbCc7XG5cbi8vIFV0aWxpdGllc1xuaW1wb3J0IHsgaW5zdGFudGlhdGUgfSBmcm9tICcuL3V0aWxpdGllcy9jb21wb25lbnRzJztcblxuLyogZXNsaW50LWRpc2FibGUgcXVvdGUtcHJvcHMgKi9cbmNvbnN0IGNsYXNzTWFwID0ge1xuICAnbG9hZGVyJzogTG9hZGVyLFxuICAnbWFpbic6IE1haW4sXG4gICdtb2RhbCc6IE1vZGFsLFxufTtcbi8qIGVzbGludC1lbmFibGUgcXVvdGUtcHJvcHMgKi9cblxuLy8gRXZlbnQgaGFuZGxlciBmdW5jdGlvbnNcbmZ1bmN0aW9uIGhhbmRsZURPTUNvbmVudExvYWRlZCgpIHtcbiAgLy8gQ2FsbCBjb21wb25lbnQgY29uc3RydWN0b3JzXG4gIGluc3RhbnRpYXRlKGNsYXNzTWFwKTtcbn1cblxuLy8gQWRkIGV2ZW50IGxpc3RlbmVyc1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGhhbmRsZURPTUNvbmVudExvYWRlZCk7XG5cbiIsImlmICghQXJyYXkucHJvdG90eXBlLmZpbmQpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ2ZpbmQnLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgaWYgKHRoaXMgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheS5wcm90b3R5cGUuZmluZCBjYWxsZWQgb24gbnVsbCBvciB1bmRlZmluZWQnKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcHJlZGljYXRlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ByZWRpY2F0ZSBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgIH1cbiAgICAgIHZhciBsaXN0ID0gT2JqZWN0KHRoaXMpO1xuICAgICAgdmFyIGxlbmd0aCA9IGxpc3QubGVuZ3RoID4+PiAwO1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHNbMV07XG4gICAgICB2YXIgdmFsdWU7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsdWUgPSBsaXN0W2ldO1xuICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwodGhpc0FyZywgdmFsdWUsIGksIGxpc3QpKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfSk7XG59XG4iLCJpZiAoIUFycmF5LnByb3RvdHlwZS5maW5kSW5kZXgpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ2ZpbmRJbmRleCcsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICAndXNlIHN0cmljdCc7XG4gICAgICBpZiAodGhpcyA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5LnByb3RvdHlwZS5maW5kSW5kZXggY2FsbGVkIG9uIG51bGwgb3IgdW5kZWZpbmVkJyk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwcmVkaWNhdGUgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICB9XG4gICAgICB2YXIgbGlzdCA9IE9iamVjdCh0aGlzKTtcbiAgICAgIHZhciBsZW5ndGggPSBsaXN0Lmxlbmd0aCA+Pj4gMDtcbiAgICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzWzFdO1xuICAgICAgdmFyIHZhbHVlO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlID0gbGlzdFtpXTtcbiAgICAgICAgaWYgKHByZWRpY2F0ZS5jYWxsKHRoaXNBcmcsIHZhbHVlLCBpLCBsaXN0KSkge1xuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KTtcbn1cblxuIiwiLy8gZnJvbTpodHRwczovL2dpdGh1Yi5jb20vanNlcnovanNfcGllY2UvYmxvYi9tYXN0ZXIvRE9NL0NoaWxkTm9kZS9yZW1vdmUoKS9yZW1vdmUoKS5tZFxuKGZ1bmN0aW9uIChhcnIpIHtcbiAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgncmVtb3ZlJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0ZW0sICdyZW1vdmUnLCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICB0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufSkoW0VsZW1lbnQucHJvdG90eXBlLCBDaGFyYWN0ZXJEYXRhLnByb3RvdHlwZSwgRG9jdW1lbnRUeXBlLnByb3RvdHlwZV0pO1xuXG4iLCJpZiAoIUFycmF5LmZyb20pIHtcbiAgQXJyYXkuZnJvbSA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRvU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbiAgICB2YXIgaXNDYWxsYWJsZSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyB8fCB0b1N0ci5jYWxsKGZuKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgICB9O1xuICAgIHZhciB0b0ludGVnZXIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHZhciBudW1iZXIgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgaWYgKGlzTmFOKG51bWJlcikpIHsgcmV0dXJuIDA7IH1cbiAgICAgIGlmIChudW1iZXIgPT09IDAgfHwgIWlzRmluaXRlKG51bWJlcikpIHsgcmV0dXJuIG51bWJlcjsgfVxuICAgICAgcmV0dXJuIChudW1iZXIgPiAwID8gMSA6IC0xKSAqIE1hdGguZmxvb3IoTWF0aC5hYnMobnVtYmVyKSk7XG4gICAgfTtcbiAgICB2YXIgbWF4U2FmZUludGVnZXIgPSBNYXRoLnBvdygyLCA1MykgLSAxO1xuICAgIHZhciB0b0xlbmd0aCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdmFyIGxlbiA9IHRvSW50ZWdlcih2YWx1ZSk7XG4gICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobGVuLCAwKSwgbWF4U2FmZUludGVnZXIpO1xuICAgIH07XG5cbiAgICAvLyBUaGUgbGVuZ3RoIHByb3BlcnR5IG9mIHRoZSBmcm9tIG1ldGhvZCBpcyAxLlxuICAgIHJldHVybiBmdW5jdGlvbiBmcm9tKGFycmF5TGlrZS8qLCBtYXBGbiwgdGhpc0FyZyAqLykge1xuICAgICAgLy8gMS4gTGV0IEMgYmUgdGhlIHRoaXMgdmFsdWUuXG4gICAgICB2YXIgQyA9IHRoaXM7XG5cbiAgICAgIC8vIDIuIExldCBpdGVtcyBiZSBUb09iamVjdChhcnJheUxpa2UpLlxuICAgICAgdmFyIGl0ZW1zID0gT2JqZWN0KGFycmF5TGlrZSk7XG5cbiAgICAgIC8vIDMuIFJldHVybklmQWJydXB0KGl0ZW1zKS5cbiAgICAgIGlmIChhcnJheUxpa2UgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJyYXkuZnJvbSByZXF1aXJlcyBhbiBhcnJheS1saWtlIG9iamVjdCAtIG5vdCBudWxsIG9yIHVuZGVmaW5lZFwiKTtcbiAgICAgIH1cblxuICAgICAgLy8gNC4gSWYgbWFwZm4gaXMgdW5kZWZpbmVkLCB0aGVuIGxldCBtYXBwaW5nIGJlIGZhbHNlLlxuICAgICAgdmFyIG1hcEZuID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB2b2lkIHVuZGVmaW5lZDtcbiAgICAgIHZhciBUO1xuICAgICAgaWYgKHR5cGVvZiBtYXBGbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gNS4gZWxzZVxuICAgICAgICAvLyA1LiBhIElmIElzQ2FsbGFibGUobWFwZm4pIGlzIGZhbHNlLCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXG4gICAgICAgIGlmICghaXNDYWxsYWJsZShtYXBGbikpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheS5mcm9tOiB3aGVuIHByb3ZpZGVkLCB0aGUgc2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gNS4gYi4gSWYgdGhpc0FyZyB3YXMgc3VwcGxpZWQsIGxldCBUIGJlIHRoaXNBcmc7IGVsc2UgbGV0IFQgYmUgdW5kZWZpbmVkLlxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICBUID0gYXJndW1lbnRzWzJdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIDEwLiBMZXQgbGVuVmFsdWUgYmUgR2V0KGl0ZW1zLCBcImxlbmd0aFwiKS5cbiAgICAgIC8vIDExLiBMZXQgbGVuIGJlIFRvTGVuZ3RoKGxlblZhbHVlKS5cbiAgICAgIHZhciBsZW4gPSB0b0xlbmd0aChpdGVtcy5sZW5ndGgpO1xuXG4gICAgICAvLyAxMy4gSWYgSXNDb25zdHJ1Y3RvcihDKSBpcyB0cnVlLCB0aGVuXG4gICAgICAvLyAxMy4gYS4gTGV0IEEgYmUgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSBbW0NvbnN0cnVjdF1dIGludGVybmFsIG1ldGhvZCBvZiBDIHdpdGggYW4gYXJndW1lbnQgbGlzdCBjb250YWluaW5nIHRoZSBzaW5nbGUgaXRlbSBsZW4uXG4gICAgICAvLyAxNC4gYS4gRWxzZSwgTGV0IEEgYmUgQXJyYXlDcmVhdGUobGVuKS5cbiAgICAgIHZhciBBID0gaXNDYWxsYWJsZShDKSA/IE9iamVjdChuZXcgQyhsZW4pKSA6IG5ldyBBcnJheShsZW4pO1xuXG4gICAgICAvLyAxNi4gTGV0IGsgYmUgMC5cbiAgICAgIHZhciBrID0gMDtcbiAgICAgIC8vIDE3LiBSZXBlYXQsIHdoaWxlIGsgPCBsZW7igKYgKGFsc28gc3RlcHMgYSAtIGgpXG4gICAgICB2YXIga1ZhbHVlO1xuICAgICAgd2hpbGUgKGsgPCBsZW4pIHtcbiAgICAgICAga1ZhbHVlID0gaXRlbXNba107XG4gICAgICAgIGlmIChtYXBGbikge1xuICAgICAgICAgIEFba10gPSB0eXBlb2YgVCA9PT0gJ3VuZGVmaW5lZCcgPyBtYXBGbihrVmFsdWUsIGspIDogbWFwRm4uY2FsbChULCBrVmFsdWUsIGspO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIEFba10gPSBrVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgayArPSAxO1xuICAgICAgfVxuICAgICAgLy8gMTguIExldCBwdXRTdGF0dXMgYmUgUHV0KEEsIFwibGVuZ3RoXCIsIGxlbiwgdHJ1ZSkuXG4gICAgICBBLmxlbmd0aCA9IGxlbjtcbiAgICAgIC8vIDIwLiBSZXR1cm4gQS5cbiAgICAgIHJldHVybiBBO1xuICAgIH07XG4gIH0oKSk7XG59XG5cbiIsIi8vIE92ZXJ3cml0ZXMgbmF0aXZlICdjaGlsZHJlbicgcHJvdG90eXBlLlxuLy8gQWRkcyBEb2N1bWVudCAmIERvY3VtZW50RnJhZ21lbnQgc3VwcG9ydCBmb3IgSUU5ICYgU2FmYXJpLlxuLy8gUmV0dXJucyBhcnJheSBpbnN0ZWFkIG9mIEhUTUxDb2xsZWN0aW9uLlxuOyhmdW5jdGlvbihjb25zdHJ1Y3Rvcikge1xuICBpZiAoY29uc3RydWN0b3IgJiZcbiAgICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgJiZcbiAgICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUuY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb25zdHJ1Y3Rvci5wcm90b3R5cGUsICdjaGlsZHJlbicsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpID0gMCwgbm9kZSwgbm9kZXMgPSB0aGlzLmNoaWxkTm9kZXMsIGNoaWxkcmVuID0gW107XG4gICAgICAgIHdoaWxlIChub2RlID0gbm9kZXNbaSsrXSkge1xuICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICBjaGlsZHJlbi5wdXNoKG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pKHdpbmRvdy5Ob2RlIHx8IHdpbmRvdy5FbGVtZW50KTtcbiIsImltcG9ydCAnY2xhc3NsaXN0LXBvbHlmaWxsJztcbmltcG9ydCAnaW50ZXJzZWN0aW9uLW9ic2VydmVyJztcbmltcG9ydCAnc3ZneHVzZSc7XG5pbXBvcnQgJy4vYXJyYXktZmluZCc7XG5pbXBvcnQgJy4vYXJyYXktZmluZGluZGV4JztcbmltcG9ydCAnLi9hcnJheS1mb3JlYWNoJztcbmltcG9ydCAnLi9hcnJheS1mcm9tJztcbmltcG9ydCAnLi9lbGVtZW50LWNoaWxkcmVuJztcbi8vIGltcG9ydCAnLi9lbGVtZW50LWNsYXNzbGlzdCc7XG5pbXBvcnQgJy4vb2JqZWN0LWFzc2lnbic7XG5pbXBvcnQgJy4vc3RyaW5nLWluY2x1ZGVzJztcbmltcG9ydCAnLi93aW5kb3ctY3VzdG9tZXZlbnQnO1xuaW1wb3J0ICcuL3dpbmRvdy1yZXF1ZXN0YW5pbWF0aW9uZnJhbWUnO1xuXG4iLCJpZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gIT0gJ2Z1bmN0aW9uJykge1xuICBPYmplY3QuYXNzaWduID0gZnVuY3Rpb24odGFyZ2V0LCB2YXJBcmdzKSB7IC8vIC5sZW5ndGggb2YgZnVuY3Rpb24gaXMgMlxuICAgICd1c2Ugc3RyaWN0JztcbiAgICBpZiAodGFyZ2V0ID09IG51bGwpIHsgLy8gVHlwZUVycm9yIGlmIHVuZGVmaW5lZCBvciBudWxsXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcbiAgICB9XG5cbiAgICB2YXIgdG8gPSBPYmplY3QodGFyZ2V0KTtcblxuICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG5cbiAgICAgIGlmIChuZXh0U291cmNlICE9IG51bGwpIHsgLy8gU2tpcCBvdmVyIGlmIHVuZGVmaW5lZCBvciBudWxsXG4gICAgICAgIGZvciAodmFyIG5leHRLZXkgaW4gbmV4dFNvdXJjZSkge1xuICAgICAgICAgIC8vIEF2b2lkIGJ1Z3Mgd2hlbiBoYXNPd25Qcm9wZXJ0eSBpcyBzaGFkb3dlZFxuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobmV4dFNvdXJjZSwgbmV4dEtleSkpIHtcbiAgICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRvO1xuICB9O1xufVxuXG4iLCJpZiAoIVN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMpIHtcbiAgU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uKHNlYXJjaCwgc3RhcnQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgaWYgKHR5cGVvZiBzdGFydCAhPT0gJ251bWJlcicpIHtcbiAgICAgIHN0YXJ0ID0gMDtcbiAgICB9XG4gICAgXG4gICAgaWYgKHN0YXJ0ICsgc2VhcmNoLmxlbmd0aCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGV4T2Yoc2VhcmNoLCBzdGFydCkgIT09IC0xO1xuICAgIH1cbiAgfTtcbn1cblxuIiwiKGZ1bmN0aW9uICgpIHtcblxuICBpZiAoIHR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQgPT09IFwiZnVuY3Rpb25cIiApIHJldHVybiBmYWxzZTtcblxuICBmdW5jdGlvbiBDdXN0b21FdmVudCAoIGV2ZW50LCBwYXJhbXMgKSB7XG4gICAgcGFyYW1zID0gcGFyYW1zIHx8IHsgYnViYmxlczogZmFsc2UsIGNhbmNlbGFibGU6IGZhbHNlLCBkZXRhaWw6IHVuZGVmaW5lZCB9O1xuICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCggJ0N1c3RvbUV2ZW50JyApO1xuICAgIGV2dC5pbml0Q3VzdG9tRXZlbnQoIGV2ZW50LCBwYXJhbXMuYnViYmxlcywgcGFyYW1zLmNhbmNlbGFibGUsIHBhcmFtcy5kZXRhaWwgKTtcbiAgICByZXR1cm4gZXZ0O1xuICAgfVxuXG4gIEN1c3RvbUV2ZW50LnByb3RvdHlwZSA9IHdpbmRvdy5FdmVudC5wcm90b3R5cGU7XG5cbiAgd2luZG93LkN1c3RvbUV2ZW50ID0gQ3VzdG9tRXZlbnQ7XG59KSgpO1xuXG4iLCIvLyBodHRwOi8vcGF1bGlyaXNoLmNvbS8yMDExL3JlcXVlc3RhbmltYXRpb25mcmFtZS1mb3Itc21hcnQtYW5pbWF0aW5nL1xuLy8gaHR0cDovL215Lm9wZXJhLmNvbS9lbW9sbGVyL2Jsb2cvMjAxMS8xMi8yMC9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWVyLWFuaW1hdGluZ1xuLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHBvbHlmaWxsIGJ5IEVyaWsgTcO2bGxlci4gZml4ZXMgZnJvbSBQYXVsIElyaXNoIGFuZCBUaW5vIFppamRlbFxuLy8gTUlUIGxpY2Vuc2VcbihmdW5jdGlvbigpIHtcbiAgdmFyIGxhc3RUaW1lID0gMDtcbiAgdmFyIHZlbmRvcnMgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddO1xuICBmb3IodmFyIHggPSAwOyB4IDwgdmVuZG9ycy5sZW5ndGggJiYgIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7ICsreCkge1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3dbdmVuZG9yc1t4XSsnUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gd2luZG93W3ZlbmRvcnNbeF0rJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJ11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB3aW5kb3dbdmVuZG9yc1t4XSsnQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG4gIH1cblxuICBpZiAoIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uKGNhbGxiYWNrLCBlbGVtZW50KSB7XG4gICAgICB2YXIgY3VyclRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgIHZhciB0aW1lVG9DYWxsID0gTWF0aC5tYXgoMCwgMTYgLSAoY3VyclRpbWUgLSBsYXN0VGltZSkpO1xuICAgICAgdmFyIGlkID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGNhbGxiYWNrKGN1cnJUaW1lICsgdGltZVRvQ2FsbCk7IH0sIHRpbWVUb0NhbGwpO1xuICAgICAgbGFzdFRpbWUgPSBjdXJyVGltZSArIHRpbWVUb0NhbGw7XG4gICAgICByZXR1cm4gaWQ7XG4gICAgfTtcblxuICBpZiAoIXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSlcbiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbihpZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgICB9O1xufSgpKTtcblxuIiwiLy8gQ29uZmlnXG5pbXBvcnQgeyBzaXRlSGFuZGxlIH0gZnJvbSAnLi4vY29uZmlnJztcblxuLy8gVXRpbGl0aWVzXG5pbXBvcnQgeyBzcHlTZWN0aW9ucywgc3RpY2sgfSBmcm9tICcuL3NweSc7XG5cbmxldCBfY2xhc3NNYXAgPSBudWxsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVyc2NvcmUtZGFuZ2xlXG5cbi8qKlxuICogSW5zdGFudGlhdGUgYW55IGNvbXBvbmVudHMgcHVzaGVkIG9udG8gZ2xvYmFsIGNvbXBvbmVudHMgYXJyYXlcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnN0YW50aWF0ZShtYXAgPSBudWxsKSB7XG4gIGlmIChtYXAgIT09IG51bGwpIHtcbiAgICBfY2xhc3NNYXAgPSBtYXA7XG4gIH1cblxuICBpZiAoX2NsYXNzTWFwID09PSBudWxsKSByZXR1cm47XG5cbiAgd2hpbGUgKHdpbmRvd1tzaXRlSGFuZGxlXS5jb21wb25lbnRzLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCB7IGNvbXBvbmVudHMsIHN0YXRlIH0gPSB3aW5kb3dbc2l0ZUhhbmRsZV07XG4gICAgY29uc3QgY29uZmlnID0gY29tcG9uZW50cy5zaGlmdCgpO1xuICAgIGNvbnN0IENsYXNzID0gX2NsYXNzTWFwW2NvbmZpZy5oYW5kbGVdO1xuXG4gICAgaWYgKHR5cGVvZiBDbGFzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgbmV3IENsYXNzKHsgLi4uY29uZmlnLCBzdGF0ZSB9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICB9XG4gIH1cblxuICBzcHlTZWN0aW9ucygpO1xuICBzdGljaygpO1xufVxuXG4vKipcbiAqIEluamVjdCBuZXcgbWFya3VwIGludG8gRE9NIGFmdGVyIGFkZGluZyBjb25maWdzIHRvIGdsb2JhbFxuICogY29tcG9uZW50cyBhcnJheSB0aGVuIGluc3RhbnRpYXRlIG5ld2x5IGFkZGVkIGNvbXBvbmVudHNcbiAqIEBwYXJhbSB7bm9kZX0gY29udGFpbmVyXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFya3VwXG4gKiBAcGFyYW0ge2Jvb2x9IGFwcGVuZFxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluamVjdE1hcmt1cChjb250YWluZXIgPSBudWxsLCBtYXJrdXAgPSAnJywgYXBwZW5kID0gZmFsc2UpIHtcbiAgaWYgKCFjb250YWluZXIpIHJldHVybjtcblxuICAvLyBBZGQgbWFya3VwIHRvIGNvbnRhaW5lclxuICBpZiAoYXBwZW5kKSB7XG4gICAgY29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgbWFya3VwKTtcbiAgfSBlbHNlIHtcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gbWFya3VwO1xuICB9XG5cbiAgLy8gUHVzaCBjb21wb25lbnRzIGNvbmZpZ3MgdG8gZ2xvYmFsIG9iamVjdFxuICBjb25zdCBzY3JpcHRzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NjcmlwdCcpO1xuXG4gIC8vIEV2YWx1YXRlIHNjcmlwdHMgcmV0dXJuZWQgZnJvbSBjb21wb25lbnQgbWFya3VwIGlmIGZvciBuZXcgY29tcG9uZW50XG4gIEFycmF5LmZyb20oc2NyaXB0cylcbiAgICAuZmlsdGVyKHNjcmlwdCA9PiBzY3JpcHQudGV4dENvbnRlbnQuaW5jbHVkZXMoYCR7c2l0ZUhhbmRsZX1gKSlcbiAgICAuZm9yRWFjaChzY3JpcHQgPT4geyBldmFsKHNjcmlwdC50ZXh0Q29udGVudCk7IH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWV2YWxcblxuICAvLyBJbnN0YW50aWF0ZSBjb21wb25lbnRzXG4gIGluc3RhbnRpYXRlKCk7XG59XG5cbiIsImV4cG9ydCBjb25zdCBldmVudHMgPSB7XG4gIC8vIEFjdGlvbiBldmVudHNcbiAgbG9ja1Njcm9sbDogJ2xvY2stc2Nyb2xsJyxcbiAgdW5sb2NrU2Nyb2xsOiAndW5sb2NrLXNjcm9sbCcsXG4gIGxvYWRSb3V0ZTogJ2xvYWQtcm91dGUnLFxuICB1bmxvYWRSb3V0ZTogJ3VubG9hZC1yb3V0ZScsXG4gIHNob3dIZWFkZXI6ICdzaG93LWhlYWRlcicsXG4gIGhpZGVIZWFkZXI6ICdoaWRlLWhlYWRlcicsXG4gIG9wZW5Nb2RhbDogJ29wZW4tbW9kYWwnLFxuICBjbG9zZU1vZGFsOiAnY2xvc2UtbW9kYWwnLFxuICBsb2FkTW9kYWw6ICdsb2FkLW1vZGFsJyxcbiAgc3RhcnRMb2FkZXI6ICdzdGFydC1sb2FkZXInLFxuICBzdG9wTG9hZGVyOiAnc3RvcC1sb2FkZXInLFxuICBzaG93Rm9ybUVycm9yczogJ3Nob3ctZm9ybS1lcnJvcnMnLFxufTtcblxuLyoqXG4gKiBFbWl0IGV2ZW50IC0gd3JhcHBlciBhcm91bmQgQ3VzdG9tRXZlbnQgQVBJXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRIYW5kbGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBldmVudERldGFpbHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVtaXRFdmVudChldmVudEhhbmRsZSwgZXZlbnREZXRhaWxzKSB7XG4gIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KGV2ZW50SGFuZGxlLCB7IGRldGFpbDogZXZlbnREZXRhaWxzIH0pO1xuXG4gIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn1cblxuIiwiLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCBhcyBsb25nIGFzIGl0IGNvbnRpbnVlcyB0byBiZSBpbnZva2VkLCB3aWxsIG5vdFxuLy8gYmUgdHJpZ2dlcmVkLiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgaXQgc3RvcHMgYmVpbmcgY2FsbGVkIGZvclxuLy8gTiBtaWxsaXNlY29uZHMuIElmIGBpbW1lZGlhdGVgIGlzIHBhc3NlZCwgdHJpZ2dlciB0aGUgZnVuY3Rpb24gb24gdGhlXG4vLyBsZWFkaW5nIGVkZ2UsIGluc3RlYWQgb2YgdGhlIHRyYWlsaW5nLlxuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGZ1bmMsIHdhaXQgPSAwLCBpbW1lZGlhdGUpIHtcbiAgbGV0IHRpbWVvdXQ7XG4gIHJldHVybiBmdW5jdGlvbiB0cm90dGxlKCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzO1xuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgY29uc3QgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcbiAgICBmdW5jdGlvbiBsYXRlcigpIHtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgaWYgKCFpbW1lZGlhdGUpIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgfTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICAgIGlmIChjYWxsTm93KSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICB9O1xufVxuLyogZXNsaW50LWVuYWJsZSAqL1xuXG4iLCIvKipcbiAqIExpYnJhcnkgZm9yIGhhbmRsaW5nIHNjcm9sbGluZyBmdW5jdGlvbmFsaXR5XG4gKi9cblxuY29uc3QgU0NST0xMX1JBVEUgPSAxIC8gMTA7XG5jb25zdCBGQVNUX1NDUk9MTF9SQVRFID0gMSAvIDI7XG5cbmxldCB0aW1lciA9IDA7XG5sZXQgdGltZXJGdW5jdGlvbiA9IG51bGw7XG5cbmZ1bmN0aW9uIHNjcm9sbCh0YXJnZXQsIGNiLCBmYXN0ID0gZmFsc2UpIHtcbiAgLy8gTG9ncml0aG1pYyBzY3JvbGwgcmF0ZSAoaGlnaGVyIHNjcm9sbHMgZmFzdGVyKVxuICBjb25zdCBzY3JvbGxSYXRlID0gZmFzdCA/IEZBU1RfU0NST0xMX1JBVEUgOiBTQ1JPTExfUkFURTtcbiAgLy8gQ3VycmVudCBzY3JvbGwgcG9zaXRpb25cbiAgY29uc3QgY3VycmVudCA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgLy8gU2V0IGZsYWcgZm9yIHNjcm9sbCBkaXJlY3Rpb25cbiAgY29uc3QgZG93biA9IGN1cnJlbnQgPCB0YXJnZXQ7XG4gIC8vIFNldCBzdGVwIGJhc2VkIG9uIHNjcm9sbCByYXRlXG4gIGNvbnN0IHN0ZXAgPSAoTWF0aC5hYnMoY3VycmVudCAtIHRhcmdldCkgKiBzY3JvbGxSYXRlKSArIDE7XG4gIC8vIFNldCBuZXh0IHBvc2l0aW9uIGJhc2VkIG9uIHNjcm9sbCBkaXJlY3Rpb25cbiAgY29uc3QgbmV4dCA9IGRvd24gPyBjdXJyZW50ICsgc3RlcCA6IGN1cnJlbnQgLSBzdGVwO1xuICAvLyBTZXQgcGFzdCBmbGFnIGJhc2VkIG9uIHNjcm9sbCBkaXJlY3Rpb25cbiAgY29uc3QgaXNQYXN0ID0gZG93biA/IG5leHQgPj0gdGFyZ2V0IDogbmV4dCA8PSB0YXJnZXQ7XG4gIC8vIFNldCBmbGFnIHRvIGNoZWNrIGlmIGF0IGJvdHRvbSBvZiB3aW5kb3cgZm9yIHNjcm9sbGluZyBkb3duXG4gIGNvbnN0IHRvbGVyYW5jZSA9IDU7XG4gIGNvbnN0IGF0Qm90dG9tID0gZG93blxuICAgID8gKHdpbmRvdy5pbm5lckhlaWdodCArIHdpbmRvdy5wYWdlWU9mZnNldCArIHRvbGVyYW5jZSkgPj0gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHRcbiAgICA6IGZhbHNlO1xuXG4gIC8vIFNjcm9sbCB0byBuZXh0IHBvc2l0aW9uXG4gIHdpbmRvdy5zY3JvbGxUbygwLCBuZXh0KTtcblxuICBpZiAoIWlzUGFzdCAmJiAhYXRCb3R0b20gJiYgdGltZXIpIHtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHNjcm9sbCh0YXJnZXQsIGNiKSk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY2IpIGNiKCk7XG59XG5cbi8qKlxuICogU3RvcCByZXF1ZXN0aW5nIGFuaW1hdGlvbiBmcmFtZXMgYWZ0ZXIgcnVubmluZyBmb3IgbiBzZWNvbmRzXG4gKiBUaGlzIGZpeGVzIGNhc2Ugb2Ygc2Nyb2xsIGZ1bmN0aW9uIG5ldmVyIGZpbmlzaGluZyBpZiBjYWxsZWQgdHdpY2UgYmVmb3JlIHRoZSBmaXJzdCBmaW5pc2hlc1xuICovXG5mdW5jdGlvbiBzZXRUaW1lcigpIHtcbiAgdGltZXIgPSAxO1xuICB0aW1lckZ1bmN0aW9uID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgdGltZXIgPSAwO1xuICB9LCAyNTAwKTtcbn1cblxuLyoqXG4gKiBTY3JvbGwgdG8gZWxlbWVudCBzcGVjaWZpZWQgYnkgaWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBhbmNob3IgLSBlbGVtZW50IGlkXG4gKiBAcGFyYW0ge2ludH0gb2Zmc2V0XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbFRvKGFuY2hvciwgb2Zmc2V0ID0gMCwgY2IgPSBudWxsKSB7XG4gIC8vIEdldCBlbGVtZW50IHRvIHNjcm9sbFxuICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFuY2hvcik7XG4gIC8vIEdldCBwb3NpdGlvbiBvZiBlbGVtZW50XG4gIGNvbnN0IHRvcCA9IChlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQpIC0gb2Zmc2V0O1xuXG4gIGNsZWFyVGltZW91dCh0aW1lckZ1bmN0aW9uKTtcbiAgc2V0VGltZXIoKTtcbiAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBzY3JvbGwodG9wLCBjYikpO1xuXG4gIC8vIFVwZGF0ZSBVUkwgaGFzaFxuICBpZiAod2luZG93Lmhpc3RvcnkgJiYgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKSB7XG4gICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHdpbmRvdy5oaXN0b3J5LnN0YXRlLCBudWxsLCBgIyR7YW5jaG9yfWApO1xuICB9IGVsc2Uge1xuICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gYCMke2FuY2hvcn1gO1xuICB9XG59XG5cbi8qKlxuICogU2Nyb2xsIHRvIHRvcCBvZiBlbGVtZW50XG4gKiBAcGFyYW0ge25vZGV9IGVsZW1lbnRcbiAqIEBwYXJhbSB7aW50fSBvZmZzZXRcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2Nyb2xsVG9wKGVsID0gZG9jdW1lbnQuYm9keSwgb2Zmc2V0ID0gMCwgY2IgPSBudWxsLCBmYXN0ID0gZmFsc2UpIHtcbiAgLy8gR2V0IHRvcCBwb3NpdGlvbiBvZiBlbGVtZW50XG4gIGNvbnN0IHRvcCA9IChlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQpIC0gb2Zmc2V0O1xuXG4gIGNsZWFyVGltZW91dCh0aW1lckZ1bmN0aW9uKTtcbiAgc2V0VGltZXIoKTtcbiAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBzY3JvbGwodG9wLCBjYiwgZmFzdCkpO1xufVxuXG4vKipcbiAqIFNjcm9sbCB0byBib3R0b20gb2YgZWxlbWVudFxuICogQHBhcmFtIHtub2RlfSBlbGVtZW50XG4gKiBAcGFyYW0ge2ludH0gb2Zmc2V0XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbEJvdHRvbShlbCA9IGRvY3VtZW50LmJvZHksIG9mZnNldCA9IDAsIGNiID0gbnVsbCkge1xuICAvLyBHZXQgYm90dG9tIHBvc2l0aW9uIG9mIGVsZW1lbnRcbiAgY29uc3QgYm90dG9tID0gKGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIGVsLm9mZnNldEhlaWdodCArIHdpbmRvdy5wYWdlWU9mZnNldCkgLSBvZmZzZXQ7XG5cbiAgY2xlYXJUaW1lb3V0KHRpbWVyRnVuY3Rpb24pO1xuICBzZXRUaW1lcigpO1xuICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHNjcm9sbChib3R0b20sIGNiKSk7XG59XG5cbiIsImltcG9ydCBTdGlja3lGaWxsIGZyb20gJ3N0aWNreWZpbGxqcyc7XG5pbXBvcnQgZGVib3VuY2UgZnJvbSAnLi4vdXRpbGl0aWVzL2RlYm91bmNlcic7XG5cbi8qKlxuICogU3B5IHNlY3Rpb25zIGFuZCBhZGQgY2xhc3Mgd2hlbiBpbiB2aWV3XG4gKiBAcGFyYW0ge3N0cmluZ30gc2VjdGlvbkhhbmRsZVxuICogQHBhcmFtIHtzdHJpbmd9IGluVmlld0NsYXNzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcHlTZWN0aW9ucyhzZWN0aW9uSGFuZGxlID0gJy5zcHknLCBpblZpZXdDbGFzcyA9ICdpbi12aWV3Jykge1xuICBjb25zdCBzZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VjdGlvbkhhbmRsZSk7XG5cbiAgLy8gRXZlbnQgaGFuZGxlciBmdW5jdGlvbnNcbiAgZnVuY3Rpb24gaGFuZGxlU2Nyb2xsKGVudHJpZXMsIG9ic2VydmVyKSB7XG4gICAgaWYgKGVudHJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfVxuXG4gICAgQXJyYXkuZnJvbShlbnRyaWVzKVxuICAgICAgLmZpbHRlcihlbnRyeSA9PiAoXG4gICAgICAgIGVudHJ5LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoaW5WaWV3Q2xhc3MpXG4gICAgICAgIHx8IGVudHJ5LmludGVyc2VjdGlvblJhdGlvID4gKGVudHJ5LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGhyZXNob2xkJykgfHwgMC41KVxuICAgICAgKSlcbiAgICAgIC5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoaW5WaWV3Q2xhc3MpO1xuICAgICAgICBvYnNlcnZlci51bm9ic2VydmUoZW50cnkudGFyZ2V0KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZVxuICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihoYW5kbGVTY3JvbGwsIHtcbiAgICAvLyBDYWxsIGF0IG11bHRpcGxlIHRocmVzaG9sZHMgdG8gYWxsb3cgZm9yIGN1c3RvbWl6YXRpb24gdmlhIGRhdGEgYXR0cmlidXRlXG4gICAgdGhyZXNob2xkOiBbMCwgMC4yNSwgMC41LCAwLjc1LCAxXSxcbiAgfSk7XG4gIEFycmF5LmZyb20oc2VjdGlvbnMpLmZvckVhY2goc2VjdGlvbiA9PiB7IG9ic2VydmVyLm9ic2VydmUoc2VjdGlvbik7IH0pO1xufVxuXG4vKipcbiAqIFNweSBzZWN0aW9uIGFuZCBzZXQgY29ycmVzcG9uZCBsaW5rIHRvIGFjdGl2ZVxuICogQHBhcmFtIHtvYmplY3R9XG4gKiB8X0BwYXJhbSB7bm9kZUxpc3R9IGxpbmtzXG4gKiB8X0BwYXJhbSB7bm9kZUxpc3R9IGxpbmtzXG4gKiB8X0BwYXJhbSB7c3RyaW5nfSBhY3RpdmVDbGFzc1xuICogfF9AcGFyYW0ge2Zsb2F0fSB0aHJlc2hvbGRcbiAqIHxfQHBhcmFtIHtmdW5jdGlvbn0gY2JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNweUFuY2hvcnMoe1xuICBsaW5rcyA9IFtdLFxuICBzZWN0aW9ucyA9IFtdLFxuICBhY3RpdmVDbGFzcyA9ICdpcy1hY3RpdmUnLFxuICB0aHJlc2hvbGQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyLFxuICBzY3JvbGxDb250YWluZXIgPSB3aW5kb3csXG4gIGNiID0gbnVsbCxcbn0pIHtcbiAgaWYgKCFzZWN0aW9ucykgcmV0dXJuO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZVNjcm9sbCgpIHtcbiAgICBBcnJheS5mcm9tKHNlY3Rpb25zKS5mb3JFYWNoKChzZWN0aW9uLCBpKSA9PiB7XG4gICAgICBjb25zdCByZWN0ID0gc2VjdGlvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgaWYgKHJlY3QudG9wID4gdGhyZXNob2xkIHx8IHJlY3QuYm90dG9tIDwgdGhyZXNob2xkKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IGFjdGl2ZUFuY2hvcnMgPSBBcnJheS5mcm9tKGxpbmtzKVxuICAgICAgICAuZmlsdGVyKChsaW5rLCBpaSkgPT4gbGluay5jbGFzc0xpc3QudG9nZ2xlKGFjdGl2ZUNsYXNzLCBpID09PSBpaSkpO1xuXG4gICAgICBpZiAoIWNiKSByZXR1cm47XG5cbiAgICAgIGNiKGFjdGl2ZUFuY2hvcnNbMF0pO1xuICAgIH0pO1xuICB9XG5cbiAgc2Nyb2xsQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbCk7XG59XG5cbi8qKlxuICogU3B5IHNlY3Rpb24gYW5kIHNldCBjb3JyZXNwb25kIGxpbmsgdG8gYWN0aXZlXG4gKiBAcGFyYW0ge29iamVjdH1cbiAqIHxfQHBhcmFtIHtub2RlfSBlbCAtIHRoZSBET00gZWxlbWVudCB0byB3YXRjaFxuICogfF9AcGFyYW0ge3N0cmluZ30gZml4ZWRDbGFzc1xuICogfF9AcGFyYW0ge2Zsb2F0fSB0aHJlc2hvbGRcbiAqIHxfQHBhcmFtIHtmdW5jdGlvbn0gY2JcbiAqICAgfF9AcGFyYW0ge2Jvb2x9IGZpeGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcHlOYXYoe1xuICBlbCxcbiAgbmF2ID0gZWwsXG4gIGZpeGVkQ2xhc3MgPSAnaXMtZml4ZWQnLFxuICB0aHJlc2hvbGQgPSAxLFxuICBjYixcbn0pIHtcbiAgY29uc3QgZGVsdGEgPSA1O1xuXG4gIC8vIFN0YXRlIHZhcmlhYmxlc1xuICBsZXQgZW5hYmxlZCA9IGZhbHNlO1xuICBsZXQgbGFzdFkgPSAwO1xuXG4gIC8vIEV2ZW50IGhhbmRsZXIgZnVuY3Rpb25zXG4gIGNvbnN0IGhhbmRsZVNjcm9sbCA9IGRlYm91bmNlKCgpID0+IHtcbiAgICAvLyBPbmx5IHBlZWsgaGVhZGVyIGlmIG5hdiB0byBzcHkgaXMgZml4ZWQvZW5hYmxlZFxuICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgbGFzdFkgPSAwO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdGhpc1kgPSB3aW5kb3cucGFnZVlPZmZzZXQ7XG5cbiAgICAvLyBBZGQgZGVsdGEgZm9yIHNlbnNpdGl2aXR5IHRocmVzaG9sZFxuICAgIGlmIChNYXRoLmFicyh0aGlzWSAtIGxhc3RZKSA8IGRlbHRhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2IodGhpc1kgPiBsYXN0WSk7XG5cbiAgICBsYXN0WSA9IHRoaXNZO1xuICB9LCAyNTApO1xuICBmdW5jdGlvbiBoYW5kbGVGaXhPYnNlcnZlcihlbnRyaWVzKSB7XG4gICAgLy8gVG9nZ2xlIGVuYWJsZWQgc3RhdGUgdmFyaWFibGUgdG8gY29uZGl0aW9uYWxseSBwcm9jZXNzIGhlYWRlciBwZWVrIG9uIHNjcm9sbCB1cFxuICAgIGVuYWJsZWQgPSBlbC5jbGFzc0xpc3QudG9nZ2xlKGZpeGVkQ2xhc3MsIGVudHJpZXNbMF0uYm91bmRpbmdDbGllbnRSZWN0LnRvcCA8IDApO1xuXG4gICAgY2IoZW5hYmxlZCk7XG4gIH1cblxuICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVTY3JvbGwpO1xuICBjb25zdCBmaXhPYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihoYW5kbGVGaXhPYnNlcnZlciwgeyB0aHJlc2hvbGQgfSk7XG4gIGZpeE9ic2VydmVyLm9ic2VydmUobmF2KTtcbn1cblxuLyoqXG4gKiBQb2x5ZmlsbCBhbmQgcG9zaXRpb24gc3RpY2t5IGVsZW1lbnRzIGJhc2VkIG9uIGRhdGEgYXR0cmlidXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGljaygpIHtcbiAgY29uc3Qgc3RpY2tpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zdGlja3k9XCJ0cnVlXCJdJyk7XG5cbiAgQXJyYXkuZnJvbShzdGlja2llcylcbiAgICAvLyBPbmx5IHN0aWNrIGVsZW1lbnRzIHRoYXQgaGF2ZSBub3QgYmVlbiBzdHVja1xuICAgIC5maWx0ZXIoc3RpY2t5ID0+ICFzdGlja3kuZ2V0QXR0cmlidXRlKCdkYXRhLXN0dWNrJykpXG4gICAgLy8gQXBwbHkgcG9seWZpbGwgc2NyaXB0IGZvciBJRSBhbmQgYWRkIHN0dWNrIGRhdGEgYXR0cmlidXRlXG4gICAgLmZvckVhY2goc3RpY2t5ID0+IHtcbiAgICAgIFN0aWNreUZpbGwuYWRkT25lKHN0aWNreSk7XG5cbiAgICAgIHN0aWNreS5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3R1Y2snLCB0cnVlKTtcbiAgICB9KTtcbn1cbiJdfQ==
