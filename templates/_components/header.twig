{##
 # Header component
 # @global {GlobalSet} gHeader
 #}

{# Variables #}
{% set handle = 'header' %}
{% set activeClass = 'is-active' %}

{% set links = [
    { url: '', title: 'Overview' },
    { url: 'services', title: 'Services' },
    { url: 'projects', title: 'Projects' },
    { url: 'about', title: 'About Us' },
    { url: 'contact', title: 'Contact' },
] %}

{# Markup #}
<div class="{{ handle }}">
    <a href="/" title="Home">
        {% include '_components/icon' with { icon: 'logo' } %}
    </a>
    <input type="checkbox" id="nav-toggle" style="display:none" />
    <label for="nav-toggle">
        <span>Menu</span>
        <span>Close</span>
    </label>
    <nav>
        {% for link in links %}
            {% set isActive = link.url in craft.app.request.pathInfo %}
            {% if link.url is empty and craft.app.request.pathInfo is not empty %}
                {% set isActive = false %}
            {% endif %}

            <a
                href="{{ siteUrl(link.url) }}"
                title="{{ link.title }}"
                {% if isActive %}
                    class="{{ activeClass }}"
                {% endif %}
            >
                {{ link.title }}
                {% if loop.last %}
                    {% include '_components/icon' with { icon: 'arrow-right' } %}
                {% endif %}
            </a>
        {% endfor %}
    </nav>
    <footer>
        Williams Concrete offers turn-key concrete packages to meet any commercial need.
    </footer>
</div>
